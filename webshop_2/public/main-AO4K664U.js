import{A as Mo,B as D_,C as b_,D as N,E as Ye,F as Ce,G as ld,H as w_,I as No,J as Ue,K as tn,L as Da,M as cd,N as C_,O as Yi,P as Ao,Q as E_,R as I_,S as Tn,T as He,a as y,b as U,c as Qe,d as c_,e as ma,f as u_,g as d_,h as v,i as Qi,j as _a,k as h_,l as f_,m as Te,n as p_,o as ad,p as g_,q as Ft,r as m_,s as __,t as va,u as ve,v as v_,w as y_,x as ut,y as Sn,z as ya}from"./chunk-GSGJEBQA.js";function S_(e,t){return Object.is(e,t)}var Ee=null,ba=!1,wa=1,nn=Symbol("SIGNAL");function Q(e){let t=Ee;return Ee=e,t}function T_(){return Ee}var Oo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hd(e){if(ba)throw new Error("");if(Ee===null)return;Ee.consumerOnSignalRead(e);let t=Ee.nextProducerIndex++;if(Sa(Ee),t<Ee.producerNode.length&&Ee.producerNode[t]!==e&&Ro(Ee)){let n=Ee.producerNode[t];Ia(n,Ee.producerIndexOfThis[t])}Ee.producerNode[t]!==e&&(Ee.producerNode[t]=e,Ee.producerIndexOfThis[t]=Ro(Ee)?R_(e,Ee,t):0),Ee.producerLastReadVersion[t]=e.version}function k1(){wa++}function M_(e){if(!(Ro(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===wa)){if(!e.producerMustRecompute(e)&&!pd(e)){e.dirty=!1,e.lastCleanEpoch=wa;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=wa}}function N_(e){if(e.liveConsumerNode===void 0)return;let t=ba;ba=!0;try{for(let n of e.liveConsumerNode)n.dirty||F1(n)}finally{ba=t}}function A_(){return Ee?.consumerAllowSignalWrites!==!1}function F1(e){e.dirty=!0,N_(e),e.consumerMarkedDirty?.(e)}function Ea(e){return e&&(e.nextProducerIndex=0),Q(e)}function fd(e,t){if(Q(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ro(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ia(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function pd(e){Sa(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(M_(n),i!==n.version))return!0}return!1}function gd(e){if(Sa(e),Ro(e))for(let t=0;t<e.producerNode.length;t++)Ia(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function R_(e,t,n){if(O_(e),e.liveConsumerNode.length===0&&x_(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=R_(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ia(e,t){if(O_(e),e.liveConsumerNode.length===1&&x_(e))for(let i=0;i<e.producerNode.length;i++)Ia(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Sa(r),r.producerIndexOfThis[i]=t}}function Ro(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Sa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function O_(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function x_(e){return e.producerNode!==void 0}function P_(e){let t=Object.create(L1);t.computation=e;let n=()=>{if(M_(t),hd(t),t.value===Ca)throw t.error;return t.value};return n[nn]=t,n}var ud=Symbol("UNSET"),dd=Symbol("COMPUTING"),Ca=Symbol("ERRORED"),L1=U(y({},Oo),{value:ud,dirty:!0,error:null,equal:S_,producerMustRecompute(e){return e.value===ud||e.value===dd},producerRecomputeValue(e){if(e.value===dd)throw new Error("Detected cycle in computations.");let t=e.value;e.value=dd;let n=Ea(e),i;try{i=e.computation()}catch(r){i=Ca,e.error=r}finally{fd(e,n)}if(t!==ud&&t!==Ca&&i!==Ca&&e.equal(t,i)){e.value=t;return}e.value=i,e.version++}});function V1(){throw new Error}var k_=V1;function F_(){k_()}function L_(e){k_=e}var B1=null;function V_(e){let t=Object.create(j_);t.value=e;let n=()=>(hd(t),t.value);return n[nn]=t,n}function md(e,t){A_()||F_(),e.equal(e.value,t)||(e.value=t,j1(e))}function B_(e,t){A_()||F_(),md(e,t(e.value))}var j_=U(y({},Oo),{equal:S_,value:void 0});function j1(e){e.version++,k1(),N_(e),B1?.()}function M(e){return typeof e=="function"}function Zi(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ta=Zi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ui(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var pe=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(M(i))try{i()}catch(o){t=o instanceof Ta?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{U_(o)}catch(s){t=t??[],s instanceof Ta?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ta(t)}}add(t){var n;if(t&&t!==this)if(this.closed)U_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ui(n,t)}remove(t){let{_finalizers:n}=this;n&&ui(n,t),t instanceof e&&t._removeParent(this)}};pe.EMPTY=(()=>{let e=new pe;return e.closed=!0,e})();var _d=pe.EMPTY;function Ma(e){return e instanceof pe||e&&"closed"in e&&M(e.remove)&&M(e.add)&&M(e.unsubscribe)}function U_(e){M(e)?e():e.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ji={setTimeout(e,t,...n){let{delegate:i}=Ji;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Ji;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Na(e){Ji.setTimeout(()=>{let{onUnhandledError:t}=Et;if(t)t(e);else throw e})}function di(){}var H_=vd("C",void 0,void 0);function $_(e){return vd("E",void 0,e)}function G_(e){return vd("N",e,void 0)}function vd(e,t,n){return{kind:e,value:t,error:n}}var hi=null;function Xi(e){if(Et.useDeprecatedSynchronousErrorHandling){let t=!hi;if(t&&(hi={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=hi;if(hi=null,n)throw i}}else e()}function W_(e){Et.useDeprecatedSynchronousErrorHandling&&hi&&(hi.errorThrown=!0,hi.error=e)}var fi=class extends pe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ma(t)&&t.add(this)):this.destination=$1}static create(t,n,i){return new rn(t,n,i)}next(t){this.isStopped?Dd(G_(t),this):this._next(t)}error(t){this.isStopped?Dd($_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Dd(H_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},U1=Function.prototype.bind;function yd(e,t){return U1.call(e,t)}var bd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Aa(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Aa(i)}else Aa(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Aa(n)}}},rn=class extends fi{constructor(t,n,i){super();let r;if(M(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Et.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&yd(t.next,o),error:t.error&&yd(t.error,o),complete:t.complete&&yd(t.complete,o)}):r=t}this.destination=new bd(r)}};function Aa(e){Et.useDeprecatedSynchronousErrorHandling?W_(e):Na(e)}function H1(e){throw e}function Dd(e,t){let{onStoppedNotification:n}=Et;n&&Ji.setTimeout(()=>n(e,t))}var $1={closed:!0,next:di,error:H1,complete:di};var er=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xe(e){return e}function wd(...e){return Cd(e)}function Cd(e){return e.length===0?xe:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var A=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=W1(n)?n:new rn(n,i,r);return Xi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=z_(i),new i((r,o)=>{let s=new rn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[er](){return this}pipe(...n){return Cd(n)(this)}toPromise(n){return n=z_(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function z_(e){var t;return(t=e??Et.Promise)!==null&&t!==void 0?t:Promise}function G1(e){return e&&M(e.next)&&M(e.error)&&M(e.complete)}function W1(e){return e&&e instanceof fi||G1(e)&&Ma(e)}function Ed(e){return M(e?.lift)}function P(e){return t=>{if(Ed(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function R(e,t,n,i,r){return new Id(e,t,n,i,r)}var Id=class extends fi{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function tr(){return P((e,t)=>{let n=null;e._refCount++;let i=R(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var nr=class extends A{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ed(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new pe;let n=this.getSubject();t.add(this.source.subscribe(R(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=pe.EMPTY)}return t}refCount(){return tr()(this)}};var q_=Zi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=(()=>{class e extends A{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Ra(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new q_}next(n){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?_d:(this.currentObservers=null,o.push(n),new pe(()=>{this.currentObservers=null,ui(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new A;return n.source=this,n}}return e.create=(t,n)=>new Ra(t,n),e})(),Ra=class extends q{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:_d}};var ye=class extends q{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var xo={now(){return(xo.delegate||Date).now()},delegate:void 0};var Oa=class extends q{constructor(t=1/0,n=1/0,i=xo){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var xa=class extends pe{constructor(t,n){super()}schedule(t,n=0){return this}};var Po={setInterval(e,t,...n){let{delegate:i}=Po;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Po;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var ir=class extends xa{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return Po.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Po.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ui(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var rr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};rr.now=xo.now;var or=class extends rr{constructor(t,n=rr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var sr=new or(ir),Sd=sr;var Pa=class extends ir{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}};var ka=class extends or{};var Td=new ka(Pa);var Ie=new A(e=>e.complete());function Fa(e){return e&&M(e.schedule)}function Md(e){return e[e.length-1]}function Mn(e){return M(Md(e))?e.pop():void 0}function Lt(e){return Fa(Md(e))?e.pop():void 0}function K_(e,t){return typeof Md(e)=="number"?e.pop():t}var ar=e=>e&&typeof e.length=="number"&&typeof e!="function";function La(e){return M(e?.then)}function Va(e){return M(e[er])}function Ba(e){return Symbol.asyncIterator&&M(e?.[Symbol.asyncIterator])}function ja(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function z1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ua=z1();function Ha(e){return M(e?.[Ua])}function $a(e){return u_(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield ma(n.read());if(r)return yield ma(void 0);yield yield ma(i)}}finally{n.releaseLock()}})}function Ga(e){return M(e?.getReader)}function K(e){if(e instanceof A)return e;if(e!=null){if(Va(e))return q1(e);if(ar(e))return K1(e);if(La(e))return Q1(e);if(Ba(e))return Q_(e);if(Ha(e))return Y1(e);if(Ga(e))return Z1(e)}throw ja(e)}function q1(e){return new A(t=>{let n=e[er]();if(M(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function K1(e){return new A(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Q1(e){return new A(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Na)})}function Y1(e){return new A(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Q_(e){return new A(t=>{J1(e,t).catch(n=>t.error(n))})}function Z1(e){return Q_($a(e))}function J1(e,t){var n,i,r,o;return c_(this,void 0,void 0,function*(){try{for(n=d_(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function Ze(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function dt(e,t=0){return P((n,i)=>{n.subscribe(R(i,r=>Ze(i,e,()=>i.next(r),t),()=>Ze(i,e,()=>i.complete(),t),r=>Ze(i,e,()=>i.error(r),t)))})}function It(e,t=0){return P((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function Y_(e,t){return K(e).pipe(It(t),dt(t))}function Z_(e,t){return K(e).pipe(It(t),dt(t))}function J_(e,t){return new A(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function X_(e,t){return new A(n=>{let i;return Ze(n,t,()=>{i=e[Ua](),Ze(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>M(i?.return)&&i.return()})}function Wa(e,t){if(!e)throw new Error("Iterable cannot be null");return new A(n=>{Ze(n,t,()=>{let i=e[Symbol.asyncIterator]();Ze(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function ev(e,t){return Wa($a(e),t)}function tv(e,t){if(e!=null){if(Va(e))return Y_(e,t);if(ar(e))return J_(e,t);if(La(e))return Z_(e,t);if(Ba(e))return Wa(e,t);if(Ha(e))return X_(e,t);if(Ga(e))return ev(e,t)}throw ja(e)}function te(e,t){return t?tv(e,t):K(e)}function C(...e){let t=Lt(e);return te(e,t)}function lr(e,t){let n=M(e)?e:()=>e,i=r=>r.error(n());return new A(t?r=>t.schedule(i,0,r):i)}function Nd(e){return!!e&&(e instanceof A||M(e.lift)&&M(e.subscribe))}var on=Zi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function nv(e){return e instanceof Date&&!isNaN(e)}function T(e,t){return P((n,i)=>{let r=0;n.subscribe(R(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:X1}=Array;function eI(e,t){return X1(t)?e(...t):e(t)}function cr(e){return T(t=>eI(e,t))}var{isArray:tI}=Array,{getPrototypeOf:nI,prototype:iI,keys:rI}=Object;function za(e){if(e.length===1){let t=e[0];if(tI(t))return{args:t,keys:null};if(oI(t)){let n=rI(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function oI(e){return e&&typeof e=="object"&&nI(e)===iI}function qa(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function ur(...e){let t=Lt(e),n=Mn(e),{args:i,keys:r}=za(e);if(i.length===0)return te([],t);let o=new A(sI(i,t,r?s=>qa(r,s):xe));return n?o.pipe(cr(n)):o}function sI(e,t,n=xe){return i=>{iv(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)iv(t,()=>{let c=te(e[l],t),u=!1;c.subscribe(R(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function iv(e,t,n){e?Ze(n,e,t):t()}function rv(e,t,n,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{o&&t.next(m),c++;let D=!1;K(n(m,u++)).subscribe(R(t,S=>{r?.(S),o?f(S):t.next(S)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<i;){let S=l.shift();s?Ze(t,s,()=>p(S)):p(S)}h()}catch(S){t.error(S)}}))};return e.subscribe(R(t,f,()=>{d=!0,h()})),()=>{a?.()}}function de(e,t,n=1/0){return M(t)?de((i,r)=>T((o,s)=>t(i,o,r,s))(K(e(i,r))),n):(typeof t=="number"&&(n=t),P((i,r)=>rv(i,r,e,n)))}function Nn(e=1/0){return de(xe,e)}function ov(){return Nn(1)}function An(...e){return ov()(te(e,Lt(e)))}function Ka(e){return new A(t=>{K(e()).subscribe(t)})}function Ad(...e){let t=Mn(e),{args:n,keys:i}=za(e),r=new A(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;K(n[u]).subscribe(R(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?qa(i,a):a),o.complete())}))}});return t?r.pipe(cr(t)):r}var aI=["addListener","removeListener"],lI=["addEventListener","removeEventListener"],cI=["on","off"];function ht(e,t,n,i){if(M(n)&&(i=n,n=void 0),i)return ht(e,t,n).pipe(cr(i));let[r,o]=hI(e)?lI.map(s=>a=>e[s](t,a,n)):uI(e)?aI.map(sv(e,t)):dI(e)?cI.map(sv(e,t)):[];if(!r&&ar(e))return de(s=>ht(s,t,n))(K(e));if(!r)throw new TypeError("Invalid event target");return new A(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function sv(e,t){return n=>i=>e[n](t,i)}function uI(e){return M(e.addListener)&&M(e.removeListener)}function dI(e){return M(e.on)&&M(e.off)}function hI(e){return M(e.addEventListener)&&M(e.removeEventListener)}function Rd(e=0,t,n=Sd){let i=-1;return t!=null&&(Fa(t)?n=t:i=t),new A(r=>{let o=nv(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function pi(...e){let t=Lt(e),n=K_(e,1/0),i=e;return i.length?i.length===1?K(i[0]):Nn(n)(te(i,t)):Ie}var{isArray:fI}=Array;function Qa(e){return e.length===1&&fI(e[0])?e[0]:e}function me(e,t){return P((n,i)=>{let r=0;n.subscribe(R(i,o=>e.call(t,o,r++)&&i.next(o)))})}function Od(...e){return e=Qa(e),e.length===1?K(e[0]):new A(pI(e))}function pI(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(K(e[i]).subscribe(R(t,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(r)})))}}function ko(...e){let t=Mn(e),n=Qa(e);return n.length?new A(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)K(n[s]).subscribe(R(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Ie}function Rn(e){return P((t,n)=>{let i=null,r=!1,o;i=t.subscribe(R(n,void 0,void 0,s=>{o=K(e(s,Rn(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function av(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(R(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function sn(e,t){return M(t)?de(e,t,1):de(e,1)}function On(e){return P((t,n)=>{let i=!1;t.subscribe(R(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function ft(e){return e<=0?()=>Ie:P((t,n)=>{let i=0;t.subscribe(R(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function xd(e){return T(()=>e)}function Ya(e,t=xe){return e=e??gI,P((n,i)=>{let r,o=!0;n.subscribe(R(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function gI(e,t){return e===t}function Za(e=mI){return P((t,n)=>{let i=!1;t.subscribe(R(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function mI(){return new on}function Pd(...e){return t=>An(t,C(...e))}function xn(e){return P((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function pt(e,t){let n=arguments.length>=2;return i=>i.pipe(e?me((r,o)=>e(r,o,i)):xe,ft(1),n?On(t):Za(()=>new on))}function dr(e){return e<=0?()=>Ie:P((t,n)=>{let i=[];t.subscribe(R(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function kd(e,t){let n=arguments.length>=2;return i=>i.pipe(e?me((r,o)=>e(r,o,i)):xe,dr(1),n?On(t):Za(()=>new on))}function hr(e,t){return P(av(e,t,arguments.length>=2,!0))}function Fo(e={}){let{connector:t=()=>new q,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let m=s;f(),m?.unsubscribe()};return P((m,D)=>{c++,!d&&!u&&h();let S=l=l??t();D.add(()=>{c--,c===0&&!d&&!u&&(a=Fd(p,r))}),S.subscribe(D),!s&&c>0&&(s=new rn({next:B=>S.next(B),error:B=>{d=!0,h(),a=Fd(f,n,B),S.error(B)},complete:()=>{u=!0,h(),a=Fd(f,i),S.complete()}}),K(m).subscribe(s))})(o)}}function Fd(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new rn({next:()=>{i.unsubscribe(),e()}});return K(t(...n)).subscribe(i)}function Ja(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,Fo({connector:()=>new Oa(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Ld(e){return P((t,n)=>{let i=!1,r=0;t.subscribe(R(n,o=>(i||(i=!e(o,r++)))&&n.next(o)))})}function Xa(...e){let t=Lt(e);return P((n,i)=>{(t?An(e,n,t):An(e,n)).subscribe(i)})}function re(e,t){return P((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(R(i,l=>{r?.unsubscribe();let c=0,u=o++;K(e(l,u)).subscribe(r=R(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function el(e,t){return M(t)?re(()=>e,t):re(()=>e)}function Le(e){return P((t,n)=>{K(e).subscribe(R(n,()=>n.complete(),di)),!n.closed&&t.subscribe(n)})}function ge(e,t,n){let i=M(e)||t||n?{next:e,error:t,complete:n}:e;return i?P((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(R(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):xe}function fr(...e){let t=Mn(e);return P((n,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)K(e[l]).subscribe(R(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(xe))&&(s=null))},di));n.subscribe(R(i,l=>{if(a){let c=[l,...o];i.next(t?t(...c):c)}}))})}var Gv="https://g.co/ng/security#xss",I=class extends Error{constructor(t,n){super(Vl(t,n)),this.code=t}};function Vl(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function qo(e){return{toString:e}.toString()}var tl="__parameters__";function _I(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function Wv(e,t,n){return qo(()=>{let i=_I(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(tl)?l[tl]:Object.defineProperty(l,tl,{value:[]})[tl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Nt=globalThis;function oe(e){for(let t in e)if(e[t]===oe)return t;throw Error("Could not find renamed property on target object.")}function vI(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Xe(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Xe).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Zd(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var yI=oe({__forward_ref__:oe});function Nr(e){return e.__forward_ref__=Nr,e.toString=function(){return Xe(this())},e}function $e(e){return zv(e)?e():e}function zv(e){return typeof e=="function"&&e.hasOwnProperty(yI)&&e.__forward_ref__===Nr}function w(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function F(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bl(e){return lv(e,Kv)||lv(e,Qv)}function qv(e){return Bl(e)!==null}function lv(e,t){return e.hasOwnProperty(t)?e[t]:null}function DI(e){let t=e&&(e[Kv]||e[Qv]);return t||null}function cv(e){return e&&(e.hasOwnProperty(uv)||e.hasOwnProperty(bI))?e[uv]:null}var Kv=oe({\u0275prov:oe}),uv=oe({\u0275inj:oe}),Qv=oe({ngInjectableDef:oe}),bI=oe({ngInjectorDef:oe}),b=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=w({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yv(e){return e&&!!e.\u0275providers}var wI=oe({\u0275cmp:oe}),CI=oe({\u0275dir:oe}),EI=oe({\u0275pipe:oe}),II=oe({\u0275mod:oe}),hl=oe({\u0275fac:oe}),Vo=oe({__NG_ELEMENT_ID__:oe}),dv=oe({__NG_ENV_ID__:oe});function jl(e){return typeof e=="string"?e:e==null?"":String(e)}function SI(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():jl(e)}function TI(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new I(-200,e)}function Qh(e,t){throw new I(-201,!1)}var H=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(H||{}),Jd;function Zv(){return Jd}function gt(e){let t=Jd;return Jd=e,t}function Jv(e,t,n){let i=Bl(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&H.Optional)return null;if(t!==void 0)return t;Qh(e,"Injector")}var MI={},jo=MI,Xd="__NG_DI_FLAG__",fl="ngTempTokenPath",NI="ngTokenPath",AI=/\n/gm,RI="\u0275",hv="__source",_r;function OI(){return _r}function Pn(e){let t=_r;return _r=e,t}function xI(e,t=H.Default){if(_r===void 0)throw new I(-203,!1);return _r===null?Jv(e,void 0,t):_r.get(e,t&H.Optional?null:void 0,t)}function _(e,t=H.Default){return(Zv()||xI)($e(e),t)}function g(e,t=H.Default){return _(e,Ul(t))}function Ul(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function eh(e){let t=[];for(let n=0;n<e.length;n++){let i=$e(e[n]);if(Array.isArray(i)){if(i.length===0)throw new I(900,!1);let r,o=H.Default;for(let s=0;s<i.length;s++){let a=i[s],l=PI(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(_(r,o))}else t.push(_(i))}return t}function Xv(e,t){return e[Xd]=t,e.prototype[Xd]=t,e}function PI(e){return e[Xd]}function kI(e,t,n,i){let r=e[fl];throw t[hv]&&r.unshift(t[hv]),e.message=FI(`
`+e.message,r,n,i),e[NI]=r,e[fl]=null,e}function FI(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==RI?e.slice(2):e;let r=Xe(t);if(Array.isArray(t))r=t.map(Xe).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Xe(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(AI,`
  `)}`}var Ar=Xv(Wv("Optional"),8);var Yh=Xv(Wv("SkipSelf"),4);function yr(e,t){let n=e.hasOwnProperty(hl);return n?e[hl]:null}function LI(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function VI(e){return e.flat(Number.POSITIVE_INFINITY)}function Zh(e,t){e.forEach(n=>Array.isArray(n)?Zh(n,t):t(n))}function ey(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function pl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function BI(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function jI(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Jh(e,t,n){let i=Ko(e,t);return i>=0?e[i|1]=n:(i=~i,jI(e,i,t,n)),i}function Vd(e,t){let n=Ko(e,t);if(n>=0)return e[n|1]}function Ko(e,t){return UI(e,t,1)}function UI(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var Dr={},Je=[],br=new b(""),ty=new b("",-1),ny=new b(""),gl=class{get(t,n=jo){if(n===jo){let i=new Error(`NullInjectorError: No provider for ${Xe(t)}!`);throw i.name="NullInjectorError",i}return n}},iy=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(iy||{}),jt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(jt||{}),Ln=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ln||{});function HI(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function th(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];$I(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function ry(e){return e===3||e===4||e===6}function $I(e){return e.charCodeAt(0)===64}function Uo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?fv(e,n,r,null,t[++i]):fv(e,n,r,null,null))}}return e}function fv(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var oy="ng-template";function GI(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&HI(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Xh(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Xh(e){return e.type===4&&e.value!==oy}function WI(e,t,n){let i=e.type===4&&!n?oy:e.value;return t===i}function zI(e,t,n){let i=4,r=e.attrs,o=r!==null?QI(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!St(i)&&!St(l))return!1;if(s&&St(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!WI(e,l,n)||l===""&&t.length===1){if(St(i))return!1;s=!0}}else if(i&8){if(r===null||!GI(e,r,l,n)){if(St(i))return!1;s=!0}}else{let c=t[++a],u=qI(l,r,Xh(e),n);if(u===-1){if(St(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(St(i))return!1;s=!0}}}}return St(i)||s}function St(e){return(e&1)===0}function qI(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return YI(t,e)}function sy(e,t,n=!1){for(let i=0;i<t.length;i++)if(zI(e,t[i],n))return!0;return!1}function KI(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function QI(e){for(let t=0;t<e.length;t++){let n=e[t];if(ry(n))return t}return e.length}function YI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function ZI(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function pv(e,t){return e?":not("+t.trim()+")":t}function JI(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!St(s)&&(t+=pv(o,r),r=""),i=s,o=o||!St(i);n++}return r!==""&&(t+=pv(o,r)),t}function XI(e){return e.map(JI).join(",")}function eS(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!St(r))break;r=o}i++}return{attrs:t,classes:n}}function Pe(e){return qo(()=>{let t=dy(e),n=U(y({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===iy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||jt.Emulated,styles:e.styles||Je,_:null,schemas:e.schemas||null,tView:null,id:""});hy(n);let i=e.dependencies;return n.directiveDefs=mv(i,!1),n.pipeDefs=mv(i,!0),n.id=iS(n),n})}function tS(e){return ln(e)||ay(e)}function nS(e){return e!==null}function L(e){return qo(()=>({type:e.type,bootstrap:e.bootstrap||Je,declarations:e.declarations||Je,imports:e.imports||Je,exports:e.exports||Je,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function gv(e,t){if(e==null)return Dr;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=Ln.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(n[o]=a!==Ln.None?[i,a]:i,t[o]=s):n[o]=i}return n}function it(e){return qo(()=>{let t=dy(e);return hy(t),t})}function ln(e){return e[wI]||null}function ay(e){return e[CI]||null}function ly(e){return e[EI]||null}function cy(e){let t=ln(e)||ay(e)||ly(e);return t!==null?t.standalone:!1}function uy(e,t){let n=e[II]||null;if(!n&&t===!0)throw new Error(`Type ${Xe(e)} does not have '\u0275mod' property.`);return n}function dy(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Dr,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Je,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gv(e.inputs,t),outputs:gv(e.outputs),debugInfo:null}}function hy(e){e.features?.forEach(t=>t(e))}function mv(e,t){if(!e)return null;let n=t?ly:tS;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(nS)}function iS(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Hl(e){return{\u0275providers:e}}function rS(...e){return{\u0275providers:fy(!0,e),\u0275fromNgModule:!0}}function fy(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return Zh(t,s=>{let a=s;nh(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&py(r,o),n}function py(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];ef(r,o=>{t(o,i)})}}function nh(e,t,n,i){if(e=$e(e),!e)return!1;let r=null,o=cv(e),s=!o&&ln(e);if(!o&&!s){let l=e.ngModule;if(o=cv(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)nh(c,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{Zh(o.imports,u=>{nh(u,t,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&py(c,t)}if(!a){let c=yr(r)||(()=>new r);t({provide:r,useFactory:c,deps:Je},r),t({provide:ny,useValue:r,multi:!0},r),t({provide:br,useValue:()=>_(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;ef(l,u=>{t(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function ef(e,t){for(let n of e)Yv(n)&&(n=n.\u0275providers),Array.isArray(n)?ef(n,t):t(n)}var oS=oe({provide:String,useValue:oe});function gy(e){return e!==null&&typeof e=="object"&&oS in e}function sS(e){return!!(e&&e.useExisting)}function aS(e){return!!(e&&e.useFactory)}function wr(e){return typeof e=="function"}function lS(e){return!!e.useClass}var $l=new b(""),al={},cS={},Bd;function Gl(){return Bd===void 0&&(Bd=new gl),Bd}var Me=class{},Ho=class extends Me{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rh(t,s=>this.processProvider(s)),this.records.set(ty,pr(void 0,this)),r.has("environment")&&this.records.set(Me,pr(void 0,this));let o=this.records.get($l);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ny,Je,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Q(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Pn(this),i=gt(void 0),r;try{return t()}finally{Pn(n),gt(i)}}get(t,n=jo,i=H.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(dv))return t[dv](this);i=Ul(i);let r,o=Pn(this),s=gt(void 0);try{if(!(i&H.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=pS(t)&&Bl(t);c&&this.injectableDefInScope(c)?l=pr(ih(t),al):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&H.Self?Gl():this.parent;return n=i&H.Optional&&n===jo?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[fl]=a[fl]||[]).unshift(Xe(t)),o)throw a;return kI(a,t,"R3InjectorError",this.source)}else throw a}finally{gt(s),Pn(o)}}resolveInjectorInitializers(){let t=Q(null),n=Pn(this),i=gt(void 0),r;try{let o=this.get(br,Je,H.Self);for(let s of o)s()}finally{Pn(n),gt(i),Q(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(Xe(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(t){t=$e(t);let n=wr(t)?t:$e(t&&t.provide),i=dS(t);if(!wr(t)&&t.multi===!0){let r=this.records.get(n);r||(r=pr(void 0,al,!0),r.factory=()=>eh(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=Q(null);try{return n.value===al&&(n.value=cS,n.value=n.factory()),typeof n.value=="object"&&n.value&&fS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=$e(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ih(e){let t=Bl(e),n=t!==null?t.factory:yr(e);if(n!==null)return n;if(e instanceof b)throw new I(204,!1);if(e instanceof Function)return uS(e);throw new I(204,!1)}function uS(e){if(e.length>0)throw new I(204,!1);let n=DI(e);return n!==null?()=>n.factory(e):()=>new e}function dS(e){if(gy(e))return pr(void 0,e.useValue);{let t=my(e);return pr(t,al)}}function my(e,t,n){let i;if(wr(e)){let r=$e(e);return yr(r)||ih(r)}else if(gy(e))i=()=>$e(e.useValue);else if(aS(e))i=()=>e.useFactory(...eh(e.deps||[]));else if(sS(e))i=()=>_($e(e.useExisting));else{let r=$e(e&&(e.useClass||e.provide));if(hS(e))i=()=>new r(...eh(e.deps));else return yr(r)||ih(r)}return i}function pr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function hS(e){return!!e.deps}function fS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function pS(e){return typeof e=="function"||typeof e=="object"&&e instanceof b}function rh(e,t){for(let n of e)Array.isArray(n)?rh(n,t):n&&Yv(n)?rh(n.\u0275providers,t):t(n)}function vt(e,t){e instanceof Ho&&e.assertNotDestroyed();let n,i=Pn(e),r=gt(void 0);try{return t()}finally{Pn(i),gt(r)}}function _y(){return Zv()!==void 0||OI()!=null}function gS(e){if(!_y())throw new I(-203,!1)}function mS(e){let t=Nt.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function _S(e){return typeof e=="function"}var fn=0,j=1,O=2,Ve=3,Mt=4,et=5,$o=6,ml=7,At=8,Cr=9,Ut=10,_e=11,Go=12,_v=13,Rr=14,_t=15,mi=16,gr=17,cn=18,Wl=19,vy=20,kn=21,jd=22,mt=23,Ht=25,yy=1;var _i=7,_l=8,Er=9,nt=10,vl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(vl||{});function Fn(e){return Array.isArray(e)&&typeof e[yy]=="object"}function pn(e){return Array.isArray(e)&&e[yy]===!0}function Dy(e){return(e.flags&4)!==0}function zl(e){return e.componentOffset>-1}function tf(e){return(e.flags&1)===1}function Vn(e){return!!e.template}function oh(e){return(e[O]&512)!==0}var sh=class{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function by(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function Un(){return wy}function wy(e){return e.type.prototype.ngOnChanges&&(e.setInput=yS),vS}Un.ngInherit=!0;function vS(){let e=Ey(this),t=e?.current;if(t){let n=e.previous;if(n===Dr)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function yS(e,t,n,i,r){let o=this.declaredInputs[i],s=Ey(e)||DS(e,{previous:Dr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new sh(c&&c.currentValue,n,l===Dr),by(e,t,r,n)}var Cy="__ngSimpleChanges__";function Ey(e){return e[Cy]||null}function DS(e,t){return e[Cy]=t}var vv=null;var Vt=function(e,t,n){vv?.(e,t,n)},bS="svg",wS="math";function $t(e){for(;Array.isArray(e);)e=e[fn];return e}function Iy(e,t){return $t(t[e])}function yt(e,t){return $t(t[e.index])}function Sy(e,t){return e.data[t]}function Hn(e,t){let n=t[e];return Fn(n)?n:n[fn]}function CS(e){return(e[O]&4)===4}function nf(e){return(e[O]&128)===128}function ES(e){return pn(e[Ve])}function yl(e,t){return t==null?null:e[t]}function Ty(e){e[gr]=0}function My(e){e[O]&1024||(e[O]|=1024,nf(e)&&Kl(e))}function IS(e,t){for(;e>0;)t=t[Rr],e--;return t}function ql(e){return!!(e[O]&9216||e[mt]?.dirty)}function ah(e){e[Ut].changeDetectionScheduler?.notify(8),e[O]&64&&(e[O]|=1024),ql(e)&&Kl(e)}function Kl(e){e[Ut].changeDetectionScheduler?.notify(0);let t=vi(e);for(;t!==null&&!(t[O]&8192||(t[O]|=8192,!nf(t)));)t=vi(t)}function Ny(e,t){if((e[O]&256)===256)throw new I(911,!1);e[kn]===null&&(e[kn]=[]),e[kn].push(t)}function SS(e,t){if(e[kn]===null)return;let n=e[kn].indexOf(t);n!==-1&&e[kn].splice(n,1)}function vi(e){let t=e[Ve];return pn(t)?t[Ve]:t}var z={lFrame:Uy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ay=!1;function TS(){return z.lFrame.elementDepthCount}function MS(){z.lFrame.elementDepthCount++}function NS(){z.lFrame.elementDepthCount--}function Ry(){return z.bindingsEnabled}function Oy(){return z.skipHydrationRootTNode!==null}function AS(e){return z.skipHydrationRootTNode===e}function RS(){z.skipHydrationRootTNode=null}function X(){return z.lFrame.lView}function ke(){return z.lFrame.tView}function Or(e){return z.lFrame.contextLView=e,e[At]}function xr(e){return z.lFrame.contextLView=null,e}function Ge(){let e=xy();for(;e!==null&&e.type===64;)e=e.parent;return e}function xy(){return z.lFrame.currentTNode}function OS(){let e=z.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Qo(e,t){let n=z.lFrame;n.currentTNode=e,n.isParent=t}function Py(){return z.lFrame.isParent}function ky(){z.lFrame.isParent=!1}function Fy(){return Ay}function yv(e){Ay=e}function xS(e){return z.lFrame.bindingIndex=e}function Ql(){return z.lFrame.bindingIndex++}function Ly(e){let t=z.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function PS(){return z.lFrame.inI18n}function kS(e,t){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=e,lh(t)}function FS(){return z.lFrame.currentDirectiveIndex}function lh(e){z.lFrame.currentDirectiveIndex=e}function LS(e){let t=z.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Vy(){return z.lFrame.currentQueryIndex}function rf(e){z.lFrame.currentQueryIndex=e}function VS(e){let t=e[j];return t.type===2?t.declTNode:t.type===1?e[et]:null}function By(e,t,n){if(n&H.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&H.Host);)if(r=VS(o),r===null||(o=o[Rr],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=z.lFrame=jy();return i.currentTNode=t,i.lView=e,!0}function of(e){let t=jy(),n=e[j];z.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function jy(){let e=z.lFrame,t=e===null?null:e.child;return t===null?Uy(e):t}function Uy(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Hy(){let e=z.lFrame;return z.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var $y=Hy;function sf(){let e=Hy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function BS(e){return(z.lFrame.contextLView=IS(e,z.lFrame.contextLView))[At]}function Si(){return z.lFrame.selectedIndex}function yi(e){z.lFrame.selectedIndex=e}function af(){let e=z.lFrame;return Sy(e.tView,e.selectedIndex)}function jS(){return z.lFrame.currentNamespace}var Gy=!0;function lf(){return Gy}function cf(e){Gy=e}function US(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=wy(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function uf(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function ll(e,t,n){Wy(e,t,3,n)}function cl(e,t,n,i){(e[O]&3)===n&&Wy(e,t,n,i)}function Ud(e,t){let n=e[O];(n&3)===t&&(n&=16383,n+=1,e[O]=n)}function Wy(e,t,n,i){let r=i!==void 0?e[gr]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[gr]+=65536),(a<o||o==-1)&&(HS(e,n,t,l),e[gr]=(e[gr]&4294901760)+l+2),l++}function Dv(e,t){Vt(4,e,t);let n=Q(null);try{t.call(e)}finally{Q(n),Vt(5,e,t)}}function HS(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[O]>>14<e[gr]>>16&&(e[O]&3)===t&&(e[O]+=16384,Dv(a,o)):Dv(a,o)}var vr=-1,Di=class{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function $S(e){return e instanceof Di}function GS(e){return(e.flags&8)!==0}function WS(e){return(e.flags&16)!==0}var Hd={},ch=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Ul(i);let r=this.injector.get(t,Hd,i);return r!==Hd||n===Hd?r:this.parentInjector.get(t,n,i)}};function zy(e){return e!==vr}function Dl(e){return e&32767}function zS(e){return e>>16}function bl(e,t){let n=zS(e),i=t;for(;n>0;)i=i[Rr],n--;return i}var uh=!0;function bv(e){let t=uh;return uh=e,t}var qS=256,qy=qS-1,Ky=5,KS=0,Bt={};function QS(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Vo)&&(i=n[Vo]),i==null&&(i=n[Vo]=KS++);let r=i&qy,o=1<<r;t.data[e+(r>>Ky)]|=o}function wl(e,t){let n=Qy(e,t);if(n!==-1)return n;let i=t[j];i.firstCreatePass&&(e.injectorIndex=t.length,$d(i.data,e),$d(t,null),$d(i.blueprint,null));let r=df(e,t),o=e.injectorIndex;if(zy(r)){let s=Dl(r),a=bl(r,t),l=a[j].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function $d(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Qy(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function df(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=e0(r),i===null)return vr;if(n++,r=r[Rr],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return vr}function dh(e,t,n){QS(e,t,n)}function YS(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(ry(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===t)return n[r+1];r=r+2}}}return null}function Yy(e,t,n){if(n&H.Optional||e!==void 0)return e;Qh(t,"NodeInjector")}function Zy(e,t,n,i){if(n&H.Optional&&i===void 0&&(i=null),!(n&(H.Self|H.Host))){let r=e[Cr],o=gt(void 0);try{return r?r.get(t,i,n&H.Optional):Jv(t,i,n&H.Optional)}finally{gt(o)}}return Yy(i,t,n)}function Jy(e,t,n,i=H.Default,r){if(e!==null){if(t[O]&2048&&!(i&H.Self)){let s=eT(e,t,n,i,Bt);if(s!==Bt)return s}let o=Xy(e,t,n,i,Bt);if(o!==Bt)return o}return Zy(t,n,i,r)}function Xy(e,t,n,i,r){let o=JS(n);if(typeof o=="function"){if(!By(t,e,i))return i&H.Host?Yy(r,n,i):Zy(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&H.Optional))Qh(n);else return s}finally{$y()}}else if(typeof o=="number"){let s=null,a=Qy(e,t),l=vr,c=i&H.Host?t[_t][et]:null;for((a===-1||i&H.SkipSelf)&&(l=a===-1?df(e,t):t[a+8],l===vr||!Cv(i,!1)?a=-1:(s=t[j],a=Dl(l),t=bl(l,t)));a!==-1;){let u=t[j];if(wv(o,a,u.data)){let d=ZS(a,t,n,s,i,c);if(d!==Bt)return d}l=t[a+8],l!==vr&&Cv(i,t[j].data[a+8]===c)&&wv(o,a,t)?(s=u,a=Dl(l),t=bl(l,t)):a=-1}}return r}function ZS(e,t,n,i,r,o){let s=t[j],a=s.data[e+8],l=i==null?zl(a)&&uh:i!=s&&(a.type&3)!==0,c=r&H.Host&&o===a,u=ul(a,s,n,l,c);return u!==null?bi(t,s,u,a):Bt}function ul(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=s[l];if(f&&Vn(f)&&f.type===n)return l}return null}function bi(e,t,n,i){let r=e[n],o=t.data;if($S(r)){let s=r;s.resolving&&TI(SI(o[n]));let a=bv(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?gt(s.injectImpl):null,u=By(e,i,H.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&US(n,o[n],t)}finally{c!==null&&gt(c),bv(a),s.resolving=!1,$y()}}return r}function JS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Vo)?e[Vo]:void 0;return typeof t=="number"?t>=0?t&qy:XS:t}function wv(e,t,n){let i=1<<e;return!!(n[t+(e>>Ky)]&i)}function Cv(e,t){return!(e&H.Self)&&!(e&H.Host&&t)}var gi=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Jy(this._tNode,this._lView,t,Ul(i),n)}};function XS(){return new gi(Ge(),X())}function Pr(e){return qo(()=>{let t=e.prototype.constructor,n=t[hl]||hh(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[hl]||hh(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function hh(e){return zv(e)?()=>{let t=hh($e(e));return t&&t()}:yr(e)}function eT(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=Xy(o,s,n,i|H.Self,Bt);if(a!==Bt)return a;let l=o.parent;if(!l){let c=s[vy];if(c){let u=c.get(n,Bt,i);if(u!==Bt)return u}l=e0(s),s=s[Rr]}o=l}return r}function e0(e){let t=e[j],n=t.type;return n===2?t.declTNode:n===1?e[et]:null}function Yl(e){return YS(Ge(),e)}function Ev(e,t=null,n=null,i){let r=t0(e,t,n,i);return r.resolveInjectorInitializers(),r}function t0(e,t=null,n=null,i,r=new Set){let o=[n||Je,rS(e)];return i=i||(typeof e=="object"?void 0:Xe(e)),new Ho(o,t||Gl(),i||null,r)}var Se=class e{static{this.THROW_IF_NOT_FOUND=jo}static{this.NULL=new gl}static create(t,n){if(Array.isArray(t))return Ev({name:""},n,t,"");{let i=t.name??"";return Ev({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=w({token:e,providedIn:"any",factory:()=>_(ty)})}static{this.__NG_ELEMENT_ID__=-1}};var tT=new b("");tT.__NG_ELEMENT_ID__=e=>{let t=Ge();if(t===null)throw new I(204,!1);if(t.type&2)return t.value;if(e&H.Optional)return null;throw new I(204,!1)};var nT="ngOriginalError";function Gd(e){return e[nT]}var n0=!0,Zl=(()=>{class e{static{this.__NG_ELEMENT_ID__=iT}static{this.__NG_ENV_ID__=n=>n}}return e})(),fh=class extends Zl{constructor(t){super(),this._lView=t}onDestroy(t){return Ny(this._lView,t),()=>SS(this._lView,t)}};function iT(){return new fh(X())}var $n=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}}return e})();var ph=class extends q{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,_y()&&(this.destroyRef=g(Zl,{optional:!0})??void 0,this.pendingTasks=g($n,{optional:!0})??void 0)}emit(t){let n=Q(null);try{super.next(t)}finally{Q(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof pe&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},le=ph;function Cl(...e){}function i0(e){let t,n;function i(){e=Cl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Iv(e){return queueMicrotask(()=>e()),()=>{e=Cl}}var hf="isAngularZone",El=hf+"_ID",rT=0,k=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=n0}=t;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,aT(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new I(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,oT,Cl,Cl);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},oT={};function ff(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function sT(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){i0(()=>{e.callbackScheduled=!1,gh(e),e.isCheckStableRunning=!0,ff(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),gh(e)}function aT(e){let t=()=>{sT(e)},n=rT++;e._inner=e._inner.fork({name:"angular",properties:{[hf]:!0,[El]:n,[El+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(lT(l))return i.invokeTask(o,s,a,l);try{return Sv(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Tv(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return Sv(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!cT(l)&&t(),Tv(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,gh(e),ff(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function gh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Sv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Tv(e){e._nesting--,ff(e)}var Il=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le,this.onMicrotaskEmpty=new le,this.onStable=new le,this.onError=new le}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function lT(e){return r0(e,"__ignore_ng_zone__")}function cT(e){return r0(e,"__scheduler_tick__")}function r0(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function uT(e="zone.js",t){return e==="noop"?new Il:e==="zone.js"?new k(t):e}var un=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Gd(t);for(;n&&Gd(n);)n=Gd(n);return n||null}},dT=new b("",{providedIn:"root",factory:()=>{let e=g(k),t=g(un);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function hT(){return kr(Ge(),X())}function kr(e,t){return new We(yt(e,t))}var We=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=hT}}return e})();function fT(e){return e instanceof We?e.nativeElement:e}function pT(){return this._results[Symbol.iterator]()}var mh=class e{get changes(){return this._changes??=new le}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=pT)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=VI(t);(this._changesDetected=!LI(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function o0(e){return(e.flags&128)===128}var s0=new Map,gT=0;function mT(){return gT++}function _T(e){s0.set(e[Wl],e)}function _h(e){s0.delete(e[Wl])}var Mv="__ngContext__";function wi(e,t){Fn(t)?(e[Mv]=t[Wl],_T(t)):e[Mv]=t}function a0(e){return c0(e[Go])}function l0(e){return c0(e[Mt])}function c0(e){for(;e!==null&&!pn(e);)e=e[Mt];return e}var vh;function u0(e){vh=e}function vT(){if(vh!==void 0)return vh;if(typeof document<"u")return document;throw new I(210,!1)}var Jl=new b("",{providedIn:"root",factory:()=>yT}),yT="ng",pf=new b(""),Fe=new b("",{providedIn:"platform",factory:()=>"unknown"});var gf=new b("",{providedIn:"root",factory:()=>vT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var DT="h",bT="b";var wT=()=>null;function mf(e,t,n=!1){return wT(e,t,n)}var d0=!1,CT=new b("",{providedIn:"root",factory:()=>d0});var nl;function ET(){if(nl===void 0&&(nl=null,Nt.trustedTypes))try{nl=Nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return nl}function Nv(e){return ET()?.createScriptURL(e)||e}var Sl=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gv})`}};function Fr(e){return e instanceof Sl?e.changingThisBreaksApplicationSecurity:e}function _f(e,t){let n=IT(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Gv})`)}return n===t}function IT(e){return e instanceof Sl&&e.getTypeName()||null}var ST=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function h0(e){return e=String(e),e.match(ST)?e:"unsafe:"+e}var Xl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Xl||{});function TT(e){let t=p0();return t?t.sanitize(Xl.URL,e)||"":_f(e,"URL")?Fr(e):h0(jl(e))}function MT(e){let t=p0();if(t)return Nv(t.sanitize(Xl.RESOURCE_URL,e)||"");if(_f(e,"ResourceURL"))return Nv(Fr(e));throw new I(904,!1)}function NT(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?MT:TT}function f0(e,t,n){return NT(t,n)(e)}function p0(){let e=X();return e&&e[Ut].sanitizer}function g0(e){return e instanceof Function?e():e}function AT(e){return(e??g(Se)).get(Fe)==="browser"}var dn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(dn||{}),RT;function vf(e,t){return RT(e,t)}function mr(e,t,n,i,r){if(i!=null){let o,s=!1;pn(i)?o=i:Fn(i)&&(s=!0,i=i[fn]);let a=$t(i);e===0&&n!==null?r==null?b0(t,n,a):Tl(t,n,a,r||null,!0):e===1&&n!==null?Tl(t,n,a,r||null,!0):e===2?GT(t,a,s):e===3&&t.destroyNode(a),o!=null&&zT(t,e,o,n,r)}}function OT(e,t){return e.createText(t)}function xT(e,t,n){e.setValue(t,n)}function m0(e,t,n){return e.createElement(t,n)}function PT(e,t){_0(e,t),t[fn]=null,t[et]=null}function kT(e,t,n,i,r,o){i[fn]=r,i[et]=t,ec(e,i,n,1,r,o)}function _0(e,t){t[Ut].changeDetectionScheduler?.notify(9),ec(e,t,t[_e],2,null,null)}function FT(e){let t=e[Go];if(!t)return Wd(e[j],e);for(;t;){let n=null;if(Fn(t))n=t[Go];else{let i=t[nt];i&&(n=i)}if(!n){for(;t&&!t[Mt]&&t!==e;)Fn(t)&&Wd(t[j],t),t=t[Ve];t===null&&(t=e),Fn(t)&&Wd(t[j],t),n=t&&t[Mt]}t=n}}function LT(e,t,n,i){let r=nt+i,o=n.length;i>0&&(n[r-1][Mt]=t),i<o-nt?(t[Mt]=n[r],ey(n,nt+i,t)):(n.push(t),t[Mt]=null),t[Ve]=n;let s=t[mi];s!==null&&n!==s&&v0(s,t);let a=t[cn];a!==null&&a.insertView(e),ah(t),t[O]|=128}function v0(e,t){let n=e[Er],i=t[Ve];if(Fn(i))e[O]|=vl.HasTransplantedViews;else{let r=i[Ve][_t];t[_t]!==r&&(e[O]|=vl.HasTransplantedViews)}n===null?e[Er]=[t]:n.push(t)}function yf(e,t){let n=e[Er],i=n.indexOf(t);n.splice(i,1)}function yh(e,t){if(e.length<=nt)return;let n=nt+t,i=e[n];if(i){let r=i[mi];r!==null&&r!==e&&yf(r,i),t>0&&(e[n-1][Mt]=i[Mt]);let o=pl(e,nt+t);PT(i[j],i);let s=o[cn];s!==null&&s.detachView(o[j]),i[Ve]=null,i[Mt]=null,i[O]&=-129}return i}function y0(e,t){if(!(t[O]&256)){let n=t[_e];n.destroyNode&&ec(e,t,n,3,null,null),FT(t)}}function Wd(e,t){if(t[O]&256)return;let n=Q(null);try{t[O]&=-129,t[O]|=256,t[mt]&&gd(t[mt]),BT(e,t),VT(e,t),t[j].type===1&&t[_e].destroy();let i=t[mi];if(i!==null&&pn(t[Ve])){i!==t[Ve]&&yf(i,t);let r=t[cn];r!==null&&r.detachView(e)}_h(t)}finally{Q(n)}}function VT(e,t){let n=e.cleanup,i=t[ml];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(t[ml]=null);let r=t[kn];if(r!==null){t[kn]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function BT(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof Di)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Vt(4,a,l);try{l.call(a)}finally{Vt(5,a,l)}}else{Vt(4,r,o);try{o.call(r)}finally{Vt(5,r,o)}}}}}function D0(e,t,n){return jT(e,t.parent,n)}function jT(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[fn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===jt.None||o===jt.Emulated)return null}return yt(i,n)}}function Tl(e,t,n,i,r){e.insertBefore(t,n,i,r)}function b0(e,t,n){e.appendChild(t,n)}function Av(e,t,n,i,r){i!==null?Tl(e,t,n,i,r):b0(e,t,n)}function w0(e,t){return e.parentNode(t)}function UT(e,t){return e.nextSibling(t)}function C0(e,t,n){return $T(e,t,n)}function HT(e,t,n){return e.type&40?yt(e,n):null}var $T=HT,Rv;function Df(e,t,n,i){let r=D0(e,i,t),o=t[_e],s=i.parent||t[et],a=C0(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Av(o,r,n[l],a,!1);else Av(o,r,n,a,!1);Rv!==void 0&&Rv(o,i,t,n,r)}function Lo(e,t){if(t!==null){let n=t.type;if(n&3)return yt(t,e);if(n&4)return Dh(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return Lo(e,i);{let r=e[t.index];return pn(r)?Dh(-1,r):$t(r)}}else{if(n&128)return Lo(e,t.next);if(n&32)return vf(t,e)()||$t(e[t.index]);{let i=E0(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=vi(e[_t]);return Lo(r,i)}else return Lo(e,t.next)}}}return null}function E0(e,t){if(t!==null){let i=e[_t][et],r=t.projection;return i.projection[r]}return null}function Dh(e,t){let n=nt+e+1;if(n<t.length){let i=t[n],r=i[j].firstChild;if(r!==null)return Lo(i,r)}return t[_i]}function GT(e,t,n){e.removeChild(null,t,n)}function bf(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&wi($t(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)bf(e,t,n.child,i,r,o,!1),mr(t,e,r,a,o);else if(l&32){let c=vf(n,i),u;for(;u=c();)mr(t,e,r,u,o);mr(t,e,r,a,o)}else l&16?I0(e,t,i,n,r,o):mr(t,e,r,a,o);n=s?n.projectionNext:n.next}}function ec(e,t,n,i,r,o){bf(n,i,e.firstChild,t,r,o,!1)}function WT(e,t,n){let i=t[_e],r=D0(e,n,t),o=n.parent||t[et],s=C0(o,n,t);I0(i,0,t,n,r,s)}function I0(e,t,n,i,r,o){let s=n[_t],l=s[et].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];mr(t,e,r,u,o)}else{let c=l,u=s[Ve];o0(i)&&(c.flags|=128),bf(e,t,c,u,r,o,!0)}}function zT(e,t,n,i,r){let o=n[_i],s=$t(n);o!==s&&mr(t,e,i,o,r);for(let a=nt;a<n.length;a++){let l=n[a];ec(l[j],l,e,t,i,o)}}function qT(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:dn.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=dn.Important),e.setStyle(n,i,r,o))}}function KT(e,t,n){e.setAttribute(t,"style",n)}function S0(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function T0(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&th(e,t,i),r!==null&&S0(e,t,r),o!==null&&KT(e,t,o)}var Gn={};function Be(e=1){M0(ke(),X(),Si()+e,!1)}function M0(e,t,n,i){if(!i)if((t[O]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ll(t,o,n)}else{let o=e.preOrderHooks;o!==null&&cl(t,o,0,n)}yi(n)}function Y(e,t=H.Default){let n=X();if(n===null)return _(e,t);let i=Ge();return Jy(i,n,$e(e),t)}function N0(){let e="invalid";throw new Error(e)}function A0(e,t,n,i,r,o){let s=Q(null);try{let a=null;r&Ln.SignalBased&&(a=t[i][nn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Ln.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,i):by(t,a,i,o)}finally{Q(s)}}function QT(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)yi(~r);else{let o=r,s=n[++i],a=n[++i];kS(s,o);let l=t[o];a(2,l)}}}finally{yi(-1)}}function tc(e,t,n,i,r,o,s,a,l,c,u){let d=t.blueprint.slice();return d[fn]=r,d[O]=i|4|128|8|64,(c!==null||e&&e[O]&2048)&&(d[O]|=2048),Ty(d),d[Ve]=d[Rr]=e,d[At]=n,d[Ut]=s||e&&e[Ut],d[_e]=a||e&&e[_e],d[Cr]=l||e&&e[Cr]||null,d[et]=o,d[Wl]=mT(),d[$o]=u,d[vy]=c,d[_t]=t.type==2?e[_t]:d,d}function Yo(e,t,n,i,r){let o=e.data[t];if(o===null)o=YT(e,t,n,i,r),PS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=OS();o.injectorIndex=s===null?-1:s.injectorIndex}return Qo(o,!0),o}function YT(e,t,n,i,r){let o=xy(),s=Py(),a=s?o:o&&o.parent,l=e.data[t]=nM(e,a,n,t,i,r);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function R0(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function O0(e,t,n,i,r){let o=Si(),s=i&2;try{yi(-1),s&&t.length>Ht&&M0(e,t,Ht,!1),Vt(s?2:0,r),n(i,r)}finally{yi(o),Vt(s?3:1,r)}}function x0(e,t,n){if(Dy(t)){let i=Q(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Q(i)}}}function P0(e,t,n){Ry()&&(lM(e,t,n,yt(n,t)),(n.flags&64)===64&&j0(e,t,n))}function k0(e,t,n=yt){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function F0(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=wf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function wf(e,t,n,i,r,o,s,a,l,c,u){let d=Ht+i,h=d+r,f=ZT(d,h),p=typeof c=="function"?c():c;return f[j]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function ZT(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:Gn);return n}function JT(e,t,n,i){let o=i.get(CT,d0)||n===jt.ShadowDom,s=e.selectRootElement(t,o);return XT(s),s}function XT(e){eM(e)}var eM=()=>null;function tM(e,t,n,i){let r=$0(t);r.push(n),e.firstCreatePass&&G0(e).push(i,r.length-1)}function nM(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Oy()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ov(e,t,n,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;i??={};let a,l=Ln.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?xv(i,n,c,a,l):xv(i,n,c,a)}return i}function xv(e,t,n,i,r){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,i):o=e[n]=[t,i],r!==void 0&&o.push(r)}function iM(e,t,n){let i=t.directiveStart,r=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=Ov(0,d.inputs,u,l,f),c=Ov(1,d.outputs,u,c,p);let m=l!==null&&s!==null&&!Xh(t)?yM(l,u,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function rM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function L0(e,t,n,i,r,o,s,a){let l=yt(t,n),c=t.inputs,u;!a&&c!=null&&(u=c[i])?(Cf(e,n,u,i,r),zl(t)&&oM(n,t.index)):t.type&3?(i=rM(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)):t.type&12}function oM(e,t){let n=Hn(t,e);n[O]&16||(n[O]|=64)}function V0(e,t,n,i){if(Ry()){let r=i===null?null:{"":-1},o=uM(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&B0(e,t,n,s,r,a),r&&dM(n,i,r)}n.mergedAttrs=Uo(n.mergedAttrs,n.attrs)}function B0(e,t,n,i,r,o){for(let c=0;c<i.length;c++)dh(wl(n,t),e,i[c].type);fM(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=R0(e,t,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=Uo(n.mergedAttrs,u.hostAttrs),pM(e,n,t,l,u),hM(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}iM(e,n,o)}function sM(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;aM(s)!=a&&s.push(a),s.push(n,i,o)}}function aM(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function lM(e,t,n,i){let r=n.directiveStart,o=n.directiveEnd;zl(n)&&gM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||wl(n,t),wi(i,t);let s=n.initialInputs;for(let a=r;a<o;a++){let l=e.data[a],c=bi(t,e,a,n);if(wi(c,t),s!==null&&vM(t,a-r,c,l,n,s),Vn(l)){let u=Hn(n.index,t);u[At]=bi(t,e,a,n)}}}function j0(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=FS();try{yi(o);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];lh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&cM(l,c)}}finally{yi(-1),lh(s)}}function cM(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function uM(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(sy(t,s.selectors,!1))if(i||(i=[]),Vn(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;bh(e,t,l)}else i.unshift(s),bh(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function bh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function dM(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new I(-301,!1);i.push(t[r],o)}}}function hM(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Vn(t)&&(n[""]=e)}}function fM(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function pM(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=yr(r.type,!0)),s=new Di(o,Vn(r),Y);e.blueprint[i]=s,n[i]=s,sM(e,t,i,R0(e,n,r.hostVars,Gn),r)}function gM(e,t,n){let i=yt(t,e),r=F0(n),o=e[Ut].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=nc(e,tc(e,r,null,s,i,t,null,o.createRenderer(i,n),null,null,null));e[t.index]=a}function mM(e,t,n,i,r,o){let s=yt(e,t);_M(t[_e],s,o,e.value,n,i,r)}function _M(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?jl(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function vM(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];A0(i,n,l,c,u,d)}}function yM(e,t,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function U0(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function H0(e,t){let n=e.contentQueries;if(n!==null){let i=Q(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];rf(o),a.contentQueries(2,t[s],s)}}}finally{Q(i)}}}function nc(e,t){return e[Go]?e[_v][Mt]=t:e[Go]=t,e[_v]=t,t}function wh(e,t,n){rf(0);let i=Q(null);try{t(e,n)}finally{Q(i)}}function $0(e){return e[ml]??=[]}function G0(e){return e.cleanup??=[]}function W0(e,t){let n=e[Cr],i=n?n.get(un,null):null;i&&i.handleError(t)}function Cf(e,t,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=t[s],u=e.data[s];A0(u,c,i,a,l,r)}}function DM(e,t,n){let i=Iy(t,e);xT(e[_e],i,n)}function bM(e,t){let n=Hn(t,e),i=n[j];wM(i,n);let r=n[fn];r!==null&&n[$o]===null&&(n[$o]=mf(r,n[Cr])),Ef(i,n,n[At])}function wM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Ef(e,t,n){of(t);try{let i=e.viewQuery;i!==null&&wh(1,i,n);let r=e.template;r!==null&&O0(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[cn]?.finishViewCreation(e),e.staticContentQueries&&H0(e,t),e.staticViewQueries&&wh(2,e.viewQuery,n);let o=e.components;o!==null&&CM(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[O]&=-5,sf()}}function CM(e,t){for(let n=0;n<t.length;n++)bM(e,t[n])}function z0(e,t,n,i){let r=Q(null);try{let o=t.tView,a=e[O]&4096?4096:16,l=tc(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[mi]=c;let u=e[cn];return u!==null&&(l[cn]=u.createEmbeddedView(o)),Ef(o,l,n),l}finally{Q(r)}}function Ch(e,t){return!t||t.firstChild===null||o0(e)}function q0(e,t,n,i=!0){let r=t[j];if(LT(r,t,e,n),i){let s=Dh(n,e),a=t[_e],l=w0(a,e[_i]);l!==null&&kT(r,e[et],a,t,l,s)}let o=t[$o];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ml(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push($t(o)),pn(o)&&EM(o,i);let s=n.type;if(s&8)Ml(e,t,n.child,i);else if(s&32){let a=vf(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=E0(t,n);if(Array.isArray(a))i.push(...a);else{let l=vi(t[_t]);Ml(l[j],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function EM(e,t){for(let n=nt;n<e.length;n++){let i=e[n],r=i[j].firstChild;r!==null&&Ml(i[j],i,r,t)}e[_i]!==e[fn]&&t.push(e[_i])}var K0=[];function IM(e){return e[mt]??SM(e)}function SM(e){let t=K0.pop()??Object.create(MM);return t.lView=e,t}function TM(e){e.lView[mt]!==e&&(e.lView=null,K0.push(e))}var MM=U(y({},Oo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Kl(e.lView)},consumerOnSignalRead(){this.lView[mt]=this}});function NM(e){let t=e[mt]??Object.create(AM);return t.lView=e,t}var AM=U(y({},Oo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=vi(e.lView);for(;t&&!Q0(t[j]);)t=vi(t);t&&My(t)},consumerOnSignalRead(){this.lView[mt]=this}});function Q0(e){return e.type!==2}var RM=100;function Y0(e,t=!0,n=0){let i=e[Ut],r=i.rendererFactory,o=!1;o||r.begin?.();try{OM(e,n)}catch(s){throw t&&W0(e,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function OM(e,t){let n=Fy();try{yv(!0),Eh(e,t);let i=0;for(;ql(e);){if(i===RM)throw new I(103,!1);i++,Eh(e,1)}}finally{yv(n)}}function xM(e,t,n,i){let r=t[O];if((r&256)===256)return;let o=!1,s=!1;!o&&t[Ut].inlineEffectRunner?.flush(),of(t);let a=!0,l=null,c=null;o||(Q0(e)?(c=IM(t),l=Ea(c)):T_()===null?(a=!1,c=NM(t),l=Ea(c)):t[mt]&&(gd(t[mt]),t[mt]=null));try{Ty(t),xS(e.bindingStartIndex),n!==null&&O0(e,t,n,2,i);let u=(r&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&ll(t,f,null)}else{let f=e.preOrderHooks;f!==null&&cl(t,f,0,null),Ud(t,0)}if(s||PM(t),Z0(t,0),e.contentQueries!==null&&H0(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&ll(t,f)}else{let f=e.contentHooks;f!==null&&cl(t,f,1),Ud(t,1)}QT(e,t);let d=e.components;d!==null&&X0(t,d,0);let h=e.viewQuery;if(h!==null&&wh(2,h,i),!o)if(u){let f=e.viewCheckHooks;f!==null&&ll(t,f)}else{let f=e.viewHooks;f!==null&&cl(t,f,2),Ud(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[jd]){for(let f of t[jd])f();t[jd]=null}o||(t[O]&=-73)}catch(u){throw o||Kl(t),u}finally{c!==null&&(fd(c,l),a&&TM(c)),sf()}}function Z0(e,t){for(let n=a0(e);n!==null;n=l0(n))for(let i=nt;i<n.length;i++){let r=n[i];J0(r,t)}}function PM(e){for(let t=a0(e);t!==null;t=l0(t)){if(!(t[O]&vl.HasTransplantedViews))continue;let n=t[Er];for(let i=0;i<n.length;i++){let r=n[i];My(r)}}}function kM(e,t,n){let i=Hn(t,e);J0(i,n)}function J0(e,t){nf(e)&&Eh(e,t)}function Eh(e,t){let i=e[j],r=e[O],o=e[mt],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&pd(o)),s||=!1,o&&(o.dirty=!1),e[O]&=-9217,s)xM(i,e,i.template,e[At]);else if(r&8192){Z0(e,1);let a=i.components;a!==null&&X0(e,a,1)}}function X0(e,t,n){for(let i=0;i<t.length;i++)kM(e,t[i],n)}function If(e,t){let n=Fy()?64:1088;for(e[Ut].changeDetectionScheduler?.notify(t);e;){e[O]|=n;let i=vi(e);if(oh(e)&&!i)return e;e=i}return null}var Ci=class{get rootNodes(){let t=this._lView,n=t[j];return Ml(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[At]}set context(t){this._lView[At]=t}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ve];if(pn(t)){let n=t[_l],i=n?n.indexOf(this):-1;i>-1&&(yh(t,i),pl(n,i))}this._attachedToViewContainer=!1}y0(this._lView[j],this._lView)}onDestroy(t){Ny(this._lView,t)}markForCheck(){If(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){ah(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,Y0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=oh(this._lView),n=this._lView[mi];n!==null&&!t&&yf(n,this._lView),_0(this._lView[j],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t;let n=oh(this._lView),i=this._lView[mi];i!==null&&!n&&v0(i,this._lView),ah(this._lView)}},Bn=(()=>{class e{static{this.__NG_ELEMENT_ID__=VM}}return e})(),FM=Bn,LM=class extends FM{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=z0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new Ci(r)}};function VM(){return Sf(Ge(),X())}function Sf(e,t){return e.type&4?new LM(t,e,kr(e,t)):null}var yG=new RegExp(`^(\\d+)*(${bT}|${DT})*(.*)`);var BM=()=>null;function Ih(e,t){return BM(e,t)}var Ir=class{},Tf=new b("",{providedIn:"root",factory:()=>!1});var eD=new b(""),tD=new b(""),Sh=class{},Nl=class{};function jM(e){let t=Error(`No component factory found for ${Xe(e)}.`);return t[UM]=e,t}var UM="ngComponent";var Th=class{resolveComponentFactory(t){throw jM(t)}},Sr=class{static{this.NULL=new Th}},Tr=class{},Ti=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>HM()}}return e})();function HM(){let e=X(),t=Ge(),n=Hn(t.index,e);return(Fn(n)?n:e)[_e]}var $M=(()=>{class e{static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>null})}}return e})();function Mh(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=Zd(r,a);else if(o==2){let l=a,c=t[++s];i=Zd(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var Al=class extends Sr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ln(t);return new Ei(n,this.ngModule)}};function Pv(e,t){let n=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Ln.None;t?n.push({propName:s,templateName:i,isSignal:(a&Ln.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function GM(e){let t=e.toLowerCase();return t==="svg"?bS:t==="math"?wS:null}var Ei=class extends Nl{get inputs(){let t=this.componentDef,n=t.inputTransforms,i=Pv(t.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return Pv(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=XI(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=Q(null);try{r=r||this.ngModule;let s=r instanceof Me?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ch(t,s):t,l=a.get(Tr,null);if(l===null)throw new I(407,!1);let c=a.get($M,null),u=a.get(Ir,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?JT(h,i,this.componentDef.encapsulation,a):m0(h,f,GM(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let D=null;p!==null&&(D=mf(p,a,!0));let S=wf(0,null,null,1,0,null,null,null,null,null,null),B=tc(null,S,null,m,null,null,d,h,a,null,D);of(B);let E,ie,fe=null;try{let we=this.componentDef,en,sd=null;we.findHostDirectiveDefs?(en=[],sd=new Map,we.findHostDirectiveDefs(we,en,sd),en.push(we)):en=[we];let P1=WM(B,p);fe=zM(P1,p,we,en,B,d,h),ie=Sy(S,Ht),p&&QM(h,we,p,i),n!==void 0&&YM(ie,this.ngContentSelectors,n),E=KM(fe,we,en,sd,B,[ZM]),Ef(S,B,null)}catch(we){throw fe!==null&&_h(fe),_h(B),we}finally{sf()}return new Nh(this.componentType,E,kr(ie,B),B,ie)}finally{Q(o)}}},Nh=class extends Sh{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ci(r,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;Cf(o[j],o,r,t,n),this.previousInputValues.set(t,n);let s=Hn(this._tNode.index,o);If(s,1)}}get injector(){return new gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function WM(e,t){let n=e[j],i=Ht;return e[i]=t,Yo(n,i,2,"#host",null)}function zM(e,t,n,i,r,o,s){let a=r[j];qM(i,e,t,s);let l=null;t!==null&&(l=mf(t,r[Cr]));let c=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=tc(r,F0(n),null,u,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&bh(a,e,i.length-1),nc(r,d),r[e.index]=d}function qM(e,t,n,i){for(let r of e)t.mergedAttrs=Uo(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(Mh(t,t.mergedAttrs,!0),n!==null&&T0(i,n,t))}function KM(e,t,n,i,r,o){let s=Ge(),a=r[j],l=yt(s,r);B0(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=bi(r,a,d,s);wi(h,r)}j0(a,r,s),l&&wi(l,r);let c=bi(r,a,s.directiveStart+s.componentOffset,s);if(e[At]=r[At]=c,o!==null)for(let u of o)u(c,t);return x0(a,s,r),c}function QM(e,t,n,i){if(i)th(e,n,["ng-version","18.2.9"]);else{let{attrs:r,classes:o}=eS(t.selectors[0]);r&&th(e,n,r),o&&o.length>0&&S0(e,n,o.join(" "))}}function YM(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function ZM(){let e=Ge();uf(X()[j],e)}var Wn=(()=>{class e{static{this.__NG_ELEMENT_ID__=JM}}return e})();function JM(){let e=Ge();return iD(e,X())}var XM=Wn,nD=class extends XM{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return kr(this._hostTNode,this._hostLView)}get injector(){return new gi(this._hostTNode,this._hostLView)}get parentInjector(){let t=df(this._hostTNode,this._hostLView);if(zy(t)){let n=bl(t,this._hostLView),i=Dl(t),r=n[j].data[i+8];return new gi(r,n)}else return new gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=kv(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-nt}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Ih(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,Ch(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!_S(t),a;if(s)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Ei(ln(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(Me,null);m&&(o=m)}let u=ln(l.componentType??{}),d=Ih(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,Ch(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(ES(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[Ve],c=new nD(l,l[et],l[Ve]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return q0(s,r,o,i),t.attachToViewContainerRef(),ey(zd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=kv(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=yh(this._lContainer,n);i&&(pl(zd(this._lContainer),n),y0(i[j],i))}detach(t){let n=this._adjustIndex(t,-1),i=yh(this._lContainer,n);return i&&pl(zd(this._lContainer),n)!=null?new Ci(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function kv(e){return e[_l]}function zd(e){return e[_l]||(e[_l]=[])}function iD(e,t){let n,i=t[e.index];return pn(i)?n=i:(n=U0(i,t,null,e),t[e.index]=n,nc(t,n)),tN(n,t,e,i),new nD(n,e,t)}function eN(e,t){let n=e[_e],i=n.createComment(""),r=yt(t,e),o=w0(n,r);return Tl(n,o,i,UT(n,r),!1),i}var tN=rN,nN=()=>!1;function iN(e,t,n){return nN(e,t,n)}function rN(e,t,n,i){if(e[_i])return;let r;n.type&8?r=$t(i):r=eN(t,n),e[_i]=r}var Ah=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Rh=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Mf(t,n).matches!==null&&this.queries[n].setDirty()}},Oh=class{constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=hN(t):this.predicate=t}},xh=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Ph=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,oN(n,o)),this.matchTNodeWithReadOption(t,n,ul(n,t,o,!1,!1))}else i===Bn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ul(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===We||r===Wn||r===Bn&&n.type&4)this.addMatch(n.index,-2);else{let o=ul(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function oN(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function sN(e,t){return e.type&11?kr(e,t):e.type&4?Sf(e,t):null}function aN(e,t,n,i){return n===-1?sN(t,e):n===-2?lN(e,t,i):bi(e,e[j],n,t)}function lN(e,t,n){if(n===We)return kr(t,e);if(n===Bn)return Sf(t,e);if(n===Wn)return iD(t,e)}function rD(e,t,n,i){let r=t[cn].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(aN(t,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function kh(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=rD(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=nt;d<u.length;d++){let h=u[d];h[mi]===h[Ve]&&kh(h[j],h,c,i)}if(u[Er]!==null){let d=u[Er];for(let h=0;h<d.length;h++){let f=d[h];kh(f[j],f,c,i)}}}}}return i}function cN(e,t){return e[cn].queries[t].queryList}function uN(e,t,n){let i=new mh((n&4)===4);return tM(e,t,i,i.destroy),(t[cn]??=new Rh).queries.push(new Ah(i))-1}function dN(e,t,n){let i=ke();return i.firstCreatePass&&(fN(i,new Oh(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),uN(i,X(),t)}function hN(e){return e.split(",").map(t=>t.trim())}function fN(e,t,n){e.queries===null&&(e.queries=new xh),e.queries.track(new Ph(t,n))}function Mf(e,t){return e.queries.getByIndex(t)}function pN(e,t){let n=e[j],i=Mf(n,t);return i.crossesNgTemplate?kh(n,e,t,[]):rD(n,e,i,t)}var Fv=new Set;function Lr(e){Fv.has(e)||(Fv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function gN(e){return typeof e=="function"&&e[nn]!==void 0}function ic(e,t){Lr("NgSignals");let n=V_(e),i=n[nn];return t?.equal&&(i.equal=t.equal),n.set=r=>md(i,r),n.update=r=>B_(i,r),n.asReadonly=mN.bind(n),n}function mN(){let e=this[nn];if(e.readonlyFn===void 0){let t=()=>this();t[nn]=e,e.readonlyFn=t}return e.readonlyFn}function oD(e){return gN(e)&&typeof e.set=="function"}function _N(e){let t=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=e(r);n.set(r,o=s.then(bN))}return o}return Rl.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>wN(o));t.push(l)}),yN(),Promise.all(t).then(()=>{})}var Rl=new Map,vN=new Set;function yN(){let e=Rl;return Rl=new Map,e}function DN(){return Rl.size===0}function bN(e){return typeof e=="string"?e:e.text()}function wN(e){vN.delete(e)}function CN(e){return Object.getPrototypeOf(e.prototype).constructor}function Mi(e){let t=CN(e.type),n=!0,i=[e];for(;t;){let r;if(Vn(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=il(e.inputs),s.inputTransforms=il(e.inputTransforms),s.declaredInputs=il(e.declaredInputs),s.outputs=il(e.outputs);let a=r.hostBindings;a&&MN(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&SN(e,l),c&&TN(e,c),EN(e,r),vI(e.outputs,r.outputs),Vn(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Mi&&(n=!1)}}t=Object.getPrototypeOf(t)}IN(i)}function EN(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function IN(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Uo(r.hostAttrs,n=Uo(n,r.hostAttrs))}}function il(e){return e===Dr?{}:e===Je?[]:e}function SN(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function TN(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function MN(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function Nf(e){let t=e.inputConfig,n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}e.inputTransforms=n}var jn=class{},Wo=class{};var Ol=class extends jn{constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Al(this);let o=uy(t);this._bootstrapComponents=g0(o.bootstrap),this._r3Injector=t0(t,n,[{provide:jn,useValue:this},{provide:Sr,useValue:this.componentFactoryResolver},...i],Xe(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},xl=class extends Wo{constructor(t){super(),this.moduleType=t}create(t){return new Ol(this.moduleType,t,[])}};function NN(e,t,n){return new Ol(e,t,n,!1)}var Fh=class extends jn{constructor(t){super(),this.componentFactoryResolver=new Al(this),this.instance=null;let n=new Ho([...t.providers,{provide:jn,useValue:this},{provide:Sr,useValue:this.componentFactoryResolver}],t.parent||Gl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function rc(e,t,n=null){return new Fh({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function sD(e){return RN(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function AN(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function RN(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Vr(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function ON(e){return(e.flags&32)===32}function xN(e,t,n,i,r,o,s,a,l){let c=t.consts,u=Yo(t,e,4,s||null,a||null);V0(t,n,u,yl(c,l)),uf(t,u);let d=u.tView=wf(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function aD(e,t,n,i,r,o,s,a,l,c){let u=n+Ht,d=t.firstCreatePass?xN(u,t,e,i,r,o,s,a,l):t.data[u];Qo(d,!1);let h=PN(t,e,d,n);lf()&&Df(t,e,h,d),wi(h,e);let f=U0(h,e,h,d);return e[u]=f,nc(e,f),iN(f,d,e),tf(d)&&P0(t,e,d),l!=null&&k0(e,d,c),d}function gn(e,t,n,i,r,o,s,a){let l=X(),c=ke(),u=yl(c.consts,o);return aD(l,c,e,t,n,i,r,u,s,a),gn}var PN=kN;function kN(e,t,n,i){return cf(!0),t[_e].createComment("")}var an=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(an||{}),lD=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Lh=class e{constructor(){this.ngZone=g(k),this.scheduler=g(Ir),this.errorHandler=g(un,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[an.EarlyRead,an.Write,an.MixedReadWrite,an.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}},Vh=class{constructor(t,n,i,r){this.impl=t,this.hooks=n,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Br(e,t){!t?.injector&&gS(Br);let n=t?.injector??g(Se);return AT(n)?(Lr("NgAfterNextRender"),LN(e,n,t,!0)):VN}function FN(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function LN(e,t,n,i){let r=t.get(lD);r.impl??=t.get(Lh);let o=n?.phase??an.MixedReadWrite,s=n?.manualCleanup!==!0?t.get(Zl):null,a=new Vh(r.impl,FN(e,o),i,s);return r.impl.register(a),a}var VN={destroy(){}};function jr(e,t,n,i){let r=X(),o=Ql();if(Vr(r,o,t)){let s=ke(),a=af();mM(a,r,e,t,n,i)}return jr}function BN(e,t,n,i){return Vr(e,Ql(),n)?t+jl(n)+i:Gn}function rl(e,t){return e<<17|t<<2}function Ii(e){return e>>17&32767}function jN(e){return(e&2)==2}function UN(e,t){return e&131071|t<<17}function Bh(e){return e|2}function Mr(e){return(e&131068)>>2}function qd(e,t){return e&-131069|t<<2}function HN(e){return(e&1)===1}function jh(e){return e|1}function $N(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ii(s),l=Mr(s);e[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ko(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=Ii(e[a+1]);e[i+1]=rl(h,a),h!==0&&(e[h+1]=qd(e[h+1],i)),e[a+1]=UN(e[a+1],i)}else e[i+1]=rl(a,0),a!==0&&(e[a+1]=qd(e[a+1],i)),a=i;else e[i+1]=rl(l,0),a===0?a=i:e[l+1]=qd(e[l+1],i),l=i;c&&(e[i+1]=Bh(e[i+1])),Lv(e,u,i,!0),Lv(e,u,i,!1),GN(t,u,e,i,o),s=rl(a,l),o?t.classBindings=s:t.styleBindings=s}function GN(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ko(o,t)>=0&&(n[i+1]=jh(n[i+1]))}function Lv(e,t,n,i){let r=e[n+1],o=t===null,s=i?Ii(r):Mr(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];WN(l,t)&&(a=!0,e[s+1]=i?jh(c):Bh(c)),s=i?Ii(c):Mr(c)}a&&(e[n+1]=i?Bh(r):jh(r))}function WN(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ko(e,t)>=0:!1}var Tt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zN(e){return e.substring(Tt.key,Tt.keyEnd)}function qN(e){return KN(e),cD(e,uD(e,0,Tt.textEnd))}function cD(e,t){let n=Tt.textEnd;return n===t?-1:(t=Tt.keyEnd=QN(e,Tt.key=t,n),uD(e,t,n))}function KN(e){Tt.key=0,Tt.keyEnd=0,Tt.value=0,Tt.valueEnd=0,Tt.textEnd=e.length}function uD(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function QN(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Gt(e,t,n){let i=X(),r=Ql();if(Vr(i,r,t)){let o=ke(),s=af();L0(o,s,i,e,t,i[_e],n,!1)}return Gt}function Uh(e,t,n,i,r){let o=t.inputs,s=r?"class":"style";Cf(e,n,o[s],s,i)}function Ni(e,t){return ZN(e,t,null,!0),Ni}function oc(e){JN(rA,YN,e,!0)}function YN(e,t){for(let n=qN(t);n>=0;n=cD(t,n))Jh(e,zN(t),!0)}function ZN(e,t,n,i){let r=X(),o=ke(),s=Ly(2);if(o.firstUpdatePass&&hD(o,e,s,i),t!==Gn&&Vr(r,s,t)){let a=o.data[Si()];fD(o,a,r,r[_e],e,r[s+1]=sA(t,n),i,s)}}function JN(e,t,n,i){let r=ke(),o=Ly(2);r.firstUpdatePass&&hD(r,null,o,i);let s=X();if(n!==Gn&&Vr(s,o,n)){let a=r.data[Si()];if(pD(a,i)&&!dD(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Zd(l,n||"")),Uh(r,a,s,n,i)}else oA(r,a,s,s[_e],s[o+1],s[o+1]=iA(e,t,n),i,o)}}function dD(e,t){return t>=e.expandoStartIndex}function hD(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[Si()],s=dD(e,n);pD(o,i)&&t===null&&!s&&(t=!1),t=XN(r,o,t,i),$N(r,o,t,n,s,i)}}function XN(e,t,n,i){let r=LS(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Kd(null,e,t,n,i),n=zo(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=Kd(r,e,t,n,i),o===null){let l=eA(e,t,i);l!==void 0&&Array.isArray(l)&&(l=Kd(null,e,t,l[1],i),l=zo(l,t.attrs,i),tA(e,t,i,l))}else o=nA(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function eA(e,t,n){let i=n?t.classBindings:t.styleBindings;if(Mr(i)!==0)return e[Ii(i)]}function tA(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Ii(r)]=i}function nA(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=zo(i,s,n)}return zo(i,t.attrs,n)}function Kd(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=zo(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function zo(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Jh(e,s,n?!0:t[++o]))}return e===void 0?null:e}function iA(e,t,n){if(n==null||n==="")return Je;let i=[],r=Fr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function rA(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Jh(e,i,n)}function oA(e,t,n,i,r,o,s,a){r===Gn&&(r=Je);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&fD(e,t,n,i,p,m,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function fD(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=HN(c)?Vv(l,t,n,r,Mr(c),s):void 0;if(!Pl(u)){Pl(o)||jN(c)&&(o=Vv(l,null,n,r,a,s));let d=Iy(Si(),n);qT(i,s,d,r,o)}}function Vv(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===Gn&&(h=d?Je:void 0);let f=d?Vd(h,i):u===i?h:void 0;if(c&&!Pl(f)&&(f=Vd(l,i)),Pl(f)&&(a=f,s))return a;let p=e[r+1];r=s?Ii(p):Mr(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Vd(l,i))}return a}function Pl(e){return e!==void 0}function sA(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Xe(Fr(e)))),e}function pD(e,t){return(e.flags&(t?8:16))!==0}function aA(e,t,n,i,r,o){let s=t.consts,a=yl(s,r),l=Yo(t,e,2,i,a);return V0(t,n,l,yl(s,o)),l.attrs!==null&&Mh(l,l.attrs,!1),l.mergedAttrs!==null&&Mh(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function ee(e,t,n,i){let r=X(),o=ke(),s=Ht+e,a=r[_e],l=o.firstCreatePass?aA(s,o,r,t,n,i):o.data[s],c=lA(o,r,l,a,t,e);r[s]=c;let u=tf(l);return Qo(l,!0),T0(a,c,l),!ON(l)&&lf()&&Df(o,r,c,l),TS()===0&&wi(c,r),MS(),u&&(P0(o,r,l),x0(o,l,r)),i!==null&&k0(r,l),ee}function se(){let e=Ge();Py()?ky():(e=e.parent,Qo(e,!1));let t=e;AS(t)&&RS(),NS();let n=ke();return n.firstCreatePass&&(uf(n,e),Dy(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&GS(t)&&Uh(n,t,X(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&WS(t)&&Uh(n,t,X(),t.stylesWithoutHost,!1),se}function Wt(e,t,n,i){return ee(e,t,n,i),se(),Wt}var lA=(e,t,n,i,r,o)=>(cf(!0),m0(i,r,jS()));function Zo(){return X()}var kl="en-US";var cA=kl;function uA(e){typeof e=="string"&&(cA=e.toLowerCase().replace(/_/g,"-"))}var dA=(e,t,n)=>{};function tt(e,t,n,i){let r=X(),o=ke(),s=Ge();return gD(o,r,r[_e],s,e,t,i),tt}function hA(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[ml],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function gD(e,t,n,i,r,o,s){let a=tf(i),c=e.firstCreatePass&&G0(e),u=t[At],d=$0(t),h=!0;if(i.type&3||s){let m=yt(i,t),D=s?s(m):m,S=d.length,B=s?ie=>s($t(ie[i.index])):i.index,E=null;if(!s&&a&&(E=hA(e,t,r,i.index)),E!==null){let ie=E.__ngLastListenerFn__||E;ie.__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1}else{o=jv(i,t,u,o),dA(m,r,o);let ie=n.listen(D,r,o);d.push(o,ie),c&&c.push(r,B,S,S+1)}}else o=jv(i,t,u,o);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let m=p.length;if(m)for(let D=0;D<m;D+=2){let S=p[D],B=p[D+1],fe=t[S][B].subscribe(o),we=d.length;d.push(o,fe),c&&c.push(r,i.index,we,-(we+1))}}}function Bv(e,t,n,i){let r=Q(null);try{return Vt(6,t,n),n(i)!==!1}catch(o){return W0(e,o),!1}finally{Vt(7,t,n),Q(r)}}function jv(e,t,n,i){return function r(o){if(o===Function)return i;let s=e.componentOffset>-1?Hn(e.index,t):t;If(s,5);let a=Bv(t,n,i,o),l=r.__ngNextListenerFn__;for(;l;)a=Bv(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function mn(e=1){return BS(e)}function fA(e,t){let n=null,i=KI(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?sy(e,o,!0):ZI(i,o))return r}return n}function mD(e){let t=X()[_t][et];if(!t.projection){let n=e?e.length:1,i=t.projection=BI(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?fA(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function _D(e,t=0,n,i,r,o){let s=X(),a=ke(),l=i?e+1:null;l!==null&&aD(s,a,l,i,r,o,null,n);let c=Yo(a,Ht+e,16,null,n||null);c.projection===null&&(c.projection=t),ky();let d=!s[$o]||Oy();s[_t][et].projection[c.projection]===null&&l!==null?pA(s,a,l):d&&(c.flags&32)!==32&&WT(a,s,c)}function pA(e,t,n){let i=Ht+n,r=t.data[i],o=e[i],s=Ih(o,r.tView.ssrId),a=z0(e,r,void 0,{dehydratedView:s});q0(o,a,0,Ch(r,s))}function vD(e,t,n){dN(e,t,n)}function Af(e){let t=X(),n=ke(),i=Vy();rf(i+1);let r=Mf(n,i);if(e.dirty&&CS(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=pN(t,i);e.reset(o,fT),e.notifyOnChanges()}return!0}return!1}function Rf(){return cN(X(),Vy())}function Ne(e,t=""){let n=X(),i=ke(),r=e+Ht,o=i.firstCreatePass?Yo(i,r,1,t,null):i.data[r],s=gA(i,n,o,t,e);n[r]=s,lf()&&Df(i,n,s,o),Qo(o,!1)}var gA=(e,t,n,i,r)=>(cf(!0),OT(t[_e],i));function Ai(e){return Jo("",e,""),Ai}function Jo(e,t,n){let i=X(),r=BN(i,e,t,n);return r!==Gn&&DM(i,Si(),r),Jo}function Ur(e,t,n){oD(t)&&(t=t());let i=X(),r=Ql();if(Vr(i,r,t)){let o=ke(),s=af();L0(o,s,i,e,t,i[_e],n,!1)}return Ur}function Xo(e,t){let n=oD(e);return n&&e.set(t),n}function Hr(e,t){let n=X(),i=ke(),r=Ge();return gD(i,n,n[_e],r,e,t),Hr}function mA(e,t,n){let i=ke();if(i.firstCreatePass){let r=Vn(e);Hh(n,i.data,i.blueprint,r,!0),Hh(t,i.data,i.blueprint,r,!1)}}function Hh(e,t,n,i,r){if(e=$e(e),Array.isArray(e))for(let o=0;o<e.length;o++)Hh(e[o],t,n,i,r);else{let o=ke(),s=X(),a=Ge(),l=wr(e)?e:$e(e.provide),c=my(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(wr(e)||!e.multi){let f=new Di(c,r,Y),p=Yd(l,t,r?u:u+h,d);p===-1?(dh(wl(a,s),o,l),Qd(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Yd(l,t,u+h,d),p=Yd(l,t,u,u+h),m=f>=0&&n[f],D=p>=0&&n[p];if(r&&!D||!r&&!m){dh(wl(a,s),o,l);let S=yA(r?vA:_A,n.length,r,i,c);!r&&D&&(n[p].providerFactory=S),Qd(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(S),s.push(S)}else{let S=yD(n[r?p:f],c,!r&&i);Qd(o,e,f>-1?f:p,S)}!r&&i&&D&&n[p].componentProviders++}}}function Qd(e,t,n,i){let r=wr(t),o=lS(t);if(r||o){let l=(o?$e(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function yD(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Yd(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function _A(e,t,n,i){return $h(this.multi,[])}function vA(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=bi(n,n[j],this.providerFactory.index,i);o=a.slice(0,s),$h(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],$h(r,o);return o}function $h(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function yA(e,t,n,i,r){let o=new Di(e,n,Y);return o.multi=[],o.index=t,o.componentProviders=0,yD(o,r,i&&!n),o}function sc(e,t=[]){return n=>{n.providersResolver=(i,r)=>mA(i,r?r(e):e,t)}}var DA=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=fy(!1,n.type),r=i.length>0?rc([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=w({token:e,providedIn:"environment",factory:()=>new e(_(Me))})}}return e})();function es(e){Lr("NgStandalone"),e.getStandaloneInjector=t=>t.get(DA).getOrCreateStandaloneInjector(e)}var ol=null;function bA(e){ol!==null&&(e.defaultEncapsulation!==ol.defaultEncapsulation||e.preserveWhitespaces!==ol.preserveWhitespaces)||(ol=e)}var hn=class{constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},DD=new hn("18.2.9");var ac=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Of=new b(""),ts=new b(""),lc=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,xf||(wA(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{k.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static{this.\u0275fac=function(i){return new(i||e)(_(k),_(cc),_(ts))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),cc=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return xf?.findTestabilityInTree(this,n,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function wA(e){xf=e}var xf;function Ri(e){return!!e&&typeof e.then=="function"}function bD(e){return!!e&&typeof e.subscribe=="function"}var uc=new b(""),wD=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=g(uc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=r();if(Ri(o))n.push(o);else if(bD(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dc=new b("");function CA(){L_(()=>{throw new I(600,!1)})}function EA(e){return e.isBoundToModule}var IA=10;function SA(e,t,n){try{let i=n();return Ri(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}function CD(e,t){return Array.isArray(t)?t.reduce(CD,e):y(y({},e),t)}var Rt=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(dT),this.afterRenderManager=g(lD),this.zonelessEnabled=g(Tf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new q,this.afterTick=new q,this.componentTypes=[],this.components=[],this.isStable=g($n).hasPendingTasks.pipe(T(n=>!n)),this._injector=g(Me)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof Nl;if(!this._injector.get(wD).done){let h=!r&&cy(n),f=!1;throw new I(405,f)}let s;r?s=n:s=this._injector.get(Sr).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=EA(s)?void 0:this._injector.get(jn),l=i||s.selector,c=s.create(Se.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(Of,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),dl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new I(101,!1);let n=Q(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Q(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Tr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<IA;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)TA(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ql(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;dl(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(dc,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>dl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dl(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function TA(e,t,n,i){if(!n&&!ql(e))return;Y0(e,t,n&&!i?0:1)}var Gh=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},hc=(()=>{class e{compileModuleSync(n){return new xl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=uy(n),o=g0(r.declarations).reduce((s,a)=>{let l=ln(a);return l&&s.push(new Ei(l)),s},[]);return new Gh(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),MA=new b("");function NA(e,t,n){let i=new xl(n);return Promise.resolve(i)}function Uv(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var AA=(()=>{class e{constructor(){this.zone=g(k),this.changeDetectionScheduler=g(Ir),this.applicationRef=g(Rt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function RA({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new k(U(y({},ED()),{scheduleInRootZone:n})),[{provide:k,useFactory:e},{provide:br,multi:!0,useFactory:()=>{let i=g(AA,{optional:!0});return()=>i.initialize()}},{provide:br,multi:!0,useFactory:()=>{let i=g(OA);return()=>{i.initialize()}}},t===!0?{provide:eD,useValue:!0}:[],{provide:tD,useValue:n??n0}]}function ED(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var OA=(()=>{class e{constructor(){this.subscription=new pe,this.initialized=!1,this.zone=g(k),this.pendingTasks=g($n)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{k.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{k.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var xA=(()=>{class e{constructor(){this.appRef=g(Rt),this.taskService=g($n),this.ngZone=g(k),this.zonelessEnabled=g(Tf),this.disableScheduling=g(eD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(El):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(tD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Il||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Iv:i0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(El+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Iv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function PA(){return typeof $localize<"u"&&$localize.locale||kl}var fc=new b("",{providedIn:"root",factory:()=>g(fc,H.Optional|H.SkipSelf)||PA()});var Fl=new b("");function sl(e){return!e.moduleRef}function kA(e){let t=sl(e)?e.r3Injector:e.moduleRef.injector,n=t.get(k);return n.run(()=>{sl(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(un,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),sl(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Fl);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Fl);s.add(o),e.moduleRef.onDestroy(()=>{dl(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return SA(i,n,()=>{let o=t.get(wD);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(fc,kl);if(uA(s||kl),sl(e)){let a=t.get(Rt);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return FA(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function FA(e,t){let n=e.injector.get(Rt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new I(-403,!1);t.push(e)}var ID=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){let r=i?.scheduleInRootZone,o=()=>uT(i?.ngZone,U(y({},ED({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[RA({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Ir,useExisting:xA}],l=NN(n.moduleType,this.injector,a);return kA({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,i=[]){let r=CD({},i);return NA(this.injector,r,n).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(Fl,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(_(Se))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Bo=null,SD=new b("");function LA(e){if(Bo&&!Bo.get(SD,!1))throw new I(400,!1);CA(),Bo=e;let t=e.get(ID);return jA(e),t}function Pf(e,t,n=[]){let i=`Platform: ${t}`,r=new b(i);return(o=[])=>{let s=TD();if(!s||s.injector.get(SD,!1)){let a=[...n,...o,{provide:r,useValue:!0}];e?e(a):LA(VA(a,i))}return BA(r)}}function VA(e=[],t){return Se.create({name:t,providers:[{provide:$l,useValue:"platform"},{provide:Fl,useValue:new Set([()=>Bo=null])},...e]})}function BA(e){let t=TD();if(!t)throw new I(401,!1);return t}function TD(){return Bo?.get(ID)??null}function jA(e){e.get(pf,null)?.forEach(n=>n())}function kf(){return!1}var _n=(()=>{class e{static{this.__NG_ELEMENT_ID__=UA}}return e})();function UA(e){return HA(Ge(),X(),(e&16)===16)}function HA(e,t,n){if(zl(e)&&!n){let i=Hn(e.index,t);return new Ci(i,i)}else if(e.type&175){let i=t[_t];return new Ci(i,t)}return null}var Wh=class{constructor(){}supports(t){return sD(t)}create(t){return new zh(t)}},$A=(e,t)=>t,zh=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$A}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<Hv(i,r,o)?n:i,a=Hv(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!sD(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,AN(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new qh(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ll),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ll),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},qh=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Kh=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Ll=class{constructor(){this.map=new Map}put(t){let n=t.trackById,i=this.map.get(n);i||(i=new Kh,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Hv(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function $v(){return new Ff([new Wh])}var Ff=(()=>{class e{static{this.\u0275prov=w({token:e,providedIn:"root",factory:$v})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||$v()),deps:[[e,new Yh,new Ar]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new I(901,!1)}}return e})();var MD=Pf(null,"core",[]),ND=(()=>{class e{constructor(n){}static{this.\u0275fac=function(i){return new(i||e)(_(Rt))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();function Oi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function pc(e,t){Lr("NgSignals");let n=P_(e);return t?.equal&&(n[nn].equal=t.equal),n}function zn(e){let t=Q(null);try{return e()}finally{Q(t)}}function gc(e,t){let n=ln(e),i=t.elementInjector||Gl();return new Ei(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function AD(e){let t=ln(e);if(!t)return null;let n=new Ei(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var PD=null;function zt(){return PD}function kD(e){PD??=e}var mc=class{};var be=new b(""),jf=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(zA),providedIn:"platform"})}}return e})(),FD=new b(""),zA=(()=>{class e extends jf{constructor(){super(),this._doc=g(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zt().getBaseHref(this._doc)}onPopState(n){let i=zt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=zt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Uf(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function RD(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function vn(e){return e&&e[0]!=="?"?"?"+e:e}var yn=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(Hf),providedIn:"root"})}}return e})(),LD=new b(""),Hf=(()=>{class e extends yn{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uf(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+vn(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(_(jf),_(LD,8))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),VD=(()=>{class e extends yn{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=Uf(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(_(jf),_(LD,8))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Gr=(()=>{class e{constructor(n){this._subject=new le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=QA(RD(OD(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+vn(i))}normalize(n){return e.stripTrailingSlash(KA(this._basePath,OD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vn(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=vn}static{this.joinWithSlash=Uf}static{this.stripTrailingSlash=RD}static{this.\u0275fac=function(i){return new(i||e)(_(yn))}}static{this.\u0275prov=w({token:e,factory:()=>qA(),providedIn:"root"})}}return e})();function qA(){return new Gr(_(yn))}function KA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function OD(e){return e.replace(/\/index.html$/,"")}function QA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function _c(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Lf=class{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},vc=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Lf(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),xD(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);xD(o,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(Y(Wn),Y(Bn),Y(Ff))}}static{this.\u0275dir=it({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function xD(e,t){e.context.$implicit=t.item}var BD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),$f="browser",YA="server";function jD(e){return e===$f}function Wr(e){return e===YA}var UD=(()=>{class e{static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>jD(g(Fe))?new Vf(g(be),window):new Bf})}}return e})(),Vf=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=ZA(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function ZA(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Bf=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},$r=class{};var is=class{},bc=class{},Dn=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Wf=class{encodeKey(t){return HD(t)}encodeValue(t){return HD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function JA(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var XA=/%(\d[a-f0-9])/gi,eR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function HD(e){return encodeURIComponent(e).replace(XA,(t,n)=>eR[n]??t)}function Dc(e){return`${e}`}var Kn=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Wf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=JA(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(Dc):[Dc(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Dc(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Dc(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var zf=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function tR(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $D(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function GD(e){return typeof Blob<"u"&&e instanceof Blob}function WD(e){return typeof FormData<"u"&&e instanceof FormData}function nR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var ns=class e{constructor(t,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(tR(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Dn,this.context??=new zf,!this.params)this.params=new Kn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||$D(this.body)||GD(this.body)||WD(this.body)||nR(this.body)?this.body:this.body instanceof Kn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||WD(this.body)?null:GD(this.body)?this.body.type||null:$D(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Kn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new e(n,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Qn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Qn||{}),rs=class{constructor(t,n=200,i="OK"){this.headers=t.headers||new Dn,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},wc=class e extends rs{constructor(t={}){super(t),this.type=Qn.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},os=class e extends rs{constructor(t={}){super(t),this.type=Qn.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},qn=class extends rs{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},QD=200,iR=204;function Gf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var xi=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof ns)o=n;else{let l;r.headers instanceof Dn?l=r.headers:l=new Dn(r.headers);let c;r.params&&(r.params instanceof Kn?c=r.params:c=new Kn({fromObject:r.params})),o=new ns(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=C(o).pipe(sn(l=>this.handler.handle(l)));if(n instanceof ns||r.observe==="events")return s;let a=s.pipe(me(l=>l instanceof os));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(T(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(T(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(T(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(T(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Kn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,Gf(r,i))}post(n,i,r={}){return this.request("POST",n,Gf(r,i))}put(n,i,r={}){return this.request("PUT",n,Gf(r,i))}static{this.\u0275fac=function(i){return new(i||e)(_(is))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),rR=/^\)\]\}',?\n/,oR="X-Request-URL";function zD(e){if(e.url)return e.url;let t=oR.toLocaleLowerCase();return e.headers.get(t)}var sR=(()=>{class e{constructor(){this.fetchImpl=g(qf,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=g(k)}handle(n){return new A(i=>{let r=new AbortController;return this.doRequest(n,r.signal,i).then(Kf,o=>i.error(new qn({error:o}))),()=>r.abort()})}doRequest(n,i,r){return Qe(this,null,function*(){let o=this.createRequestInit(n),s;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,y({signal:i},o)));aR(f),r.next({type:Qn.Sent}),s=yield f}catch(f){r.error(new qn({error:f,status:f.status??0,statusText:f.statusText,url:n.urlWithParams,headers:f.headers}));return}let a=new Dn(s.headers),l=s.statusText,c=zD(s)??n.urlWithParams,u=s.status,d=null;if(n.reportProgress&&r.next(new wc({headers:a,status:u,statusText:l,url:c})),s.body){let f=s.headers.get("content-length"),p=[],m=s.body.getReader(),D=0,S,B,E=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Qe(this,null,function*(){for(;;){let{done:fe,value:we}=yield m.read();if(fe)break;if(p.push(we),D+=we.length,n.reportProgress){B=n.responseType==="text"?(B??"")+(S??=new TextDecoder).decode(we,{stream:!0}):void 0;let en=()=>r.next({type:Qn.DownloadProgress,total:f?+f:void 0,loaded:D,partialText:B});E?E.run(en):en()}}}));let ie=this.concatChunks(p,D);try{let fe=s.headers.get("Content-Type")??"";d=this.parseBody(n,ie,fe)}catch(fe){r.error(new qn({error:fe,headers:new Dn(s.headers),status:s.status,statusText:s.statusText,url:zD(s)??n.urlWithParams}));return}}u===0&&(u=d?QD:0),u>=200&&u<300?(r.next(new os({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new qn({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(n,i,r){switch(n.responseType){case"json":let o=new TextDecoder().decode(i).replace(rR,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>i[o]=s.join(",")),n.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:r}}concatChunks(n,i){let r=new Uint8Array(i),o=0;for(let s of n)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),qf=class{};function Kf(){}function aR(e){e.then(Kf,Kf)}function lR(e,t){return t(e)}function cR(e,t,n){return(i,r)=>vt(n,()=>t(i,o=>e(o,r)))}var YD=new b(""),uR=new b(""),dR=new b("",{providedIn:"root",factory:()=>!0});var qD=(()=>{class e extends is{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=g($n),this.contributeToStability=g(dR)}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(YD),...this.injector.get(uR,[])]));this.chain=i.reduceRight((r,o)=>cR(r,o,this.injector),lR)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(xn(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||e)(_(bc),_(Me))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();var hR=/^\)\]\}',?\n/;function fR(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var KD=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new I(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?te(i.\u0275loadImpl()):C(null)).pipe(re(()=>new A(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((m,D)=>s.setRequestHeader(m,D.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let m=n.detectContentTypeHeader();m!==null&&s.setRequestHeader("Content-Type",m)}if(n.responseType){let m=n.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=s.statusText||"OK",D=new Dn(s.getAllResponseHeaders()),S=fR(s)||n.url;return l=new wc({headers:D,status:s.status,statusText:m,url:S}),l},u=()=>{let{headers:m,status:D,statusText:S,url:B}=c(),E=null;D!==iR&&(E=typeof s.response>"u"?s.responseText:s.response),D===0&&(D=E?QD:0);let ie=D>=200&&D<300;if(n.responseType==="json"&&typeof E=="string"){let fe=E;E=E.replace(hR,"");try{E=E!==""?JSON.parse(E):null}catch(we){E=fe,ie&&(ie=!1,E={error:we,text:E})}}ie?(o.next(new os({body:E,headers:m,status:D,statusText:S,url:B||void 0})),o.complete()):o.error(new qn({error:E,headers:m,status:D,statusText:S,url:B||void 0}))},d=m=>{let{url:D}=c(),S=new qn({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});o.error(S)},h=!1,f=m=>{h||(o.next(c()),h=!0);let D={type:Qn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),n.responseType==="text"&&s.responseText&&(D.partialText=s.responseText),o.next(D)},p=m=>{let D={type:Qn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),o.next(D)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Qn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||e)(_($r))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),ZD=new b(""),pR="XSRF-TOKEN",gR=new b("",{providedIn:"root",factory:()=>pR}),mR="X-XSRF-TOKEN",_R=new b("",{providedIn:"root",factory:()=>mR}),Cc=class{},vR=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=_c(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||e)(_(be),_(Fe),_(gR))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function yR(e,t){let n=e.url.toLowerCase();if(!g(ZD)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=g(Cc).getToken(),r=g(_R);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}function JD(...e){let t=[xi,KD,qD,{provide:is,useExisting:qD},{provide:bc,useFactory:()=>g(sR,{optional:!0})??g(KD)},{provide:YD,useValue:yR,multi:!0},{provide:ZD,useValue:!0},{provide:Cc,useClass:vR}];for(let n of e)t.push(...n.\u0275providers);return Hl(t)}var Jf=class extends mc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xf=class e extends Jf{static makeCurrent(){kD(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=DR();return n==null?null:bR(n)}resetBaseElement(){ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return _c(document.cookie,t)}},ss=null;function DR(){return ss=ss||document.querySelector("base"),ss?ss.getAttribute("href"):null}function bR(e){return new URL(e,document.baseURI).pathname}var ep=class{addToWindow(t){Nt.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new I(5103,!1);return o},Nt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Nt.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=Nt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Nt.frameworkStabilizers||(Nt.frameworkStabilizers=[]),Nt.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?zt().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},wR=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),tp=new b(""),nb=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||e)(_(tp),_(k))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Ec=class{constructor(t){this._doc=t}},Yf="ng-app-id",ib=(()=>{class e{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wr(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Yf}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(Yf),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Yf,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(_(be),_(Jl),_(gf,8),_(Fe))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Zf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ip=/%COMP%/g,rb="%COMP%",CR=`_nghost-${rb}`,ER=`_ngcontent-${rb}`,IR=!0,SR=new b("",{providedIn:"root",factory:()=>IR});function TR(e){return ER.replace(ip,e)}function MR(e){return CR.replace(ip,e)}function ob(e,t){return t.map(n=>n.replace(ip,e))}var XD=(()=>{class e{constructor(n,i,r,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Wr(a),this.defaultRenderer=new as(n,s,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===jt.ShadowDom&&(i=U(y({},i),{encapsulation:jt.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Ic?r.applyToHost(n):r instanceof ls&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case jt.Emulated:o=new Ic(l,c,i,this.appId,u,s,a,d);break;case jt.ShadowDom:return new np(l,c,n,i,s,a,this.nonce,d);default:o=new ls(l,c,i,u,s,a,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(_(nb),_(ib),_(Jl),_(SR),_(be),_(Fe),_(k),_(gf))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),as=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Zf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(eb(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(eb(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new I(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=Zf[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=Zf[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(dn.DashCase|dn.Important)?t.style.setProperty(n,i,r&dn.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&dn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=zt().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function eb(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var np=class extends as{constructor(t,n,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=ob(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ls=class extends as{constructor(t,n,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?ob(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ic=class extends ls{constructor(t,n,i,r,o,s,a,l){let c=r+"-"+i.id;super(t,n,i,o,s,a,l,c),this.contentAttr=TR(c),this.hostAttr=MR(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},NR=(()=>{class e extends Ec{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(_(be))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),tb=["alt","control","meta","shift"],AR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},OR=(()=>{class e extends Ec{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r){let o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zt().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),tb.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=AR[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),tb.forEach(s=>{if(s!==r){let a=RR[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||e)(_(be))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function xR(){Xf.makeCurrent()}function PR(){return new un}function kR(){return u0(document),document}var FR=[{provide:Fe,useValue:$f},{provide:pf,useValue:xR,multi:!0},{provide:be,useFactory:kR,deps:[]}],sb=Pf(MD,"browser",FR),LR=new b(""),VR=[{provide:ts,useClass:ep,deps:[]},{provide:Of,useClass:lc,deps:[k,cc,ts]},{provide:lc,useClass:lc,deps:[k,cc,ts]}],BR=[{provide:$l,useValue:"root"},{provide:un,useFactory:PR,deps:[]},{provide:tp,useClass:NR,multi:!0,deps:[be,k,Fe]},{provide:tp,useClass:OR,multi:!0,deps:[be]},XD,ib,nb,{provide:Tr,useExisting:XD},{provide:$r,useClass:wR,deps:[]},[]],ab=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Jl,useValue:n.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(_(LR,12))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({providers:[...BR,...VR],imports:[BD,ND]})}}return e})();var lb=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||e)(_(be))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var V="primary",ws=Symbol("RouteTitle"),lp=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zr(e){return new lp(e)}function UR(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function HR(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!qt(e[n],t[n]))return!1;return!0}function qt(e,t){let n=e?cp(e):void 0,i=t?cp(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Db(e[r],t[r]))return!1;return!0}function cp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Db(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function bb(e){return e.length>0?e[e.length-1]:null}function Jn(e){return Nd(e)?e:Ri(e)?te(Promise.resolve(e)):C(e)}var $R={exact:Cb,subset:Eb},wb={exact:GR,subset:WR,ignored:()=>!0};function ub(e,t,n){return $R[n.paths](e.root,t.root,n.matrixParams)&&wb[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function GR(e,t){return qt(e,t)}function Cb(e,t,n){if(!ki(e.segments,t.segments)||!Mc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!Cb(e.children[i],t.children[i],n))return!1;return!0}function WR(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Db(e[n],t[n]))}function Eb(e,t,n){return Ib(e,t,t.segments,n)}function Ib(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!ki(r,n)||t.hasChildren()||!Mc(r,n,i))}else if(e.segments.length===n.length){if(!ki(e.segments,n)||!Mc(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!Eb(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!ki(e.segments,r)||!Mc(e.segments,r,i)||!e.children[V]?!1:Ib(e.children[V],t,o,i)}}function Mc(e,t,n){return t.every((i,r)=>wb[n](e[r].parameters,i.parameters))}var wn=class{constructor(t=new ne([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Zr(this.queryParams),this._queryParamMap}toString(){return KR.serialize(this)}},ne=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nc(this)}},Pi=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Zr(this.parameters),this._parameterMap}toString(){return Tb(this)}};function zR(e,t){return ki(e,t)&&e.every((n,i)=>qt(n.parameters,t[i].parameters))}function ki(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function qR(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===V&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==V&&(n=n.concat(t(r,i)))}),n}var Cs=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>new Jr,providedIn:"root"})}}return e})(),Jr=class{parse(t){let n=new dp(t);return new wn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${cs(t.root,!0)}`,i=ZR(t.queryParams),r=typeof t.fragment=="string"?`#${QR(t.fragment)}`:"";return`${n}${i}${r}`}},KR=new Jr;function Nc(e){return e.segments.map(t=>Tb(t)).join("/")}function cs(e,t){if(!e.hasChildren())return Nc(e);if(t){let n=e.children[V]?cs(e.children[V],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==V&&i.push(`${r}:${cs(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=qR(e,(i,r)=>r===V?[cs(e.children[V],!1)]:[`${r}:${cs(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[V]!=null?`${Nc(e)}/${n[0]}`:`${Nc(e)}/(${n.join("//")})`}}function Sb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sc(e){return Sb(e).replace(/%3B/gi,";")}function QR(e){return encodeURI(e)}function up(e){return Sb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ac(e){return decodeURIComponent(e)}function db(e){return Ac(e.replace(/\+/g,"%20"))}function Tb(e){return`${up(e.path)}${YR(e.parameters)}`}function YR(e){return Object.entries(e).map(([t,n])=>`;${up(t)}=${up(n)}`).join("")}function ZR(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Sc(n)}=${Sc(r)}`).join("&"):`${Sc(n)}=${Sc(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var JR=/^[^\/()?;#]+/;function rp(e){let t=e.match(JR);return t?t[0]:""}var XR=/^[^\/()?;=#]+/;function eO(e){let t=e.match(XR);return t?t[0]:""}var tO=/^[^=?&#]+/;function nO(e){let t=e.match(tO);return t?t[0]:""}var iO=/^[^&#]+/;function rO(e){let t=e.match(iO);return t?t[0]:""}var dp=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[V]=new ne(t,n)),i}parseSegment(){let t=rp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(t),new Pi(Ac(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=eO(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=rp(this.remaining);r&&(i=r,this.capture(i))}t[Ac(n)]=Ac(i)}parseQueryParam(t){let n=nO(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=rO(this.remaining);s&&(i=s,this.capture(i))}let r=db(n),o=db(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=rp(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new I(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new ne([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new I(4011,!1)}};function Mb(e){return e.segments.length>0?new ne([],{[V]:e}):e}function Nb(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=Nb(r);if(i===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new ne(e.segments,t);return oO(n)}function oO(e){if(e.numberOfChildren===1&&e.children[V]){let t=e.children[V];return new ne(e.segments.concat(t.segments),t.children)}return e}function Fi(e){return e instanceof wn}function sO(e,t,n=null,i=null){let r=Ab(e);return Rb(r,t,n,i)}function Ab(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ne(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=Mb(i);return t??r}function Rb(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return op(r,r,r,n,i);let o=aO(t);if(o.toRoot())return op(r,r,new ne([],{}),n,i);let s=lO(o,r,e),a=s.processChildren?hs(s.segmentGroup,s.index,o.commands):xb(s.segmentGroup,s.index,o.commands);return op(r,s.segmentGroup,a,n,i)}function Rc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function gs(e){return typeof e=="object"&&e!=null&&e.outlets}function op(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=Ob(e,t,n);let a=Mb(Nb(s));return new wn(a,o,r)}function Ob(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=Ob(o,t,n)}),new ne(e.segments,i)}var Oc=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Rc(i[0]))throw new I(4003,!1);let r=i.find(gs);if(r&&r!==bb(i))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aO(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Oc(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Oc(n,t,i)}var Kr=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function lO(e,t,n){if(e.isAbsolute)return new Kr(t,!0,0);if(!n)return new Kr(t,!1,NaN);if(n.parent===null)return new Kr(n,!0,0);let i=Rc(e.commands[0])?0:1,r=n.segments.length-1+i;return cO(n,r,e.numberOfDoubleDots)}function cO(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new I(4005,!1);r=i.segments.length}return new Kr(i,!1,r-o)}function uO(e){return gs(e[0])?e[0].outlets:{[V]:e}}function xb(e,t,n){if(e??=new ne([],{}),e.segments.length===0&&e.hasChildren())return hs(e,t,n);let i=dO(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new ne(e.segments.slice(0,i.pathIndex),{});return o.children[V]=new ne(e.segments.slice(i.pathIndex),e.children),hs(o,0,r)}else return i.match&&r.length===0?new ne(e.segments,{}):i.match&&!e.hasChildren()?hp(e,t,n):i.match?hs(e,0,r):hp(e,t,n)}function hs(e,t,n){if(n.length===0)return new ne(e.segments,{});{let i=uO(n),r={};if(Object.keys(i).some(o=>o!==V)&&e.children[V]&&e.numberOfChildren===1&&e.children[V].segments.length===0){let o=hs(e.children[V],t,n);return new ne(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=xb(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ne(e.segments,r)}}function dO(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(gs(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!fb(l,c,s))return o;i+=2}else{if(!fb(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function hp(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(gs(o)){let l=hO(o.outlets);return new ne(i,l)}if(r===0&&Rc(n[0])){let l=e.segments[t];i.push(new Pi(l.path,hb(n[0]))),r++;continue}let s=gs(o)?o.outlets[V]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Rc(a)?(i.push(new Pi(s,hb(a))),r+=2):(i.push(new Pi(s,{})),r++)}return new ne(i,{})}function hO(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=hp(new ne([],{}),0,i))}),t}function hb(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function fb(e,t,n){return e==n.path&&qt(t,n.parameters)}var fs="imperative",Ae=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ae||{}),Dt=class{constructor(t,n){this.id=t,this.url=n}},Xr=class extends Dt{constructor(t,n,i="imperative",r=null){super(t,n),this.type=Ae.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kt=class extends Dt{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Ae.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ot=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ot||{}),xc=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(xc||{}),bn=class extends Dt{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Ae.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yn=class extends Dt{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Ae.NavigationSkipped}},ms=class extends Dt{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=Ae.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pc=class extends Dt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ae.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fp=class extends Dt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ae.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pp=class extends Dt{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ae.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gp=class extends Dt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ae.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mp=class extends Dt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ae.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_p=class{constructor(t){this.route=t,this.type=Ae.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vp=class{constructor(t){this.route=t,this.type=Ae.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yp=class{constructor(t){this.snapshot=t,this.type=Ae.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dp=class{constructor(t){this.snapshot=t,this.type=Ae.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bp=class{constructor(t){this.snapshot=t,this.type=Ae.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wp=class{constructor(t){this.snapshot=t,this.type=Ae.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kc=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=Ae.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},_s=class{},eo=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function fO(e,t){return e.providers&&!e._injector&&(e._injector=rc(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Ot(e){return e.outlet||V}function pO(e,t){let n=e.filter(i=>Ot(i)===t);return n.push(...e.filter(i=>Ot(i)!==t)),n}function Es(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Cp=class{get injector(){return Es(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Is(this.rootInjector),this.attachRef=null}},Is=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Cp(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||e)(_(Me))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Fc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Ep(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=Ep(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Ip(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ip(t,this._root).map(n=>n.value)}};function Ep(e,t){if(e===t.value)return t;for(let n of t.children){let i=Ep(e,n);if(i)return i}return null}function Ip(e,t){if(e===t.value)return[t];for(let n of t.children){let i=Ip(e,n);if(i.length)return i.unshift(t),i}return[]}var rt=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function qr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Lc=class extends Fc{constructor(t,n){super(t),this.snapshot=n,Pp(this,t)}toString(){return this.snapshot.toString()}};function Pb(e){let t=gO(e),n=new ye([new Pi("",{})]),i=new ye({}),r=new ye({}),o=new ye({}),s=new ye(""),a=new Li(n,i,o,s,r,V,e,t.root);return a.snapshot=t.root,new Lc(new rt(a,[]),t)}function gO(e){let t={},n={},i={},r="",o=new Qr([],t,i,r,n,V,e,null,{});return new Bc("",new rt(o,[]))}var Li=class{constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(T(c=>c[ws]))??C(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(T(t=>Zr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(T(t=>Zr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vc(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:y(y({},t.params),e.params),data:y(y({},t.data),e.data),resolve:y(y(y(y({},e.data),t.data),r?.data),e._resolvedData)}:i={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},r&&Fb(r)&&(i.resolve[ws]=r.title),i}var Qr=class{get title(){return this.data?.[ws]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Bc=class extends Fc{constructor(t,n){super(n),this.url=t,Pp(this,n)}toString(){return kb(this._root)}};function Pp(e,t){t.value._routerState=e,t.children.forEach(n=>Pp(e,n))}function kb(e){let t=e.children.length>0?` { ${e.children.map(kb).join(", ")} } `:"";return`${e.value}${t}`}function sp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,qt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),qt(t.params,n.params)||e.paramsSubject.next(n.params),HR(t.url,n.url)||e.urlSubject.next(n.url),qt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Sp(e,t){let n=qt(e.params,t.params)&&zR(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||Sp(e.parent,t.parent))}function Fb(e){return typeof e.title=="string"||e.title===null}var kp=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new le,this.deactivateEvents=new le,this.attachEvents=new le,this.detachEvents=new le,this.parentContexts=g(Is),this.location=g(Wn),this.changeDetector=g(_n),this.inputBinder=g(Gc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Tp(n,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=it({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]})}}return e})(),Tp=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Li?this.route:t===Is?this.childContexts:this.parent.get(t,n)}},Gc=new b(""),pb=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=ur([i.queryParams,i.params,i.data]).pipe(re(([o,s,a],l)=>(a=y(y(y({},o),s),a),l===0?C(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=AD(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function mO(e,t,n){let i=vs(e,t._root,n?n._root:void 0);return new Lc(i,t)}function vs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=_O(e,t,n);return new rt(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>vs(e,a)),s}}let i=vO(t.value),r=t.children.map(o=>vs(e,o));return new rt(i,r)}}function _O(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return vs(e,i,r);return vs(e,i)})}function vO(e){return new Li(new ye(e.url),new ye(e.params),new ye(e.queryParams),new ye(e.fragment),new ye(e.data),e.outlet,e.component,e)}var ys=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Lb="ngNavigationCancelingError";function jc(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=Fi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Vb(!1,ot.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Vb(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Lb]=!0,n.cancellationCode=t,n}function yO(e){return Bb(e)&&Fi(e.url)}function Bb(e){return!!e&&e[Lb]}var DO=(e,t,n,i)=>T(r=>(new Mp(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),Mp=class{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),sp(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=qr(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=qr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=qr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=qr(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new wp(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Dp(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(sp(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),sp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Uc=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Yr=class{constructor(t,n){this.component=t,this.route=n}};function bO(e,t,n){let i=e._root,r=t?t._root:null;return us(i,r,n,[i.value])}function wO(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function no(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!qv(e)?e:t.get(e):i}function us(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=qr(t);return e.children.forEach(s=>{CO(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ps(a,n.getContext(s),r)),r}function CO(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=EO(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Uc(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?us(e,t,a?a.children:null,i,r):us(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Yr(a.outlet.component,s))}else s&&ps(t,a,r),r.canActivateChecks.push(new Uc(i)),o.component?us(e,null,a?a.children:null,i,r):us(e,null,n,i,r);return r}function EO(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!ki(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ki(e.url,t.url)||!qt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sp(e,t)||!qt(e.queryParams,t.queryParams);case"paramsChange":default:return!Sp(e,t)}}function ps(e,t,n){let i=qr(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?ps(s,t.children.getContext(o),n):ps(s,null,n):ps(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Yr(t.outlet.component,r)):n.canDeactivateChecks.push(new Yr(null,r)):n.canDeactivateChecks.push(new Yr(null,r))}function Ss(e){return typeof e=="function"}function IO(e){return typeof e=="boolean"}function SO(e){return e&&Ss(e.canLoad)}function TO(e){return e&&Ss(e.canActivate)}function MO(e){return e&&Ss(e.canActivateChild)}function NO(e){return e&&Ss(e.canDeactivate)}function AO(e){return e&&Ss(e.canMatch)}function jb(e){return e instanceof on||e?.name==="EmptyError"}var Tc=Symbol("INITIAL_VALUE");function to(){return re(e=>ur(e.map(t=>t.pipe(ft(1),Xa(Tc)))).pipe(T(t=>{for(let n of t)if(n!==!0){if(n===Tc)return Tc;if(n===!1||RO(n))return n}return!0}),me(t=>t!==Tc),ft(1)))}function RO(e){return Fi(e)||e instanceof ys}function OO(e,t){return de(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?C(U(y({},n),{guardsResult:!0})):xO(s,i,r,e).pipe(de(a=>a&&IO(a)?PO(i,o,e,t):C(a)),T(a=>U(y({},n),{guardsResult:a})))})}function xO(e,t,n,i){return te(e).pipe(de(r=>BO(r.component,r.route,n,t,i)),pt(r=>r!==!0,!0))}function PO(e,t,n,i){return te(t).pipe(sn(r=>An(FO(r.route.parent,i),kO(r.route,i),VO(e,r.path,n),LO(e,r.route,n))),pt(r=>r!==!0,!0))}function kO(e,t){return e!==null&&t&&t(new bp(e)),C(!0)}function FO(e,t){return e!==null&&t&&t(new yp(e)),C(!0)}function LO(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return C(!0);let r=i.map(o=>Ka(()=>{let s=Es(t)??n,a=no(o,s),l=TO(a)?a.canActivate(t,e):vt(s,()=>a(t,e));return Jn(l).pipe(pt())}));return C(r).pipe(to())}function VO(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>wO(s)).filter(s=>s!==null).map(s=>Ka(()=>{let a=s.guards.map(l=>{let c=Es(s.node)??n,u=no(l,c),d=MO(u)?u.canActivateChild(i,e):vt(c,()=>u(i,e));return Jn(d).pipe(pt())});return C(a).pipe(to())}));return C(o).pipe(to())}function BO(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return C(!0);let s=o.map(a=>{let l=Es(t)??r,c=no(a,l),u=NO(c)?c.canDeactivate(e,t,n,i):vt(l,()=>c(e,t,n,i));return Jn(u).pipe(pt())});return C(s).pipe(to())}function jO(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return C(!0);let o=r.map(s=>{let a=no(s,e),l=SO(a)?a.canLoad(t,n):vt(e,()=>a(t,n));return Jn(l)});return C(o).pipe(to(),Ub(i))}function Ub(e){return wd(ge(t=>{if(typeof t!="boolean")throw jc(e,t)}),T(t=>t===!0))}function UO(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return C(!0);let o=r.map(s=>{let a=no(s,e),l=AO(a)?a.canMatch(t,n):vt(e,()=>a(t,n));return Jn(l)});return C(o).pipe(to(),Ub(i))}var Ds=class{constructor(t){this.segmentGroup=t||null}},bs=class extends Error{constructor(t){super(),this.urlTree=t}};function zr(e){return lr(new Ds(e))}function HO(e){return lr(new I(4e3,!1))}function $O(e){return lr(Vb(!1,ot.GuardRejected))}var Np=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return C(i);if(r.numberOfChildren>1||!r.children[V])return HO(`${t.redirectTo}`);r=r.children[V]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=r,D=vt(o,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(D instanceof wn)throw new bs(D);n=D}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new bs(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new wn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new ne(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new I(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},Ap={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GO(e,t,n,i,r){let o=Hb(e,t,n);return o.matched?(i=fO(t,i),UO(i,t,n,r).pipe(T(s=>s===!0?o:y({},Ap)))):C(o)}function Hb(e,t,n){if(t.path==="**")return WO(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?y({},Ap):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||UR)(n,e,t);if(!r)return y({},Ap);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?y(y({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function WO(e){return{matched:!0,parameters:e.length>0?bb(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function gb(e,t,n,i){return n.length>0&&KO(e,n,i)?{segmentGroup:new ne(t,qO(i,new ne(n,e.children))),slicedSegments:[]}:n.length===0&&QO(e,n,i)?{segmentGroup:new ne(e.segments,zO(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new ne(e.segments,e.children),slicedSegments:n}}function zO(e,t,n,i){let r={};for(let o of n)if(Wc(e,t,o)&&!i[Ot(o)]){let s=new ne([],{});r[Ot(o)]=s}return y(y({},i),r)}function qO(e,t){let n={};n[V]=t;for(let i of e)if(i.path===""&&Ot(i)!==V){let r=new ne([],{});n[Ot(i)]=r}return n}function KO(e,t,n){return n.some(i=>Wc(e,t,i)&&Ot(i)!==V)}function QO(e,t,n){return n.some(i=>Wc(e,t,i))}function Wc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function YO(e,t,n){return t.length===0&&!e.children[n]}var Rp=class{};function ZO(e,t,n,i,r,o,s="emptyOnly"){return new Op(e,t,n,i,r,s,o).recognize()}var JO=31,Op=class{constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Np(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new I(4002,`'${t.segmentGroup}'`)}recognize(){let t=gb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(T(({children:n,rootSnapshot:i})=>{let r=new rt(i,n),o=new Bc("",r),s=sO(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Qr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,V,n).pipe(T(i=>({children:i,rootSnapshot:n})),Rn(i=>{if(i instanceof bs)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ds?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(T(s=>s instanceof rt?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return te(o).pipe(sn(s=>{let a=i.children[s],l=pO(n,s);return this.processSegmentGroup(t,l,a,s,r)}),hr((s,a)=>(s.push(...a),s)),On(null),kd(),de(s=>{if(s===null)return zr(i);let a=$b(s);return XO(a),C(a)}))}processSegment(t,n,i,r,o,s,a){return te(n).pipe(sn(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(Rn(c=>{if(c instanceof Ds)return C(null);throw c}))),pt(l=>!!l),Rn(l=>{if(jb(l))return YO(i,r,o)?C(new Rp):zr(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return Ot(i)!==s&&(s===V||!Wc(r,o,i))?zr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):zr(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Hb(n,r,o);if(!l)return zr(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JO&&(this.allowRedirects=!1));let f=new Qr(o,c,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,mb(r),Ot(r),r.component??r._loadedComponent??null,r,_b(r)),p=Vc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(r,m).pipe(de(D=>this.processSegment(t,i,n,D.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=GO(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(re(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(re(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new Qr(h,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,mb(i),Ot(i),i.component??i._loadedComponent??null,i,_b(i)),m=Vc(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:D,slicedSegments:S}=gb(n,h,f,c);if(S.length===0&&D.hasChildren())return this.processChildren(u,c,D,p).pipe(T(E=>new rt(p,E)));if(c.length===0&&S.length===0)return C(new rt(p,[]));let B=Ot(i)===o;return this.processSegment(u,c,D,S,B?V:o,!0,p).pipe(T(E=>new rt(p,E instanceof rt?[E]:[])))}))):zr(n)))}getChildConfig(t,n,i){return n.children?C({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?C({routes:n._loadedRoutes,injector:n._loadedInjector}):jO(t,n,i,this.urlSerializer).pipe(de(r=>r?this.configLoader.loadChildren(t,n).pipe(ge(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):$O(n))):C({routes:[],injector:t})}};function XO(e){e.sort((t,n)=>t.value.outlet===V?-1:n.value.outlet===V?1:t.value.outlet.localeCompare(n.value.outlet))}function ex(e){let t=e.value.routeConfig;return t&&t.path===""}function $b(e){let t=[],n=new Set;for(let i of e){if(!ex(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=$b(i.children);t.push(new rt(i.value,r))}return t.filter(i=>!n.has(i))}function mb(e){return e.data||{}}function _b(e){return e.resolve||{}}function tx(e,t,n,i,r,o){return de(s=>ZO(e,t,n,i,s.extractedUrl,r,o).pipe(T(({state:a,tree:l})=>U(y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function nx(e,t){return de(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return C(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Gb(l))s.add(c);let a=0;return te(s).pipe(sn(l=>o.has(l)?ix(l,i,e,t):(l.data=Vc(l,l.parent,e).resolve,C(void 0))),ge(()=>a++),dr(1),de(l=>a===s.size?C(n):Ie))})}function Gb(e){let t=e.children.map(n=>Gb(n)).flat();return[e,...t]}function ix(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!Fb(r)&&(o[ws]=r.title),rx(o,e,t,i).pipe(T(s=>(e._resolvedData=s,e.data=Vc(e,e.parent,n).resolve,null)))}function rx(e,t,n,i){let r=cp(e);if(r.length===0)return C({});let o={};return te(r).pipe(de(s=>ox(e[s],t,n,i).pipe(pt(),ge(a=>{if(a instanceof ys)throw jc(new Jr,a);o[s]=a}))),dr(1),xd(o),Rn(s=>jb(s)?Ie:lr(s)))}function ox(e,t,n,i){let r=Es(t)??i,o=no(e,r),s=o.resolve?o.resolve(t,n):vt(r,()=>o(t,n));return Jn(s)}function ap(e){return re(t=>{let n=e(t);return n?te(n).pipe(T(()=>t)):C(t)})}var Wb=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===V);return i}getResolvedTitleForRoute(n){return n.data[ws]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(sx),providedIn:"root"})}}return e})(),sx=(()=>{class e extends Wb{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(_(lb))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ts=new b("",{providedIn:"root",factory:()=>({})}),ax=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Pe({type:e,selectors:[["ng-component"]],standalone:!0,features:[es],decls:1,vars:0,template:function(i,r){i&1&&Wt(0,"router-outlet")},dependencies:[kp],encapsulation:2})}}return e})();function Fp(e){let t=e.children&&e.children.map(Fp),n=t?U(y({},e),{children:t}):y({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=ax),n}var Hc=new b(""),Lp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(hc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return C(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Jn(n.loadComponent()).pipe(T(zb),ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),xn(()=>{this.componentLoaders.delete(n)})),r=new nr(i,()=>new q).pipe(tr());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return C({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=lx(i,this.compiler,n,this.onLoadEndListener).pipe(xn(()=>{this.childrenLoaders.delete(i)})),s=new nr(o,()=>new q).pipe(tr());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function lx(e,t,n,i){return Jn(e.loadChildren()).pipe(T(zb),de(r=>r instanceof Wo||Array.isArray(r)?C(r):te(t.compileModuleAsync(r))),T(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Hc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fp),injector:o}}))}function cx(e){return e&&typeof e=="object"&&"default"in e}function zb(e){return cx(e)?e.default:e}var Vp=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(ux),providedIn:"root"})}}return e})(),ux=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qb=new b(""),Kb=new b("");function dx(e,t,n){let i=e.get(Kb),r=e.get(be);return e.get(k).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),hx(e))),{onViewTransitionCreated:l}=i;return l&&vt(e,()=>l({transition:a,from:t,to:n})),s})}function hx(e){return new Promise(t=>{Br({read:()=>setTimeout(t)},{injector:e})})}var fx=new b(""),Bp=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q,this.transitionAbortSubject=new q,this.configLoader=g(Lp),this.environmentInjector=g(Me),this.urlSerializer=g(Cs),this.rootContexts=g(Is),this.location=g(Gr),this.inputBindingEnabled=g(Gc,{optional:!0})!==null,this.titleStrategy=g(Wb),this.options=g(Ts,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Vp),this.createViewTransition=g(qb,{optional:!0}),this.navigationErrorHandler=g(fx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>C(void 0),this.rootComponentType=null;let n=r=>this.events.next(new _p(r)),i=r=>this.events.next(new vp(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(U(y(y({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fs,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(me(o=>o.id!==0),T(o=>U(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),re(o=>{let s=!1,a=!1;return C(o).pipe(re(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ot.SupersededByNewNavigation),Ie;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?U(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Yn(l.id,this.urlSerializer.serialize(l.rawUrl),d,xc.IgnoredSameUrlNavigation)),l.resolve(!1),Ie}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return C(l).pipe(re(d=>{let h=this.transitions?.getValue();return this.events.next(new Xr(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Ie:Promise.resolve(d)}),tx(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ge(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=U(y({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Pc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=l,D=new Xr(d,this.urlSerializer.serialize(h),f,p);this.events.next(D);let S=Pb(this.rootComponentType).snapshot;return this.currentTransition=o=U(y({},l),{targetSnapshot:S,urlAfterRedirects:h,extras:U(y({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,C(o)}else{let d="";return this.events.next(new Yn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,xc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ie}}),ge(l=>{let c=new fp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),T(l=>(this.currentTransition=o=U(y({},l),{guards:bO(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),OO(this.environmentInjector,l=>this.events.next(l)),ge(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw jc(this.urlSerializer,l.guardsResult);let c=new pp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),me(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ot.GuardRejected),!1)),ap(l=>{if(l.guards.canActivateChecks.length)return C(l).pipe(ge(c=>{let u=new gp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),re(c=>{let u=!1;return C(c).pipe(nx(this.paramsInheritanceStrategy,this.environmentInjector),ge({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ot.NoDataFromResolver)}}))}),ge(c=>{let u=new mp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),ap(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ge(h=>{u.component=h}),T(()=>{})));for(let h of u.children)d.push(...c(h));return d};return ur(c(l.targetSnapshot.root)).pipe(On(null),ft(1))}),ap(()=>this.afterPreactivation()),re(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?te(u).pipe(T(()=>o)):C(o)}),T(l=>{let c=mO(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=U(y({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),ge(()=>{this.events.next(new _s)}),DO(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ft(1),ge({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Le(this.transitionAbortSubject.pipe(ge(l=>{throw l}))),xn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ot.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rn(l=>{if(a=!0,Bb(l))this.events.next(new bn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),yO(l)?this.events.next(new eo(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new ms(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=vt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof ys){let{message:d,cancellationCode:h}=jc(this.urlSerializer,u);this.events.next(new bn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new eo(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let d=n.errorHandler(l);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ie}))}))}cancelNavigationTransition(n,i,r){let o=new bn(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function px(e){return e!==fs}var gx=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(mx),providedIn:"root"})}}return e})(),xp=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},mx=(()=>{class e extends xp{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Pr(e)))(r||e)}})()}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Qb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(_x),providedIn:"root"})}}return e})(),_x=(()=>{class e extends Qb{constructor(){super(...arguments),this.location=g(Gr),this.urlSerializer=g(Cs),this.options=g(Ts,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Vp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Pb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Xr)this.stateMemento=this.createStateMemento();else if(n instanceof Yn)this.rawUrlTree=i.initialUrl;else if(n instanceof Pc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof _s?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof bn&&(n.code===ot.GuardRejected||n.code===ot.NoDataFromResolver)?this.restoreHistory(i):n instanceof ms?this.restoreHistory(i,!0):n instanceof Kt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof wn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=y(y({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Pr(e)))(r||e)}})()}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ds=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ds||{});function Yb(e,t){e.events.pipe(me(n=>n instanceof Kt||n instanceof bn||n instanceof ms||n instanceof Yn),T(n=>n instanceof Kt||n instanceof Yn?ds.COMPLETE:(n instanceof bn?n.code===ot.Redirect||n.code===ot.SupersededByNewNavigation:!1)?ds.REDIRECTING:ds.FAILED),me(n=>n!==ds.REDIRECTING),ft(1)).subscribe(()=>{t()})}function vx(e){throw e}var yx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Zn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=g(ac),this.stateManager=g(Qb),this.options=g(Ts,{optional:!0})||{},this.pendingTasks=g($n),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Bp),this.urlSerializer=g(Cs),this.location=g(Gr),this.urlHandlingStrategy=g(Vp),this._events=new q,this.errorHandler=this.options.errorHandler||vx,this.navigated=!1,this.routeReuseStrategy=g(gx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(Hc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(Gc,{optional:!0}),this.eventsSubscription=new pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof bn&&i.code!==ot.Redirect&&i.code!==ot.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Kt)this.navigated=!0;else if(i instanceof eo){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=y({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||px(r.source)},s);this.scheduleNavigation(a,fs,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}wx(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=y({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Fp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=Ab(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Rb(d,n,u,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Fi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,fs,null,i)}navigate(n,i={skipLocationChange:!1}){return bx(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=y({},yx):i===!1?r=y({},Dx):r=i,Fi(n))return ub(this.currentUrlTree,n,r);let o=this.parseUrl(n);return ub(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return Yb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function bx(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new I(4008,!1)}function wx(e){return!(e instanceof _s)&&!(e instanceof eo)}var Zb=(()=>{class e{constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new q,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Kt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:f0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Fi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||e)(Y(Zn),Y(Li),Yl("tabindex"),Y(Ti),Y(We),Y(yn))}}static{this.\u0275dir=it({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&tt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&jr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Oi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Oi],replaceUrl:[2,"replaceUrl","replaceUrl",Oi],routerLink:"routerLink"},standalone:!0,features:[Nf,Un]})}}return e})();var $c=class{};var Cx=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(me(n=>n instanceof Kt),sn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=rc(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return te(r).pipe(Nn())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=C(null);let o=r.pipe(de(s=>s===null?C(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return te([o,s]).pipe(Nn())}else return o})}static{this.\u0275fac=function(i){return new(i||e)(_(Zn),_(hc),_(Me),_($c),_(Lp))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jb=new b(""),Ex=(()=>{class e{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Xr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Kt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Yn&&n.code===xc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof kc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new kc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){N0()}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function Ix(e){return e.routerState.root}function Ms(e,t){return{\u0275kind:e,\u0275providers:t}}function Sx(){let e=g(Se);return t=>{let n=e.get(Rt);if(t!==n.components[0])return;let i=e.get(Zn),r=e.get(Xb);e.get(jp)===1&&i.initialNavigation(),e.get(ew,null,H.Optional)?.setUpPreloading(),e.get(Jb,null,H.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Xb=new b("",{factory:()=>new q}),jp=new b("",{providedIn:"root",factory:()=>1});function Tx(){return Ms(2,[{provide:jp,useValue:0},{provide:uc,multi:!0,deps:[Se],useFactory:t=>{let n=t.get(FD,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(Zn),o=t.get(Xb);Yb(r,()=>{i(!0)}),t.get(Bp).afterPreactivation=()=>(i(!0),o.closed?C(void 0):o),r.initialNavigation()}))}}])}function Mx(){return Ms(3,[{provide:uc,multi:!0,useFactory:()=>{let t=g(Zn);return()=>{t.setUpLocationChangeListener()}}},{provide:jp,useValue:2}])}var ew=new b("");function Nx(e){return Ms(0,[{provide:ew,useExisting:Cx},{provide:$c,useExisting:e}])}function Ax(){return Ms(8,[pb,{provide:Gc,useExisting:pb}])}function Rx(e){let t=[{provide:qb,useValue:dx},{provide:Kb,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ms(9,t)}var vb=new b("ROUTER_FORROOT_GUARD"),Ox=[Gr,{provide:Cs,useClass:Jr},Zn,Is,{provide:Li,useFactory:Ix,deps:[Zn]},Lp,[]],Up=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[Ox,[],{provide:Hc,multi:!0,useValue:n},{provide:vb,useFactory:Fx,deps:[[Zn,new Ar,new Yh]]},{provide:Ts,useValue:i||{}},i?.useHash?Px():kx(),xx(),i?.preloadingStrategy?Nx(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Lx(i):[],i?.bindToComponentInputs?Ax().\u0275providers:[],i?.enableViewTransitions?Rx().\u0275providers:[],Vx()]}}static forChild(n){return{ngModule:e,providers:[{provide:Hc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(i){return new(i||e)(_(vb,8))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();function xx(){return{provide:Jb,useFactory:()=>{let e=g(UD),t=g(k),n=g(Ts),i=g(Bp),r=g(Cs);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ex(r,i,e,t,n)}}}function Px(){return{provide:yn,useClass:VD}}function kx(){return{provide:yn,useClass:Hf}}function Fx(e){return"guarded"}function Lx(e){return[e.initialNavigation==="disabled"?Mx().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Tx().\u0275providers:[]]}var yb=new b("");function Vx(){return[{provide:yb,useFactory:Sx},{provide:dc,multi:!0,useExisting:yb}]}var zc=class e{constructor(t){this.http=t;this.downloadAll()}url="https://dolgozat-79584-default-rtdb.europe-west1.firebasedatabase.app./";adatSub=new q;getAll(){return this.adatSub}downloadAll(){this.http.get(this.url+".json").subscribe(t=>{let n=[];for(let i in t)n.push(y({azon:i},t[i]));this.adatSub.next(n)})}newData(t){this.http.post(this.url+".json",t).forEach(()=>this.downloadAll())}updateData(t){this.http.put(this.url+t.azon+".json",t).forEach(()=>this.downloadAll())}deleteData(t){this.http.delete(this.url+t.azon+".json").forEach(()=>this.downloadAll())}static \u0275fac=function(n){return new(n||e)(_(xi))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var io=class e{constructor(t){this.http=t;this.loadConfigJson("hu")}menuItems=new ye([]);loadConfigJson(t){this.http.get("assets/lang_"+t+".json").subscribe(n=>this.menuItems.next(n))}getLinks(){return this.menuItems}setLang(t){this.loadConfigJson(t)}static \u0275fac=function(n){return new(n||e)(_(xi))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var uw=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||e)(Y(Ti),Y(We))}}static{this.\u0275dir=it({type:e})}}return e})(),jx=(()=>{class e extends uw{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Pr(e)))(r||e)}})()}static{this.\u0275dir=it({type:e,features:[Mi]})}}return e})(),dw=new b("");var Ux={provide:dw,useExisting:Nr(()=>Zc),multi:!0};function Hx(){let e=zt()?zt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var $x=new b(""),Zc=(()=>{class e extends uw{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Hx())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||e)(Y(Ti),Y(We),Y($x,8))}}static{this.\u0275dir=it({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&tt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[sc([Ux]),Mi]})}}return e})();var Gx=new b(""),Wx=new b("");function hw(e){return e!=null}function fw(e){return Ri(e)?te(e):e}function pw(e){let t={};return e.forEach(n=>{t=n!=null?y(y({},t),n):t}),Object.keys(t).length===0?null:t}function gw(e,t){return t.map(n=>n(e))}function zx(e){return!e.validate}function mw(e){return e.map(t=>zx(t)?t:n=>t.validate(n))}function qx(e){if(!e)return null;let t=e.filter(hw);return t.length==0?null:function(n){return pw(gw(n,t))}}function _w(e){return e!=null?qx(mw(e)):null}function Kx(e){if(!e)return null;let t=e.filter(hw);return t.length==0?null:function(n){let i=gw(n,t).map(fw);return Ad(i).pipe(T(pw))}}function vw(e){return e!=null?Kx(mw(e)):null}function iw(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Qx(e){return e._rawValidators}function Yx(e){return e._rawAsyncValidators}function Hp(e){return e?Array.isArray(e)?e:[e]:[]}function Kc(e,t){return Array.isArray(e)?e.includes(t):e===t}function rw(e,t){let n=Hp(t);return Hp(e).forEach(r=>{Kc(n,r)||n.push(r)}),n}function ow(e,t){return Hp(t).filter(n=>!Kc(e,n))}var Qc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=_w(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},$p=class extends Qc{get formDirective(){return null}get path(){return null}},xs=class extends Qc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Gp=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Zx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},a8=U(y({},Zx),{"[class.ng-submitted]":"isSubmitted"}),yw=(()=>{class e extends Gp{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||e)(Y(xs,2))}}static{this.\u0275dir=it({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ni("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Mi]})}}return e})();var Ns="VALID",qc="INVALID",ro="PENDING",As="DISABLED",so=class{},Yc=class extends so{constructor(t,n){super(),this.value=t,this.source=n}},Rs=class extends so{constructor(t,n){super(),this.pristine=t,this.source=n}},Os=class extends so{constructor(t,n){super(),this.touched=t,this.source=n}},oo=class extends so{constructor(t,n){super(),this.status=t,this.source=n}};function Jx(e){return(Jc(e)?e.validators:e)||null}function Xx(e){return Array.isArray(e)?_w(e):e||null}function eP(e,t){return(Jc(t)?t.asyncValidators:e)||null}function tP(e){return Array.isArray(e)?vw(e):e||null}function Jc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Wp=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pc(()=>this.statusReactive()),this.statusReactive=ic(void 0),this._pristine=pc(()=>this.pristineReactive()),this.pristineReactive=ic(!0),this._touched=pc(()=>this.touchedReactive()),this.touchedReactive=ic(!1),this._events=new q,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return zn(this.statusReactive)}set status(t){zn(()=>this.statusReactive.set(t))}get valid(){return this.status===Ns}get invalid(){return this.status===qc}get pending(){return this.status==ro}get disabled(){return this.status===As}get enabled(){return this.status!==As}get pristine(){return zn(this.pristineReactive)}set pristine(t){zn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return zn(this.touchedReactive)}set touched(t){zn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(rw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(rw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ow(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ow(t,this._rawAsyncValidators))}hasValidator(t){return Kc(this._rawValidators,t)}hasAsyncValidator(t){return Kc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(U(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Os(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new Os(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(U(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Rs(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new Rs(!0,i))}markAsPending(t={}){this.status=ro;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new oo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(U(y({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=As,this.errors=null,this._forEachChild(r=>{r.disable(U(y({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yc(this.value,i)),this._events.next(new oo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ns,this._forEachChild(i=>{i.enable(U(y({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(U(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ns||this.status===ro)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yc(this.value,n)),this._events.next(new oo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(U(y({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?As:Ns}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=ro,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=fw(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new oo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?As:this.errors?qc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ro)?ro:this._anyControlsHaveStatus(qc)?qc:Ns}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new Rs(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Os(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Jc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Xx(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=tP(this._rawAsyncValidators)}};var Dw=new b("CallSetDisabledState",{providedIn:"root",factory:()=>zp}),zp="always";function nP(e,t){return[...t.path,e]}function iP(e,t,n=zp){oP(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),sP(e,t),lP(e,t),aP(e,t),rP(e,t)}function sw(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function rP(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function oP(e,t){let n=Qx(e);t.validator!==null?e.setValidators(iw(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=Yx(e);t.asyncValidator!==null?e.setAsyncValidators(iw(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();sw(t._rawValidators,r),sw(t._rawAsyncValidators,r)}function sP(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&bw(e,t)})}function aP(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&bw(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function bw(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function lP(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function cP(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function uP(e){return Object.getPrototypeOf(e.constructor)===jx}function dP(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===Zc?n=o:uP(o)?i=o:r=o}),r||i||n||null}function aw(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function lw(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var hP=class extends Wp{constructor(t=null,n,i){super(Jx(n),eP(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(lw(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){aw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){aw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){lw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var fP={provide:xs,useExisting:Nr(()=>qp)},cw=Promise.resolve(),qp=(()=>{class e extends xs{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new hP,this._registered=!1,this.name="",this.update=new le,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dP(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),cP(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){iP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){cw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&Oi(i);cw.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?nP(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||e)(Y($p,9),Y(Gx,10),Y(Wx,10),Y(dw,10),Y(_n,8),Y(Dw,8))}}static{this.\u0275dir=it({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[sc([fP]),Mi,Un]})}}return e})();var pP=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var ww=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Dw,useValue:n.callSetDisabledState??zp}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({imports:[pP]})}}return e})();function mP(e,t){if(e&1&&(ee(0,"div",2)(1,"div",5),Ne(2),se()()),e&2){let n=t.$implicit;Be(2),Ai(n.text)}}function _P(e,t){if(e&1){let n=Zo();ee(0,"div",2)(1,"div",6)(2,"input",7),Hr("ngModelChange",function(r){let o=Or(n).$implicit,s=mn();return Xo(s.newCikk[o],r)||(s.newCikk[o]=r),xr(r)}),se()()()}if(e&2){let n=t.$implicit,i=mn();Be(2),Ur("ngModel",i.newCikk[n])}}function vP(e,t){if(e&1){let n=Zo();ee(0,"div",2)(1,"div",6)(2,"input",7),Hr("ngModelChange",function(r){let o=Or(n).$implicit,s=mn().$implicit;return Xo(s[o],r)||(s[o]=r),xr(r)}),se()()()}if(e&2){let n=t.$implicit,i=mn().$implicit;Be(2),Ur("ngModel",i[n])}}function yP(e,t){if(e&1){let n=Zo();ee(0,"div",0),gn(1,vP,3,1,"div",1),ee(2,"div",2)(3,"button",8),tt("click",function(){let r=Or(n).$implicit,o=mn();return xr(o.updateData(r))}),Ne(4,"M\xF3dos\xEDt\xE1s"),se(),ee(5,"button",9),tt("click",function(){let r=Or(n).$implicit,o=mn();return xr(o.deleteData(r))}),Ne(6,"T\xF6rl\xE9s"),se()()()}if(e&2){let n=mn();Be(),Gt("ngForOf",n.oszlopok)}}var Xc=class e{constructor(t,n,i){this.base=t;this.config=n;this.http=i;this.base.getAll().subscribe(r=>this.cikkek=r),this.config.getLinks().subscribe(r=>this.links=r.menuItems),this.config.getLinks().subscribe(r=>this.columns=r.columns)}columns;items=[];oszlopok=["name","category","description","price"];adattomb=[];HozzaAdas="Hozz\xE1ad\xE1s";Modositas="M\xF3dos\xEDt\xE1s";Torles="T\xF6rl\xE9s";links;dropClose=!0;lang="Magyar";gombAtallit=!0;cikkek;newCikk={};updateData(t){this.base.updateData(t)}deleteData(t){this.base.deleteData(t)}newData(){this.base.newData(this.newCikk),this.newCikk={}}showDatas(){this.base.getAll().subscribe(t=>this.cikkek=t)}gombBeallitasa(t){this.lang=t=="hu"?"Magyar":"English",this.config.setLang(t),this.dropClose=!0,t=="hu"?this.gombAtallit=!0:this.gombAtallit=!1}static \u0275fac=function(n){return new(n||e)(Y(zc),Y(io),Y(xi))};static \u0275cmp=Pe({type:e,selectors:[["app-products-list"]],decls:9,vars:4,consts:[[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],["type","button",1,"btn","btn-primary",3,"click"],["class","row",4,"ngFor","ngForOf"],[1,"fs-5","text-center"],[1,"m-1"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger","ms-2",3,"click"]],template:function(n,i){n&1&&(ee(0,"div",0),gn(1,mP,3,1,"div",1),Wt(2,"div",2),se(),ee(3,"div",0),gn(4,_P,3,1,"div",1),ee(5,"div",2)(6,"button",3),tt("click",function(){return i.newData()}),Ne(7),se()()(),gn(8,yP,7,1,"div",4)),n&2&&(Be(),Gt("ngForOf",i.columns),Be(3),Gt("ngForOf",i.oszlopok),Be(3),Ai(i.HozzaAdas),Be(),Gt("ngForOf",i.cikkek))},dependencies:[vc,Zc,yw,qp]})};var eu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Pe({type:e,selectors:[["app-login"]],decls:2,vars:0,template:function(n,i){n&1&&(ee(0,"p"),Ne(1,"login works!"),se())}})};var tu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Pe({type:e,selectors:[["app-register"]],decls:2,vars:0,template:function(n,i){n&1&&(ee(0,"p"),Ne(1,"register works!"),se())}})};var nu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Pe({type:e,selectors:[["app-home"]],decls:2,vars:0,template:function(n,i){n&1&&(ee(0,"p"),Ne(1,"home works!"),se())}})};var DP=[{path:"",redirectTo:"products",pathMatch:"full"},{path:"products",component:Xc},{path:"home",component:nu},{path:"login",component:eu},{path:"register",component:tu},{path:"**",redirectTo:"home"}],iu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=L({type:e});static \u0275inj=F({imports:[Up.forRoot(DP),Up]})};var bP=["*"];var wP=["dialog"];var Cw={animation:!0,transitionTimerDelayMs:5},Ew=(()=>{class e{constructor(){this.animation=Cw.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function CP(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),r=parseFloat(n);return(i+r)*1e3}function Iw(e){return typeof e=="string"}function Kp(e){return e!=null}function EP(e){return e&&e.then}function Zp(e){return(e||document.body).getBoundingClientRect()}function IP(e){return t=>new A(n=>{let i=s=>e.run(()=>n.next(s)),r=s=>e.run(()=>n.error(s)),o=()=>e.run(()=>n.complete());return t.subscribe({next:i,error:r,complete:o})})}var SP=()=>{},{transitionTimerDelayMs:TP}=Cw,ru=new Map,Xn=(e,t,n,i)=>{let r=i.context||{},o=ru.get(t);if(o)switch(i.runningTransition){case"continue":return Ie;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),ru.delete(t)}let s=n(t,i.animation,r)||SP;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),C(void 0).pipe(IP(e));let a=new q,l=new q,c=a.pipe(Pd(!0));ru.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=CP(t);return e.runOutsideAngular(()=>{let d=ht(t,"transitionend").pipe(Le(c),me(({target:f})=>f===t)),h=Rd(u+TP).pipe(Le(c));Od(h,d,l).pipe(Le(c)).subscribe(()=>{ru.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};function MP(e,t){if(typeof navigator>"u")return"0px";let{classList:n}=e,i=n.contains("show");i||n.add("show"),e.style[t]="";let r=e.getBoundingClientRect()[t]+"px";return i||n.remove("show"),r}var NP=(e,t,n)=>{let{direction:i,maxSize:r,dimension:o}=n,{classList:s}=e;function a(){s.add("collapse"),i==="show"?s.add("show"):s.remove("show")}if(!t){a();return}return r||(r=MP(e,o),n.maxSize=r,e.style[o]=i!=="show"?r:"0px",s.remove("collapse","collapsing","show"),Zp(e),s.add("collapsing")),e.style[o]=i==="show"?r:"0px",()=>{a(),s.remove("collapsing"),e.style[o]=""}},AP=(()=>{class e{constructor(){this._ngbConfig=g(Ew),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Sw=(()=>{class e{constructor(){this._config=g(AP),this._element=g(We),this._zone=g(k),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new le,this.horizontal=this._config.horizontal,this.shown=new le,this.hidden=new le}set collapsed(n){this._isCollapsed!==n&&(this._isCollapsed=n,this._afterInit&&this._runTransitionWithEvents(n,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(n=this._isCollapsed){this.collapsed=!n,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(n,i){return Xn(this._zone,this._element.nativeElement,NP,{animation:i,runningTransition:"stop",context:{direction:n?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(n,i){this._runTransition(n,i).subscribe(()=>{n?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=it({type:e,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){i&2&&Ni("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return e})();var Tw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var Mw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var Nw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),Aw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var dz=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var RP=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Rw(e){let t=Array.from(e.querySelectorAll(RP)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var OP=(e,t,n,i=!1)=>{e.runOutsideAngular(()=>{let r=ht(t,"focusin").pipe(Le(n),T(o=>o.target));ht(t,"keydown").pipe(Le(n),me(o=>o.key==="Tab"),fr(r)).subscribe(([o,s])=>{let[a,l]=Rw(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&ht(t,"click").pipe(Le(n),fr(r),T(o=>o[1])).subscribe(o=>o.focus())})};var hz=new Date(1882,10,12),fz=new Date(2174,10,25);var pz=1e3*60*60*24;var Jp=1080,xP=24*Jp,PP=12*Jp+793,gz=29*xP+PP,mz=11*Jp+204;var Ow=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var xw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),kP=(()=>{class e{constructor(){this._ngbConfig=g(Ew),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ao=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}};var FP=(()=>{class e{constructor(){this._document=g(be)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),LP=(()=>{class e{constructor(){this._nativeElement=g(We).nativeElement,this._zone=g(k),this._injector=g(Se)}ngOnInit(){Br(()=>Xn(this._zone,this._nativeElement,(n,i)=>{i&&Zp(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:an.MixedReadWrite})}hide(){return Xn(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Pe({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(oc("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Ni("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[es],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),ou=class{update(t){}close(t){}dismiss(t){}},VP=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],BP=["animation","backdropClass"],Qp=class{_applyWindowOptions(t,n){VP.forEach(i=>{Kp(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){BP.forEach(i=>{Kp(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Le(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Le(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new q,this._dismissed=new q,this._hidden=new q,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();EP(n)?n.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():C(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ko(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Yp=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(Yp||{}),jP=(()=>{class e{constructor(){this._document=g(be),this._elRef=g(We),this._zone=g(k),this._injector=g(Se),this._closed$=new q,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new le,this.shown=new q,this.hidden=new q}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Iw(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,Br(()=>this._show(),{injector:this._injector,phase:an.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Xn(this._zone,n,()=>n.classList.remove("show"),i),o=Xn(this._zone,this._dialogEl.nativeElement,()=>{},i),s=ko(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let n={animation:this.animation,runningTransition:"continue"},i=Xn(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Zp(o),o.classList.add("show")},n),r=Xn(this._zone,this._dialogEl.nativeElement,()=>{},n);ko(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{ht(n,"keydown").pipe(Le(this._closed$),me(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Yp.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;ht(this._dialogEl.nativeElement,"mousedown").pipe(Le(this._closed$),ge(()=>i=!1),re(()=>ht(n,"mouseup").pipe(Le(this._closed$),ft(1))),me(({target:r})=>n===r)).subscribe(()=>{i=!0}),ht(n,"click").pipe(Le(this._closed$)).subscribe(({target:r})=>{n===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Yp.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let i=n.querySelector("[ngbAutofocus]"),r=Rw(n)[0];(i||r||n).focus()}}_restoreFocus(){let n=this._document.body,i=this._elWithFocus,r;i&&i.focus&&n.contains(i)?r=i:r=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Xn(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Pe({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&vD(wP,7),i&2){let o;Af(o=Rf())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(jr("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),oc("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Ni("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[es],ngContentSelectors:bP,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(mD(),ee(0,"div",1,0)(2,"div",2),_D(3),se()()),i&2&&oc("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),UP=(()=>{class e{constructor(){this._applicationRef=g(Rt),this._injector=g(Se),this._environmentInjector=g(Me),this._document=g(be),this._scrollBar=g(FP),this._activeWindowCmptHasChanged=new q,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new le;let n=g(k);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];OP(n,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){let o=r.container instanceof HTMLElement?r.container:Kp(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new ou;n=r.injector||n;let a=n.get(Me,null)||this._environmentInjector,l=this._getContentRef(n,a,i,s,r),c=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new Qp(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(ft(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=h=>{d.close(h)},s.dismiss=h=>{d.dismiss(h)},s.update=h=>{d.update(h)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=gc(LP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=gc(jP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,o,s){return r?r instanceof Bn?this._createFromTemplateRef(r,o):Iw(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new ao([])}_createFromTemplateRef(n,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=n.createEmbeddedView(r);return this._applicationRef.attachView(o),new ao([o.rootNodes],o)}_createFromString(n){let i=this._document.createTextNode(`${n}`);return new ao([[i]])}_createFromComponent(n,i,r,o,s){let a=Se.create({providers:[{provide:ou,useValue:o}],parent:n}),l=gc(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new ao([[c]],l.hostView,l)}_setAriaHidden(n){let i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let i=()=>{let r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),HP=(()=>{class e{constructor(){this._injector=g(Se),this._modalStack=g(UP),this._config=g(kP)}open(n,i={}){let r=y(U(y({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Pw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({providers:[HP]})}}return e})();var kw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var Fw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var Lw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var Vw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var Bw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var jw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var Uw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var Hw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var $w=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var _z=new b("live announcer delay",{providedIn:"root",factory:()=>100});var Gw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var Ww=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),$P=[Tw,Mw,Nw,Aw,Ow,xw,Pw,kw,Ww,Fw,Lw,Vw,Bw,jw,Uw,Hw,$w,Gw],zw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({imports:[$P,Tw,Mw,Nw,Aw,Ow,xw,Pw,kw,Ww,Fw,Lw,Vw,Bw,jw,Uw,Hw,$w,Gw]})}}return e})();function WP(e,t){if(e&1&&(ee(0,"li",12)(1,"a",13),Ne(2),se()()),e&2){let n=t.$implicit;Be(),Gt("routerLink",n.link),Be(),Ai(n.text)}}var su=class e{constructor(t){this.config=t;this.config.getLinks().subscribe(n=>this.links=n.menuItems)}links;dropClose=!0;lang="Magyar";setLang(t){this.lang=t=="hu"?"Magyar":"English",this.config.setLang(t),this.dropClose=!0}static \u0275fac=function(n){return new(n||e)(Y(io))};static \u0275cmp=Pe({type:e,selectors:[["app-nav"]],decls:19,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",3,"click"],["aria-labelledby","navbarDropdown",1,"dropdown-menu",3,"ngbCollapseChange","ngbCollapse"],[1,"dropdown-item",3,"click"],[1,"nav-item"],[1,"nav-link",3,"routerLink"]],template:function(n,i){n&1&&(ee(0,"nav",0)(1,"div",1)(2,"a",2),Ne(3,"Webshop"),se(),ee(4,"button",3),Wt(5,"span",4),se(),ee(6,"div",5)(7,"ul",6),gn(8,WP,3,2,"li",7),ee(9,"li",8)(10,"button",9),tt("click",function(){return i.dropClose=!i.dropClose}),Ne(11),se(),ee(12,"ul",10),Hr("ngbCollapseChange",function(o){return Xo(i.dropClose,o)||(i.dropClose=o),o}),ee(13,"li")(14,"button",11),tt("click",function(){return i.setLang("hu")}),Ne(15,"Magyar"),se()(),ee(16,"li")(17,"button",11),tt("click",function(){return i.setLang("en")}),Ne(18,"English"),se()()()()()()()()),n&2&&(Be(8),Gt("ngForOf",i.links),Be(3),Jo(" ",i.lang," "),Be(),Ur("ngbCollapse",i.dropClose))},dependencies:[vc,Zb,Sw]})};var au=class e{title="Gyaklorlas";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Pe({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(n,i){n&1&&(ee(0,"div",0),Wt(1,"app-nav")(2,"router-outlet"),se())},dependencies:[kp,su]})};var qP="firebase",KP="10.14.1";Tn(qP,KP,"app");var Bi=new hn("ANGULARFIRE2_VERSION");var QP=(e,t)=>{let n=t?[t]:I_(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Vi=class{constructor(){return QP(YP)}},YP="app-check";function Xp(){}var lu=class{zone;delegate;constructor(t,n=Td){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},eg=class{zone;task=null;constructor(t){this.zone=t}call(t,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xp,{},Xp,Xp)),n.pipe(ge({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},cu=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new lu(Zone.current)),this.insideAngular=n.run(()=>new lu(Zone.current,sr)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(_(k))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZP(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function Cn(e){return JP(ZP())(e)}function JP(e){return function(n){return n=n.lift(new eg(e.ngZone)),n.pipe(It(e.outsideAngular),dt(e.insideAngular))}}var tk=new Map,nk={activated:!1,tokenObservers:[]},ik={initialized:!1,enabled:!1};function xt(e){return tk.get(e)||Object.assign({},nk)}function Jw(){return ik}var rk="https://content-firebaseappcheck.googleapis.com/v1";var ok="exchangeDebugToken",Kw={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Fz=24*60*60*1e3;var ng=class{constructor(t,n,i,r,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return Qe(this,null,function*(){this.stop();try{this.pending=new Te,this.pending.promise.catch(n=>{}),yield sk(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Te,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function sk(e){return new Promise(t=>{setTimeout(t,e)})}var ak={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ei=new __("appCheck","AppCheck",ak);function Xw(e){if(!xt(e).activated)throw ei.create("use-before-activation",{appName:e.name})}function eC(i,r){return Qe(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(f){throw ei.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw ei.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw ei.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function tC(e,t){let{projectId:n,appId:i,apiKey:r}=e.options;return{url:`${rk}/projects/${n}/apps/${i}:${ok}?key=${r}`,body:{debug_token:t}}}var lk="firebase-app-check-database",ck=1,ig="firebase-app-check-store";var uu=null;function uk(){return uu||(uu=new Promise((e,t)=>{try{let n=indexedDB.open(lk,ck);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(ei.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(ig,{keyPath:"compositeKey"})}}}catch(n){t(ei.create("storage-open",{originalErrorMessage:n?.message}))}}),uu)}function dk(e,t){return hk(fk(e),t)}function hk(e,t){return Qe(this,null,function*(){let i=(yield uk()).transaction(ig,"readwrite"),o=i.objectStore(ig).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(ei.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function fk(e){return`${e.options.appId}-${e.name}`}var rg=new Yi("@firebase/app-check");function tg(e,t){return m_()?dk(e,t).catch(n=>{rg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function nC(){return Jw().enabled}function iC(){return Qe(this,null,function*(){let e=Jw();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var pk={error:"UNKNOWN_ERROR"};function gk(e){return _a.encodeString(JSON.stringify(e),!1)}function og(e,t=!1){return Qe(this,null,function*(){let n=e.app;Xw(n);let i=xt(n),r=i.token,o;if(r&&!ks(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(ks(l)?r=l:yield tg(n,void 0))}if(!t&&r&&ks(r))return{token:r.token};let s=!1;if(nC()){i.exchangeTokenPromise||(i.exchangeTokenPromise=eC(tC(n,yield iC()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield tg(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield xt(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?rg.warn(l.message):rg.error(l),o=l}let a;return r?o?ks(r)?a={token:r.token,internalError:o}:a=Yw(o):(a={token:r.token},i.token=r,yield tg(n,r)):a=Yw(o),s&&yk(n,a),a})}function mk(e){return Qe(this,null,function*(){let t=e.app;Xw(t);let{provider:n}=xt(t);if(nC()){let i=yield iC(),{token:r}=yield eC(tC(t,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function _k(e,t,n,i){let{app:r}=e,o=xt(r),s={next:n,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ks(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),Qw(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Qw(e))}function rC(e,t){let n=xt(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function Qw(e){let{app:t}=e,n=xt(t),i=n.tokenRefresher;i||(i=vk(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function vk(e){let{app:t}=e;return new ng(()=>Qe(this,null,function*(){let n=xt(t),i;if(n.token?i=yield og(e,!0):i=yield og(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=xt(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Kw.RETRIAL_MIN_WAIT,Kw.RETRIAL_MAX_WAIT)}function yk(e,t){let n=xt(e).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function ks(e){return e.expireTimeMillis-Date.now()>0}function Yw(e){return{token:gk(pk),error:e}}var sg=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=xt(this.app);for(let n of t)rC(this.app,n.next);return Promise.resolve()}};function Dk(e,t){return new sg(e,t)}function bk(e){return{getToken:t=>og(e,t),getLimitedUseToken:()=>mk(e),addTokenListener:t=>_k(e,"INTERNAL",t),removeTokenListener:t=>rC(e.app,t)}}var wk="@firebase/app-check",Ck="0.8.8";var Ek="app-check",Zw="app-check-internal";function Ik(){Ao(new tn(Ek,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Dk(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Zw).initialize()})),Ao(new tn(Zw,e=>{let t=e.getProvider("app-check").getImmediate();return bk(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Tn(wk,Ck)}Ik();var Sk=["localhost","0.0.0.0","127.0.0.1"],Kz=typeof window<"u"&&Sk.includes(window.location.hostname);var Tk="firebase",Mk="10.14.1";He.registerVersion(Tk,Mk,"app-compat");var Nk=["ngOnDestroy"],aC=(e,t,n,i={})=>new Proxy(e,{get:(r,o)=>n.runOutsideAngular(()=>{if(e[o])return i?.spy?.get&&i.spy.get(o,e[o]),e[o];if(Nk.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var du=class{constructor(t){return t}},lo=new b("angularfire2.app.options"),co=new b("angularfire2.app.name");function Fs(e,t,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=He.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>He.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;Ak("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new du(s)}var Ak=(e,...t)=>{kf()&&typeof console<"u"&&console[e](...t)},Rk={provide:du,useFactory:Fs,deps:[lo,k,[new Ar,co]]},lC=(()=>{class e{static initializeApp(n,i){return{ngModule:e,providers:[{provide:lo,useValue:n},{provide:co,useValue:i}]}}constructor(n){He.registerVersion("angularfire",Bi.full,"core"),He.registerVersion("angularfire",Bi.full,"app-compat"),He.registerVersion("angular",DD.full,n.toString())}static \u0275fac=function(i){return new(i||e)(_(Fe))};static \u0275mod=L({type:e});static \u0275inj=F({providers:[Rk]})}return e})();function hu(e,t,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return Ok(r,s)||(sC("error",`${t} was already initialized on the ${n} Firebase App with different settings.${xk?" You may need to reload as Firebase is not HMR aware.":""}`),sC("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function Ok(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var xk=typeof module<"u"&&!!module.hot,sC=(e,...t)=>{kf()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var ag=new b("angularfire2.auth.use-emulator"),lg=new b("angularfire2.auth.settings"),cg=new b("angularfire2.auth.tenant-id"),ug=new b("angularfire2.auth.langugage-code"),dg=new b("angularfire2.auth.use-device-language"),hg=new b("angularfire.auth.persistence"),fg=(e,t,n,i,r,o,s,a)=>hu(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,o,s,a]),pg=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,l,c,u,d,h,f){let p=new q,m=C(void 0).pipe(dt(s.outsideAngular),re(()=>o.runOutsideAngular(()=>import("./chunk-HFG2JIZC.js"))),T(()=>Fs(n,o,i)),T(D=>fg(D,o,a,c,u,d,l,h)),Ja({bufferSize:1,refCount:!1}));if(Wr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=C(null);else{m.pipe(pt()).subscribe();let D=m.pipe(re(E=>E.getRedirectResult().then(ie=>ie,()=>null)),Cn,Ja({bufferSize:1,refCount:!1})),S=m.pipe(re(E=>new A(ie=>({unsubscribe:o.runOutsideAngular(()=>E.onAuthStateChanged(fe=>ie.next(fe),fe=>ie.error(fe),()=>ie.complete()))})))),B=m.pipe(re(E=>new A(ie=>({unsubscribe:o.runOutsideAngular(()=>E.onIdTokenChanged(fe=>ie.next(fe),fe=>ie.error(fe),()=>ie.complete()))}))));this.authState=D.pipe(el(S),It(s.outsideAngular),dt(s.insideAngular)),this.user=D.pipe(el(B),It(s.outsideAngular),dt(s.insideAngular)),this.idToken=this.user.pipe(re(E=>E?te(E.getIdToken()):C(null))),this.idTokenResult=this.user.pipe(re(E=>E?te(E.getIdTokenResult()):C(null))),this.credential=pi(D,p,this.authState.pipe(me(E=>!E))).pipe(T(E=>E?.user?E:null),It(s.outsideAngular),dt(s.insideAngular))}return aC(this,m,o,{spy:{apply:(D,S,B)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&B.then(E=>p.next(E))}}})}static \u0275fac=function(i){return new(i||e)(_(lo),_(co,8),_(Fe),_(k),_(cu),_(ag,8),_(lg,8),_(cg,8),_(ug,8),_(dg,8),_(hg,8),_(Vi,8))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),cC=(()=>{class e{constructor(){He.registerVersion("angularfire",Bi.full,"auth-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=F({providers:[pg]})}return e})();var uC="@firebase/database",dC="1.0.8";var Sm="";function Tm(e){Sm=e}var wg=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ve(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:va(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Cg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return ut(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var HC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new wg(t)}}catch{}return new Cg},Ui=HC("localStorage"),Eg=HC("sessionStorage");var po=new Yi("@firebase/database"),$C=function(){let e=1;return function(){return e++}}(),GC=function(e){let t=w_(e),n=new b_;n.update(t);let i=n.digest();return _a.encodeByteArray(i)},sa=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=sa.apply(null,i):typeof i=="object"?t+=ve(i):t+=i,t+=" "}return t},Hi=null,hC=!0,WC=function(e,t){v(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(po.logLevel=C_.VERBOSE,Hi=po.log.bind(po),t&&Eg.set("logging_enabled",!0)):typeof e=="function"?Hi=e:(Hi=null,Eg.remove("logging_enabled"))},Re=function(...e){if(hC===!0&&(hC=!1,Hi===null&&Eg.get("logging_enabled")===!0&&WC(!0)),Hi){let t=sa.apply(null,e);Hi(t)}},aa=function(e){return function(...t){Re(e,...t)}},Ig=function(...e){let t="FIREBASE INTERNAL ERROR: "+sa(...e);po.error(t)},Zt=function(...e){let t=`FIREBASE FATAL ERROR: ${sa(...e)}`;throw po.error(t),new Error(t)},je=function(...e){let t="FIREBASE WARNING: "+sa(...e);po.warn(t)},kk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ju=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Fk=function(e){if(Ft()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ri="[MIN_NAME]",En="[MAX_NAME]",Gi=function(e,t){if(e===t)return 0;if(e===ri||t===En)return-1;if(t===ri||e===En)return 1;{let n=fC(e),i=fC(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},Lk=function(e,t){return e===t?0:e<t?-1:1},Ls=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ve(t))},Mm=function(e){if(typeof e!="object"||e===null)return ve(e);let t=[];for(let i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=ve(t[i]),n+=":",n+=Mm(e[t[i]]);return n+="}",n},zC=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Oe(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var qC=function(e){v(!ju(e),"Invalid JSON number");let t=11,n=52,i=(1<<t-1)-1,r,o,s,a,l;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Vk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Bk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jk(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}var Uk=new RegExp("^-?(0*)\\d{1,10}$"),Hk=-2147483648,$k=2147483647,fC=function(e){if(Uk.test(e)){let t=Number(e);if(t>=Hk&&t<=$k)return t}return null},Co=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw je("Exception was thrown by user callback.",n),t},Math.floor(0))}},Gk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Us=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Sg=class{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Tg=class{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',je(t)}},Hs=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),pu="5",KC="v",QC="s",YC="r",ZC="f",JC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,XC="ls",eE="p",Mg="ac",tE="websocket",nE="long_polling";var gu=class{constructor(t,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function Wk(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function iE(e,t,n){v(typeof t=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let i;if(t===tE)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===nE)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Wk(e)&&(n.ns=e.namespace);let r=[];return Oe(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Ng=class{constructor(){this.counters_={}}incrementCounter(t,n=1){ut(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return f_(this.counters_)}};var gg={},mg={};function Nm(e){let t=e.toString();return gg[t]||(gg[t]=new Ng),gg[t]}function zk(e,t){let n=e.toString();return mg[n]||(mg[n]=t()),mg[n]}var Ag=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Co(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var pC="start",qk="close",Kk="pLPCommand",Qk="pRTLPCB",rE="id",oE="pw",sE="ser",Yk="cb",Zk="seg",Jk="ts",Xk="d",eF="dframe",aE=1870,lE=30,tF=aE-lE,nF=25e3,iF=3e4,zs=class e{constructor(t,n,i,r,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aa(t),this.stats_=Nm(n),this.urlFn=l=>(this.appCheckToken&&(l[Mg]=this.appCheckToken),iE(n,nE,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ag(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(iF)),Fk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rg((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===pC)this.id=a,this.password=l;else if(s===qk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[pC]="t",i[sE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Yk]=this.scriptTagHolder.uniqueCallbackIdentifier),i[KC]=pu,this.transportSessionId&&(i[QC]=this.transportSessionId),this.lastSessionId&&(i[XC]=this.lastSessionId),this.applicationId&&(i[eE]=this.applicationId),this.appCheckToken&&(i[Mg]=this.appCheckToken),typeof location<"u"&&location.hostname&&JC.test(location.hostname)&&(i[YC]=ZC);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Ft()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Vk()&&!Bk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ve(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=h_(n),r=zC(i,tF);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Ft())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[eF]="t",i[rE]=t,i[oE]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ve(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Rg=class e{constructor(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ft())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=$C(),window[Kk+this.uniqueCallbackIdentifier]=t,window[Qk+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Re("frame writing exception"),a.stack&&Re(a.stack),Re(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Re("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[rE]=this.myID,t[oE]=this.myPW,t[sE]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+lE+i.length<=aE;){let s=this.pendingSegs.shift();i=i+"&"+Zk+r+"="+s.seg+"&"+Jk+r+"="+s.ts+"&"+Xk+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(nF)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,n){Ft()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Re("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var rF=16384,oF=45e3,mu=null;typeof MozWebSocket<"u"?mu=MozWebSocket:typeof WebSocket<"u"&&(mu=WebSocket);var ho=(()=>{class e{constructor(n,i,r,o,s,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aa(this.connId),this.stats_=Nm(i),this.connURL=e.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[KC]=pu,!Ft()&&typeof location<"u"&&location.hostname&&JC.test(location.hostname)&&(a[YC]=ZC),i&&(a[QC]=i),r&&(a[XC]=r),o&&(a[Mg]=o),s&&(a[eE]=s),iE(n,tE,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let r;if(Ft()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${pu}/${Sm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new mu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&mu!==null&&!e.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=va(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=ve(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=zC(i,rF);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(oF))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),cE=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[zs,ho]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=ho&&ho.isAvailable(),r=i&&!ho.previouslyFailed();if(n.webSocketOnly&&(i||je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ho];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),sF=6e4,aF=5e3,lF=10*1024,cF=100*1024,_g="t",gC="d",uF="s",mC="r",dF="e",_C="o",vC="a",yC="n",DC="p",hF="h",Og=class{constructor(t,n,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aa("c:"+this.id+":"),this.transportManager_=new cE(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Us(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>cF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>lF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(_g in t){let n=t[_g];n===vC?this.upgradeIfSecondaryHealthy_():n===mC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===_C&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Ls("t",t),i=Ls("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:DC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Ls("t",t),i=Ls("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Ls(_g,t);if(gC in t){let i=t[gC];if(n===hF){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===yC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===uF?this.onConnectionShutdown_(i):n===mC?this.onReset_(i):n===dF?Ig("Server Error: "+i):n===_C?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ig("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pu!==i&&je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Us(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(sF))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Us(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(aF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:DC,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var _u=class{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}};var vu=class{constructor(t){this.allowedEvents_=t,this.listeners_={},v(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});let r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){v(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var yu=class e extends vu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ad()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(t){return v(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var bC=32,wC=768,J=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function Z(){return new J("")}function $(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function oi(e){return e.pieces_.length-e.pieceNum_}function ae(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new J(e.pieces_,t)}function Am(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function fF(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function qs(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function uE(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new J(t,0)}function ue(e,t){let n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof J)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new J(n,0)}function G(e){return e.pieceNum_>=e.pieces_.length}function ze(e,t){let n=$(e),i=$(t);if(n===null)return t;if(n===i)return ze(ae(e),ae(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function pF(e,t){let n=qs(e,0),i=qs(t,0);for(let r=0;r<n.length&&r<i.length;r++){let o=Gi(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function Rm(e,t){if(oi(e)!==oi(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function bt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(oi(e)>oi(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var xg=class{constructor(t,n){this.errorPrefix_=n,this.parts_=qs(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=No(this.parts_[i]);dE(this)}};function gF(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=No(t),dE(e)}function mF(e){let t=e.parts_.pop();e.byteLength_-=No(t),e.parts_.length>0&&(e.byteLength_-=1)}function dE(e){if(e.byteLength_>wC)throw new Error(e.errorPrefix_+"has a key path longer than "+wC+" bytes ("+e.byteLength_+").");if(e.parts_.length>bC)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bC+") or object contains a cycle "+ji(e))}function ji(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Pg=class e extends vu{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new e}getInitialEvent(t){return v(t==="visible","Unknown event type: "+t),[this.visible_]}};var Vs=1e3,_F=60*5*1e3,CC=30*1e3,vF=1.3,yF=3e4,DF="server_kill",EC=3,Om=(()=>{class e extends _u{constructor(n,i,r,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=aa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vs,this.maxReconnectDelay_=_F,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ft())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&yu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(ve(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new Te,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&ut(n,"w")){let r=Sn(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||y_(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=CC)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=v_(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ve(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Ig("Unrecognized action received from server: "+ve(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Vs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yF&&(this.reconnectDelay_=Vs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vF)}this.onConnectStatus_(!1)}establishConnection_(){return Qe(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Og(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{je(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(DF)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&je(h),c())}}})}interrupt(n){Re("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Re("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ya(this.interruptReasons_)&&(this.reconnectDelay_=Vs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>Mm(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new J(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Re("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=EC&&(this.reconnectDelay_=CC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Re("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=EC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";Ft()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+Sm.replace(/\./g,"-")]=1,ad()?n["framework.cordova"]=1:g_()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=yu.getInstance().currentlyOnline();return ya(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),W=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var go=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let i=new W(ri,t),r=new W(ri,n);return this.compare(i,r)!==0}minPost(){return W.MIN}};var fu,Du=class extends go{static get __EMPTY_NODE(){return fu}static set __EMPTY_NODE(t){fu=t}compare(t,n){return Gi(t.name,n.name)}isDefinedOn(t){throw Qi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return W.MIN}maxPost(){return new W(En,fu)}makePost(t,n){return v(typeof t=="string","KeyIndex indexValue must always be a string."),new W(t,fu)}toString(){return".key"}},Yt=new Du;var fo=class{constructor(t,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Pt=(()=>{class e{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??e.RED,this.left=o??wt.EMPTY_NODE,this.right=s??wt.EMPTY_NODE}copy(n,i,r,o,s){return new e(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return wt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),kg=class{copy(t,n,i,r,o){return this}insert(t,n,i){return new Pt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},wt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Pt.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new fo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new fo(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new fo(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new fo(this.root_,null,this.comparator_,!0,t)}};wt.EMPTY_NODE=new kg;function bF(e,t){return Gi(e.name,t.name)}function xm(e,t){return Gi(e,t)}var Fg;function wF(e){Fg=e}var hE=function(e){return typeof e=="number"?"number:"+qC(e):"string:"+e},fE=function(e){if(e.isLeafNode()){let t=e.val();v(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ut(t,".sv"),"Priority must be a string or number.")}else v(e===Fg||e.isEmpty(),"priority of unexpected type.");v(e===Fg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var IC,mo=(()=>{class e{constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fE(this.priorityNode_)}static set __childrenNodeConstructor(n){IC=n}static get __childrenNodeConstructor(){return IC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return G(n)?this:$(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=$(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(v(r!==".priority"||oi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+hE(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=qC(this.value_):n+=this.value_,this.lazyHash_=GC(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return v(o>=0,"Unknown leaf type: "+i),v(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),pE,gE;function CF(e){pE=e}function EF(e){gE=e}var Lg=class extends go{compare(t,n){let i=t.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Gi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return W.MIN}maxPost(){return new W(En,new mo("[PRIORITY-POST]",gE))}makePost(t,n){let i=pE(t);return new W(n,new mo("[PRIORITY-POST]",i))}toString(){return".priority"}},ce=new Lg;var IF=Math.log(2),Vg=class{constructor(t){let n=o=>parseInt(Math.log(o)/IF,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},bu=function(e,t,n,i){e.sort(t);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=e[l],h=n?n(d):d,new Pt(h,d.node,Pt.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=e[f],h=n?n(d):d,new Pt(h,d.node,Pt.BLACK,p,m)}},o=function(l){let c=null,u=null,d=e.length,h=function(p,m){let D=d-p,S=d;d-=p;let B=r(D+1,S),E=e[D],ie=n?n(E):E;f(new Pt(ie,E.node,m,null,B))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),D=Math.pow(2,l.count-(p+1));m?h(D,Pt.BLACK):(h(D,Pt.BLACK),h(D,Pt.RED))}return u},s=new Vg(e.length),a=o(s);return new wt(i||t,a)};var vg,uo={},_o=class e{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return v(uo&&ce,"ChildrenNode.ts has not been loaded"),vg=vg||new e({".priority":uo},{".priority":ce}),vg}get(t){let n=Sn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof wt?n:null}hasIndex(t){return ut(this.indexSet_,t.toString())}addIndex(t,n){v(t!==Yt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(W.Wrap),s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=bu(i,t.getCompare()):a=uo;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let i=Mo(this.indexes_,(r,o)=>{let s=Sn(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),r===uo)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(W.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),bu(a,s.getCompare())}else return uo;else{let a=n.get(t.name),l=r;return a&&(l=l.remove(new W(t.name,a))),l.insert(t,t.node)}});return new e(i,this.indexSet_)}removeFromIndexes(t,n){let i=Mo(this.indexes_,r=>{if(r===uo)return r;{let o=n.get(t.name);return o?r.remove(new W(t.name,o)):r}});return new e(i,this.indexSet_)}};var Bs,x=(()=>{class e{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&fE(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bs||(Bs=new e(new wt(xm),null,_o.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bs}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?Bs:i}}getChild(n){let i=$(n);return i===null?this:this.getImmediateChild(i).getChild(ae(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(v(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new W(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Bs:this.priorityNode_;return new e(o,a,s)}}updateChild(n,i){let r=$(n);if(r===null)return i;{v($(n)!==".priority"||oi(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(ae(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(ce,(a,l)=>{i[a]=l.val(n),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+hE(this.getPriority().val())+":"),this.forEachChild(ce,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":GC(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new W(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new W(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new W(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,W.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,W.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===la?-1:0}withIndex(n){if(n===Yt||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Yt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(ce),o=i.getIterator(ce),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Yt?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Bg=class extends x{constructor(){super(new wt(xm),x.EMPTY_NODE,_o.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return x.EMPTY_NODE}isEmpty(){return!1}},la=new Bg;Object.defineProperties(W,{MIN:{value:new W(ri,x.EMPTY_NODE)},MAX:{value:new W(En,la)}});Du.__EMPTY_NODE=x.EMPTY_NODE;mo.__childrenNodeConstructor=x;wF(la);EF(la);var SF=!0;function he(e,t=null){if(e===null)return x.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),v(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new mo(n,he(t))}if(!(e instanceof Array)&&SF){let n=[],i=!1;if(Oe(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=he(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new W(s,l)))}}),n.length===0)return x.EMPTY_NODE;let o=bu(n,bF,s=>s.name,xm);if(i){let s=bu(n,ce.getCompare());return new x(o,he(t),new _o({".priority":s},{".priority":ce}))}else return new x(o,he(t),_o.Default)}else{let n=x.EMPTY_NODE;return Oe(e,(i,r)=>{if(ut(e,i)&&i.substring(0,1)!=="."){let o=he(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(he(t))}}CF(he);var Ks=class extends go{constructor(t){super(),this.indexPath_=t,v(!G(t)&&$(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let i=this.extractChild(t.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Gi(t.name,n.name):o}makePost(t,n){let i=he(t),r=x.EMPTY_NODE.updateChild(this.indexPath_,i);return new W(n,r)}maxPost(){let t=x.EMPTY_NODE.updateChild(this.indexPath_,la);return new W(En,t)}toString(){return qs(this.indexPath_,0).join("/")}};var jg=class extends go{compare(t,n){let i=t.node.compareTo(n.node);return i===0?Gi(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(t,n){let i=he(t);return new W(n,i)}toString(){return".value"}},Pm=new jg;function mE(e){return{type:"value",snapshotNode:e}}function vo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Qs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ys(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function TF(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Zs=class{constructor(t){this.index_=t}updateChild(t,n,i,r,o,s){v(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(n)?s.trackChildChange(Qs(n,a)):v(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(vo(n,i)):s.trackChildChange(Ys(n,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(ce,(r,o)=>{n.hasChild(r)||i.trackChildChange(Qs(r,o))}),n.isLeafNode()||n.forEachChild(ce,(r,o)=>{if(t.hasChild(r)){let s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(Ys(r,o,s))}else i.trackChildChange(vo(r,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?x.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var wu=class e{constructor(t){this.indexedFilter_=new Zs(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,r,o,s){return this.matches(new W(n,i))||(i=x.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,o,s)}updateFullNode(t,n,i){n.isLeafNode()&&(n=x.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(x.EMPTY_NODE);let o=this;return n.forEachChild(ce,(s,a)=>{o.matches(new W(s,a))||(r=r.updateImmediateChild(s,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Ug=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new wu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,r,o,s){return this.rangedFilter_.matches(new W(n,i))||(i=x.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,o,s):this.fullLimitUpdateChild_(t,n,i,o,s)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=x.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(x.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=t;v(a.numChildren()===this.limit_,"");let l=new W(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(Ys(n,i,d)),a.updateImmediateChild(n,i);{o?.trackChildChange(Qs(n,d));let m=a.updateImmediateChild(n,x.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(vo(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return i.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Qs(c.name,c.node)),o.trackChildChange(vo(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,x.EMPTY_NODE)):t}};var Js=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ri}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:En}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ce}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function MF(e){return e.loadsAllData()?new Zs(e.getIndex()):e.hasLimit()?new Ug(e):new wu(e)}function NF(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function AF(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Hg(e,t,n){let i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function RF(e,t,n){let i;return e.index_===Yt||n?i=Hg(e,t,n):i=Hg(e,t,En),i.startAfterSet_=!0,i}function $g(e,t,n){let i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function OF(e,t,n){let i;return e.index_===Yt||n?i=$g(e,t,n):i=$g(e,t,ri),i.endBeforeSet_=!0,i}function Uu(e,t){let n=e.copy();return n.index_=t,n}function SC(e){let t={};if(e.isDefault())return t;let n;if(e.index_===ce?n="$priority":e.index_===Pm?n="$value":e.index_===Yt?n="$key":(v(e.index_ instanceof Ks,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ve(n),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";t[i]=ve(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+ve(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";t[i]=ve(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+ve(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function TC(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ce&&(t.i=e.index_.toString()),t}var Gg=class e extends _u{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=aa("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(v(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,i),a={};this.listens_[s]=a;let l=SC(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Sn(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(t,n){let i=e.getListenId_(t,n);delete this.listens_[i]}get(t){let n=SC(t._queryParams),i=t._path.toString(),r=new Te;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+D_(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=va(a.responseText)}catch{je("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&je("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var Wg=class{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function Cu(){return{value:null,children:new Map}}function Eo(e,t,n){if(G(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let i=$(t);e.children.has(i)||e.children.set(i,Cu());let r=e.children.get(i);t=ae(t),Eo(r,t,n)}}function zg(e,t){if(G(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(ce,(i,r)=>{Eo(e,new J(i),r)}),zg(e,t)}}else if(e.children.size>0){let n=$(t);return t=ae(t),e.children.has(n)&&zg(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function qg(e,t,n){e.value!==null?n(t,e.value):xF(e,(i,r)=>{let o=new J(t.toString()+"/"+i);qg(r,o,n)})}function xF(e,t){e.children.forEach((n,i)=>{t(i,n)})}var Kg=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Oe(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}};var MC=10*1e3,PF=30*1e3,kF=5*60*1e3,Qg=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Kg(t);let i=MC+(PF-MC)*Math.random();Us(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),n={},i=!1;Oe(t,(r,o)=>{o>0&&ut(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Us(this.reportStats_.bind(this),Math.floor(Math.random()*2*kF))}};var Qt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Qt||{});function km(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Fm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Lm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Yg=class e{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Qt.ACK_USER_WRITE,this.source=km()}operationForChild(t){if(G(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new J(t));return new e(Z(),n,this.revert)}}else return v($(this.path)===t,"operationForChild called for unrelated child."),new e(ae(this.path),this.affectedTree,this.revert)}};var Eu=class e{constructor(t,n){this.source=t,this.path=n,this.type=Qt.LISTEN_COMPLETE}operationForChild(t){return G(this.path)?new e(this.source,Z()):new e(this.source,ae(this.path))}};var yo=class e{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Qt.OVERWRITE}operationForChild(t){return G(this.path)?new e(this.source,Z(),this.snap.getImmediateChild(t)):new e(this.source,ae(this.path),this.snap)}};var Xs=class e{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Qt.MERGE}operationForChild(t){if(G(this.path)){let n=this.children.subtree(new J(t));return n.isEmpty()?null:n.value?new yo(this.source,Z(),n.value):new e(this.source,Z(),n)}else return v($(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Jt=class{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(G(t))return this.isFullyInitialized()&&!this.filtered_;let n=$(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Zg=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function FF(e,t,n,i){let r=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(TF(s.childName,s.snapshotNode))}),js(e,r,"child_removed",t,i,n),js(e,r,"child_added",t,i,n),js(e,r,"child_moved",o,i,n),js(e,r,"child_changed",t,i,n),js(e,r,"value",t,i,n),r}function js(e,t,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,l)=>VF(e,a,l)),s.forEach(a=>{let l=LF(e,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function LF(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function VF(e,t,n){if(t.childName==null||n.childName==null)throw Qi("Should only compare child_ events.");let i=new W(t.childName,t.snapshotNode),r=new W(n.childName,n.snapshotNode);return e.index_.compare(i,r)}function Hu(e,t){return{eventCache:e,serverCache:t}}function $s(e,t,n,i){return Hu(new Jt(t,n,i),e.serverCache)}function _E(e,t,n,i){return Hu(e.eventCache,new Jt(t,n,i))}function Iu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $i(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var yg,BF=()=>(yg||(yg=new wt(Lk)),yg),qe=class e{constructor(t,n=BF()){this.value=t,this.children=n}static fromObject(t){let n=new e(null);return Oe(t,(i,r)=>{n=n.set(new J(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(G(t))return null;{let i=$(t),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(ae(t),n);return o!=null?{path:ue(new J(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(G(t))return this;{let n=$(t),i=this.children.get(n);return i!==null?i.subtree(ae(t)):new e(null)}}set(t,n){if(G(t))return new e(n,this.children);{let i=$(t),o=(this.children.get(i)||new e(null)).set(ae(t),n),s=this.children.insert(i,o);return new e(this.value,s)}}remove(t){if(G(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=$(t),i=this.children.get(n);if(i){let r=i.remove(ae(t)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(G(t))return this.value;{let n=$(t),i=this.children.get(n);return i?i.get(ae(t)):null}}setTree(t,n){if(G(t))return n;{let i=$(t),o=(this.children.get(i)||new e(null)).setTree(ae(t),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(t){return this.fold_(Z(),t)}fold_(t,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ue(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Z(),n)}findOnPath_(t,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(G(t))return null;{let o=$(t),s=this.children.get(o);return s?s.findOnPath_(ae(t),ue(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Z(),n)}foreachOnPath_(t,n,i){if(G(t))return this;{this.value&&i(n,this.value);let r=$(t),o=this.children.get(r);return o?o.foreachOnPath_(ae(t),ue(n,r),i):new e(null)}}foreach(t){this.foreach_(Z(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(ue(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}};var kt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new qe(null))}};function Gs(e,t,n){if(G(t))return new kt(new qe(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,o=i.value,s=ze(r,t);return o=o.updateChild(s,n),new kt(e.writeTree_.set(r,o))}else{let r=new qe(n),o=e.writeTree_.setTree(t,r);return new kt(o)}}}function Jg(e,t,n){let i=e;return Oe(n,(r,o)=>{i=Gs(i,ue(t,r),o)}),i}function NC(e,t){if(G(t))return kt.empty();{let n=e.writeTree_.setTree(t,new qe(null));return new kt(n)}}function Xg(e,t){return Wi(e,t)!=null}function Wi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ze(n.path,t)):null}function AC(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ce,(i,r)=>{t.push(new W(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new W(i,r.value))}),t}function ni(e,t){if(G(t))return e;{let n=Wi(e,t);return n!=null?new kt(new qe(n)):new kt(e.writeTree_.subtree(t))}}function em(e){return e.writeTree_.isEmpty()}function Do(e,t){return vE(Z(),e.writeTree_,t)}function vE(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=vE(ue(e,r),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(ue(e,".priority"),i)),n}}function $u(e,t){return wE(t,e)}function jF(e,t,n,i,r){v(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Gs(e.visibleWrites,t,n)),e.lastWriteId=i}function UF(e,t,n,i){v(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Jg(e.visibleWrites,t,n),e.lastWriteId=i}function HF(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}function $F(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);v(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&GF(a,i.path)?r=!1:bt(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return WF(e),!0;if(i.snap)e.visibleWrites=NC(e.visibleWrites,i.path);else{let a=i.children;Oe(a,l=>{e.visibleWrites=NC(e.visibleWrites,ue(i.path,l))})}return!0}else return!1}function GF(e,t){if(e.snap)return bt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&bt(ue(e.path,n),t))return!0;return!1}function WF(e){e.visibleWrites=yE(e.allWrites,zF,Z()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function zF(e){return e.visible}function yE(e,t,n){let i=kt.empty();for(let r=0;r<e.length;++r){let o=e[r];if(t(o)){let s=o.path,a;if(o.snap)bt(n,s)?(a=ze(n,s),i=Gs(i,a,o.snap)):bt(s,n)&&(a=ze(s,n),i=Gs(i,Z(),o.snap.getChild(a)));else if(o.children){if(bt(n,s))a=ze(n,s),i=Jg(i,a,o.children);else if(bt(s,n))if(a=ze(s,n),G(a))i=Jg(i,Z(),o.children);else{let l=Sn(o.children,$(a));if(l){let c=l.getChild(ae(a));i=Gs(i,Z(),c)}}}else throw Qi("WriteRecord should have .snap or .children")}}return i}function DE(e,t,n,i,r){if(!i&&!r){let o=Wi(e.visibleWrites,t);if(o!=null)return o;{let s=ni(e.visibleWrites,t);if(em(s))return n;if(n==null&&!Xg(s,Z()))return null;{let a=n||x.EMPTY_NODE;return Do(s,a)}}}else{let o=ni(e.visibleWrites,t);if(!r&&em(o))return n;if(!r&&n==null&&!Xg(o,Z()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(bt(c.path,t)||bt(t,c.path))},a=yE(e.allWrites,s,t),l=n||x.EMPTY_NODE;return Do(a,l)}}}function qF(e,t,n){let i=x.EMPTY_NODE,r=Wi(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ce,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=ni(e.visibleWrites,t);return n.forEachChild(ce,(s,a)=>{let l=Do(ni(o,new J(s)),a);i=i.updateImmediateChild(s,l)}),AC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=ni(e.visibleWrites,t);return AC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function KF(e,t,n,i,r){v(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=ue(t,n);if(Xg(e.visibleWrites,o))return null;{let s=ni(e.visibleWrites,o);return em(s)?r.getChild(n):Do(s,r.getChild(n))}}function QF(e,t,n,i){let r=ue(t,n),o=Wi(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=ni(e.visibleWrites,r);return Do(s,i.getNode().getImmediateChild(n))}else return null}function YF(e,t){return Wi(e.visibleWrites,t)}function ZF(e,t,n,i,r,o,s){let a,l=ni(e.visibleWrites,t),c=Wi(l,Z());if(c!=null)a=c;else if(n!=null)a=Do(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function JF(){return{visibleWrites:kt.empty(),allWrites:[],lastWriteId:-1}}function Su(e,t,n,i){return DE(e.writeTree,e.treePath,t,n,i)}function Vm(e,t){return qF(e.writeTree,e.treePath,t)}function RC(e,t,n,i){return KF(e.writeTree,e.treePath,t,n,i)}function Tu(e,t){return YF(e.writeTree,ue(e.treePath,t))}function XF(e,t,n,i,r,o){return ZF(e.writeTree,e.treePath,t,n,i,r,o)}function Bm(e,t,n){return QF(e.writeTree,e.treePath,t,n)}function bE(e,t){return wE(ue(e.treePath,t),e.writeTree)}function wE(e,t){return{treePath:e,writeTree:t}}var tm=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,i=t.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Ys(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Qs(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,vo(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Ys(i,t.snapshotNode,r.oldSnap));else throw Qi("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var nm=class{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}},CE=new nm,ea=class{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new Jt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bm(this.writes_,t,i)}}getChildAfterChild(t,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$i(this.viewCache_),o=XF(this.writes_,r,n,1,i,t);return o.length===0?null:o[0]}};function eL(e){return{filter:e}}function tL(e,t){v(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),v(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function nL(e,t,n,i,r){let o=new tm,s,a;if(n.type===Qt.OVERWRITE){let c=n;c.source.fromUser?s=im(e,t,c.path,c.snap,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!G(c.path),s=Mu(e,t,c.path,c.snap,i,r,a,o))}else if(n.type===Qt.MERGE){let c=n;c.source.fromUser?s=rL(e,t,c.path,c.children,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=rm(e,t,c.path,c.children,i,r,a,o))}else if(n.type===Qt.ACK_USER_WRITE){let c=n;c.revert?s=aL(e,t,c.path,i,r,o):s=oL(e,t,c.path,c.affectedTree,i,r,o)}else if(n.type===Qt.LISTEN_COMPLETE)s=sL(e,t,n.path,i,o);else throw Qi("Unknown operation type: "+n.type);let l=o.getChanges();return iL(t,s,l),{viewCache:s,changes:l}}function iL(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Iu(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(mE(Iu(t)))}}function EE(e,t,n,i,r,o){let s=t.eventCache;if(Tu(i,n)!=null)return t;{let a,l;if(G(n))if(v(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=$i(t),u=c instanceof x?c:x.EMPTY_NODE,d=Vm(i,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=Su(i,$i(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=$(n);if(c===".priority"){v(oi(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=RC(i,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=ae(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let h=RC(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=Bm(i,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return $s(t,a,s.isFullyInitialized()||G(n),e.filter.filtersNodes())}}function Mu(e,t,n,i,r,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(G(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=$(n);if(!l.isCompleteForPath(n)&&oi(n)>1)return t;let p=ae(n),D=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),D):c=u.updateChild(l.getNode(),f,D,p,CE,null)}let d=_E(t,c,l.isFullyInitialized()||G(n),u.filtersNodes()),h=new ea(r,d,o);return EE(e,d,n,r,h,a)}function im(e,t,n,i,r,o,s){let a=t.eventCache,l,c,u=new ea(r,t,o);if(G(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=$s(t,c,!0,e.filter.filtersNodes());else{let d=$(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),l=$s(t,c,a.isFullyInitialized(),a.isFiltered());else{let h=ae(n),f=a.getNode().getImmediateChild(d),p;if(G(h))p=i;else{let m=u.getCompleteChild(d);m!=null?Am(h)===".priority"&&m.getChild(uE(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=x.EMPTY_NODE}if(f.equals(p))l=t;else{let m=e.filter.updateChild(a.getNode(),d,p,h,u,s);l=$s(t,m,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function OC(e,t){return e.eventCache.isCompleteForChild(t)}function rL(e,t,n,i,r,o,s){let a=t;return i.foreach((l,c)=>{let u=ue(n,l);OC(t,$(u))&&(a=im(e,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=ue(n,l);OC(t,$(u))||(a=im(e,a,u,c,r,o,s))}),a}function xC(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function rm(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;G(n)?c=i:c=new qe(null).setTree(n,i);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=t.serverCache.getNode().getImmediateChild(d),p=xC(e,f,h);l=Mu(e,l,new J(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=t.serverCache.getNode().getImmediateChild(d),m=xC(e,p,h);l=Mu(e,l,new J(d),m,r,o,s,a)}}),l}function oL(e,t,n,i,r,o,s){if(Tu(r,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(G(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Mu(e,t,n,l.getNode().getChild(n),r,o,a,s);if(G(n)){let c=new qe(null);return l.getNode().forEachChild(Yt,(u,d)=>{c=c.set(new J(u),d)}),rm(e,t,n,c,r,o,a,s)}else return t}else{let c=new qe(null);return i.foreach((u,d)=>{let h=ue(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),rm(e,t,n,c,r,o,a,s)}}function sL(e,t,n,i,r){let o=t.serverCache,s=_E(t,o.getNode(),o.isFullyInitialized()||G(n),o.isFiltered());return EE(e,s,n,i,CE,r)}function aL(e,t,n,i,r,o){let s;if(Tu(i,n)!=null)return t;{let a=new ea(i,t,r),l=t.eventCache.getNode(),c;if(G(n)||$(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Su(i,$i(t));else{let d=t.serverCache.getNode();v(d instanceof x,"serverChildren would be complete if leaf node"),u=Vm(i,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=$(n),d=Bm(i,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,ae(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,x.EMPTY_NODE,ae(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Su(i,$i(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||Tu(i,Z())!=null,$s(t,c,s,e.filter.filtersNodes())}}var om=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Zs(i.getIndex()),o=MF(i);this.processor_=eL(o);let s=n.serverCache,a=n.eventCache,l=r.updateFullNode(x.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(x.EMPTY_NODE,a.getNode(),null),u=new Jt(l,s.isFullyInitialized(),r.filtersNodes()),d=new Jt(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Hu(d,u),this.eventGenerator_=new Zg(this.query_)}get query(){return this.query_}};function lL(e){return e.viewCache_.serverCache.getNode()}function cL(e){return Iu(e.viewCache_)}function uL(e,t){let n=$i(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!G(t)&&!n.getImmediateChild($(t)).isEmpty())?n.getChild(t):null}function PC(e){return e.eventRegistrations_.length===0}function dL(e,t){e.eventRegistrations_.push(t)}function kC(e,t,n){let i=[];if(n){v(t==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))r.push(s);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function FC(e,t,n,i){t.type===Qt.MERGE&&t.source.queryId!==null&&(v($i(e.viewCache_),"We should always have a full cache before handling merges"),v(Iu(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=nL(e.processor_,r,t,n,i);return tL(e.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,IE(e,o.changes,o.viewCache.eventCache.getNode(),null)}function hL(e,t){let n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ce,(o,s)=>{i.push(vo(o,s))}),n.isFullyInitialized()&&i.push(mE(n.getNode())),IE(e,i,n.getNode(),t)}function IE(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return FF(e.eventGenerator_,t,n,r)}var Nu,Au=class{constructor(){this.views=new Map}};function fL(e){v(!Nu,"__referenceConstructor has already been defined"),Nu=e}function pL(){return v(Nu,"Reference.ts has not been loaded"),Nu}function gL(e){return e.views.size===0}function jm(e,t,n,i){let r=t.source.queryId;if(r!==null){let o=e.views.get(r);return v(o!=null,"SyncTree gave us an op for an invalid query."),FC(o,t,n,i)}else{let o=[];for(let s of e.views.values())o=o.concat(FC(s,t,n,i));return o}}function SE(e,t,n,i,r){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Su(n,r?i:null),l=!1;a?l=!0:i instanceof x?(a=Vm(n,i),l=!1):(a=x.EMPTY_NODE,l=!1);let c=Hu(new Jt(a,l,!1),new Jt(i,r,!1));return new om(t,c)}return s}function mL(e,t,n,i,r,o){let s=SE(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),dL(s,n),hL(s,n)}function _L(e,t,n,i){let r=t._queryIdentifier,o=[],s=[],a=si(e);if(r==="default")for(let[l,c]of e.views.entries())s=s.concat(kC(c,n,i)),PC(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(r);l&&(s=s.concat(kC(l,n,i)),PC(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!si(e)&&o.push(new(pL())(t._repo,t._path)),{removed:o,events:s}}function TE(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ii(e,t){let n=null;for(let i of e.views.values())n=n||uL(i,t);return n}function ME(e,t){if(t._queryParams.loadsAllData())return Gu(e);{let i=t._queryIdentifier;return e.views.get(i)}}function NE(e,t){return ME(e,t)!=null}function si(e){return Gu(e)!=null}function Gu(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Ru;function vL(e){v(!Ru,"__referenceConstructor has already been defined"),Ru=e}function yL(){return v(Ru,"Reference.ts has not been loaded"),Ru}var DL=1,Ou=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new qe(null),this.pendingWriteTree_=JF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Um(e,t,n,i,r){return jF(e.pendingWriteTree_,t,n,i,r),r?Io(e,new yo(km(),t,n)):[]}function bL(e,t,n,i){UF(e.pendingWriteTree_,t,n,i);let r=qe.fromObject(n);return Io(e,new Xs(km(),t,r))}function ti(e,t,n=!1){let i=HF(e.pendingWriteTree_,t);if($F(e.pendingWriteTree_,t)){let o=new qe(null);return i.snap!=null?o=o.set(Z(),!0):Oe(i.children,s=>{o=o.set(new J(s),!0)}),Io(e,new Yg(i.path,o,n))}else return[]}function ca(e,t,n){return Io(e,new yo(Fm(),t,n))}function wL(e,t,n){let i=qe.fromObject(n);return Io(e,new Xs(Fm(),t,i))}function CL(e,t){return Io(e,new Eu(Fm(),t))}function EL(e,t,n){let i=Hm(e,n);if(i){let r=$m(i),o=r.path,s=r.queryId,a=ze(o,t),l=new Eu(Lm(s),a);return Gm(e,o,l)}else return[]}function xu(e,t,n,i,r=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||NE(s,t))){let l=_L(s,t,n,i);gL(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(h,f)=>si(f));if(u&&!d){let h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=TL(h);for(let p=0;p<f.length;++p){let m=f[p],D=m.query,S=xE(e,m);e.listenProvider_.startListening(Ws(D),ta(e,D),S.hashFn,S.onComplete)}}}!d&&c.length>0&&!i&&(u?e.listenProvider_.stopListening(Ws(t),null):c.forEach(h=>{let f=e.queryToTagMap.get(zu(h));e.listenProvider_.stopListening(Ws(h),f)}))}ML(e,c)}return a}function AE(e,t,n,i){let r=Hm(e,i);if(r!=null){let o=$m(r),s=o.path,a=o.queryId,l=ze(s,t),c=new yo(Lm(a),l,n);return Gm(e,s,c)}else return[]}function IL(e,t,n,i){let r=Hm(e,i);if(r){let o=$m(r),s=o.path,a=o.queryId,l=ze(s,t),c=qe.fromObject(n),u=new Xs(Lm(a),l,c);return Gm(e,s,u)}else return[]}function sm(e,t,n,i=!1){let r=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=ze(h,r);o=o||ii(f,p),s=s||si(f)});let a=e.syncPointTree_.get(r);a?(s=s||si(a),o=o||ii(a,Z())):(a=new Au,e.syncPointTree_=e.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=x.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((f,p)=>{let m=ii(p,Z());m&&(o=o.updateImmediateChild(f,m))}));let c=NE(a,t);if(!c&&!t._queryParams.loadsAllData()){let h=zu(t);v(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=NL();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=$u(e.pendingWriteTree_,r),d=mL(a,t,n,u,o,l);if(!c&&!s&&!i){let h=ME(a,t);d=d.concat(AL(e,t,h))}return d}function Wu(e,t,n){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=ze(s,t),c=ii(a,l);if(c)return c});return DE(r,t,o,n,!0)}function SL(e,t){let n=t._path,i=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=ze(c,n);i=i||ii(u,d)});let r=e.syncPointTree_.get(n);r?i=i||ii(r,Z()):(r=new Au,e.syncPointTree_=e.syncPointTree_.set(n,r));let o=i!=null,s=o?new Jt(i,!0,!1):null,a=$u(e.pendingWriteTree_,t._path),l=SE(r,t,a,o?s.getNode():x.EMPTY_NODE,o);return cL(l)}function Io(e,t){return RE(t,e.syncPointTree_,null,$u(e.pendingWriteTree_,Z()))}function RE(e,t,n,i){if(G(e.path))return OE(e,t,n,i);{let r=t.get(Z());n==null&&r!=null&&(n=ii(r,Z()));let o=[],s=$(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=bE(i,s);o=o.concat(RE(a,l,c,u))}return r&&(o=o.concat(jm(r,e,i,n))),o}}function OE(e,t,n,i){let r=t.get(Z());n==null&&r!=null&&(n=ii(r,Z()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=bE(i,s),u=e.operationForChild(s);u&&(o=o.concat(OE(u,a,l,c)))}),r&&(o=o.concat(jm(r,e,i,n))),o}function xE(e,t){let n=t.query,i=ta(e,n);return{hashFn:()=>(lL(t)||x.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?EL(e,n._path,i):CL(e,n._path);{let o=jk(r,n);return xu(e,n,null,o)}}}}function ta(e,t){let n=zu(t);return e.queryToTagMap.get(n)}function zu(e){return e._path.toString()+"$"+e._queryIdentifier}function Hm(e,t){return e.tagToQueryMap.get(t)}function $m(e){let t=e.indexOf("$");return v(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new J(e.substr(0,t))}}function Gm(e,t,n){let i=e.syncPointTree_.get(t);v(i,"Missing sync point for query tag that we're tracking");let r=$u(e.pendingWriteTree_,t);return jm(i,n,r,null)}function TL(e){return e.fold((t,n,i)=>{if(n&&si(n))return[Gu(n)];{let r=[];return n&&(r=TE(n)),Oe(i,(o,s)=>{r=r.concat(s)}),r}})}function Ws(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(yL())(e._repo,e._path):e}function ML(e,t){for(let n=0;n<t.length;++n){let i=t[n];if(!i._queryParams.loadsAllData()){let r=zu(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function NL(){return DL++}function AL(e,t,n){let i=t._path,r=ta(e,t),o=xE(e,n),s=e.listenProvider_.startListening(Ws(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)v(!si(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!G(c)&&u&&si(u))return[Gu(u).query];{let h=[];return u&&(h=h.concat(TE(u).map(f=>f.query))),Oe(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Ws(u),ta(e,u))}}return s}var am=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},lm=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=ue(this.path_,t);return new e(this.syncTree_,n)}node(){return Wu(this.syncTree_,this.path_)}},RL=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},LC=function(e,t,n){if(!e||typeof e!="object")return e;if(v(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return OL(e[".sv"],t,n);if(typeof e[".sv"]=="object")return xL(e[".sv"],t);v(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},OL=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+e)}},xL=function(e,t,n){e.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&v(!1,"Unexpected increment value: "+i);let r=t.node();if(v(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},PE=function(e,t,n,i){return zm(t,new lm(n,e),i)},Wm=function(e,t,n){return zm(e,new am(t),n)};function zm(e,t,n){let i=e.getPriority().val(),r=LC(i,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=LC(s.getValue(),t,n);return a!==s.getValue()||r!==s.getPriority().val()?new mo(a,he(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new mo(r))),s.forEachChild(ce,(a,l)=>{let c=zm(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var na=class{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}};function qu(e,t){let n=t instanceof J?t:new J(t),i=e,r=$(n);for(;r!==null;){let o=Sn(i.node.children,r)||{children:{},childCount:0};i=new na(r,i,o),n=ae(n),r=$(n)}return i}function zi(e){return e.node.value}function qm(e,t){e.node.value=t,cm(e)}function kE(e){return e.node.childCount>0}function PL(e){return zi(e)===void 0&&!kE(e)}function Ku(e,t){Oe(e.node.children,(n,i)=>{t(new na(n,e,i))})}function FE(e,t,n,i){n&&!i&&t(e),Ku(e,r=>{FE(r,t,!0,i)}),n&&i&&t(e)}function kL(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function ua(e){return new J(e.parent===null?e.name:ua(e.parent)+"/"+e.name)}function cm(e){e.parent!==null&&FL(e.parent,e.name,e)}function FL(e,t,n){let i=PL(n),r=ut(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,cm(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,cm(e))}var LL=/[\[\].#$\/\u0000-\u001F\u007F]/,VL=/[\[\].#$\u0000-\u001F\u007F]/,Dg=10*1024*1024,Qu=function(e){return typeof e=="string"&&e.length!==0&&!LL.test(e)},LE=function(e){return typeof e=="string"&&e.length!==0&&!VL.test(e)},BL=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),LE(e)},ia=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!ju(e)||e&&typeof e=="object"&&ut(e,".sv")},Xt=function(e,t,n,i){i&&t===void 0||da(Ye(e,"value"),t,n)},da=function(e,t,n){let i=n instanceof J?new xg(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ji(i));if(typeof t=="function")throw new Error(e+"contains a function "+ji(i)+" with contents = "+t.toString());if(ju(t))throw new Error(e+"contains "+t.toString()+" "+ji(i));if(typeof t=="string"&&t.length>Dg/3&&No(t)>Dg)throw new Error(e+"contains a string greater than "+Dg+" utf8 bytes "+ji(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(Oe(t,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Qu(s)))throw new Error(e+" contains an invalid key ("+s+") "+ji(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);gF(i,s),da(e,a,i),mF(i)}),r&&o)throw new Error(e+' contains ".value" child '+ji(i)+" in addition to actual children.")}},jL=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];let o=qs(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Qu(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(pF);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&bt(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},VE=function(e,t,n,i){if(i&&t===void 0)return;let r=Ye(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");let o=[];Oe(t,(s,a)=>{let l=new J(s);if(da(r,a,ue(n,l)),Am(l)===".priority"&&!ia(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),jL(r,o)},Km=function(e,t,n){if(!(n&&t===void 0)){if(ju(t))throw new Error(Ye(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ia(t))throw new Error(Ye(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ha=function(e,t,n,i){if(!(i&&n===void 0)&&!Qu(n))throw new Error(Ye(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},So=function(e,t,n,i){if(!(i&&n===void 0)&&!LE(n))throw new Error(Ye(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UL=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),So(e,t,n,i)},st=function(e,t){if($(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},BE=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Qu(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!BL(n))throw new Error(Ye(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var um=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Yu(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],o=r.getPath();n!==null&&!Rm(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function jE(e,t,n){Yu(e,n),UE(e,i=>Rm(i,t))}function at(e,t,n){Yu(e,n),UE(e,i=>bt(i,t)||bt(t,i))}function UE(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;t(o)?(HL(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function HL(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let i=n.getEventRunner();Hi&&Re("event: "+n.toString()),Co(i)}}}var HE="repo_interrupt",$L=25,dm=class{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new um,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cu(),this.transactionQueueTree_=new na,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function GL(e,t,n){if(e.stats_=Nm(e.repoInfo_),e.forceRestClient_||Gk())e.server_=new Gg(e.repoInfo_,(i,r,o,s)=>{VC(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>BC(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ve(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Om(e.repoInfo_,t,(i,r,o,s)=>{VC(e,i,r,o,s)},i=>{BC(e,i)},i=>{WL(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=zk(e.repoInfo_,()=>new Qg(e.stats_,e.server_)),e.infoData_=new Wg,e.infoSyncTree_=new Ou({startListening:(i,r,o,s)=>{let a=[],l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=ca(e.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Qm(e,"connected",!1),e.serverSyncTree_=new Ou({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);at(e.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function $E(e){let n=e.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fa(e){return RL({timestamp:$E(e)})}function VC(e,t,n,i,r){e.dataUpdateCount++;let o=new J(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){let l=Mo(n,c=>he(c));s=IL(e.serverSyncTree_,o,l,r)}else{let l=he(n);s=AE(e.serverSyncTree_,o,l,r)}else if(i){let l=Mo(n,c=>he(c));s=wL(e.serverSyncTree_,o,l)}else{let l=he(n);s=ca(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=bo(e,o)),at(e.eventQueue_,a,s)}function BC(e,t){Qm(e,"connected",t),t===!1&&KL(e)}function WL(e,t){Oe(t,(n,i)=>{Qm(e,n,i)})}function Qm(e,t,n){let i=new J("/.info/"+t),r=he(n);e.infoData_.updateSnapshot(i,r);let o=ca(e.infoSyncTree_,i,r);at(e.eventQueue_,i,o)}function Zu(e){return e.nextWriteId_++}function zL(e,t,n){let i=SL(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(r=>{let o=he(r).withIndex(t._queryParams.getIndex());sm(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=ca(e.serverSyncTree_,t._path,o);else{let a=ta(e.serverSyncTree_,t);s=AE(e.serverSyncTree_,t._path,o,a)}return at(e.eventQueue_,t._path,s),xu(e.serverSyncTree_,t,n,null,!0),o},r=>(To(e,"get for query "+ve(t)+" failed: "+r),Promise.reject(new Error(r))))}function Ym(e,t,n,i,r){To(e,"set",{path:t.toString(),value:n,priority:i});let o=fa(e),s=he(n,i),a=Wu(e.serverSyncTree_,t),l=Wm(s,a,o),c=Zu(e),u=Um(e.serverSyncTree_,t,l,c,!0);Yu(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,f)=>{let p=h==="ok";p||je("set at "+t+" failed: "+h);let m=ti(e.serverSyncTree_,c,!p);at(e.eventQueue_,t,m),ai(e,r,h,f)});let d=Jm(e,t);bo(e,d),at(e.eventQueue_,d,[])}function qL(e,t,n,i){To(e,"update",{path:t.toString(),value:n});let r=!0,o=fa(e),s={};if(Oe(n,(a,l)=>{r=!1,s[a]=PE(ue(t,a),he(l),e.serverSyncTree_,o)}),r)Re("update() called with empty data.  Don't do anything."),ai(e,i,"ok",void 0);else{let a=Zu(e),l=bL(e.serverSyncTree_,t,s,a);Yu(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||je("update at "+t+" failed: "+c);let h=ti(e.serverSyncTree_,a,!d),f=h.length>0?bo(e,t):t;at(e.eventQueue_,f,h),ai(e,i,c,u)}),Oe(n,c=>{let u=Jm(e,ue(t,c));bo(e,u)}),at(e.eventQueue_,t,[])}}function KL(e){To(e,"onDisconnectEvents");let t=fa(e),n=Cu();qg(e.onDisconnect_,Z(),(r,o)=>{let s=PE(r,o,e.serverSyncTree_,t);Eo(n,r,s)});let i=[];qg(n,Z(),(r,o)=>{i=i.concat(ca(e.serverSyncTree_,r,o));let s=Jm(e,r);bo(e,s)}),e.onDisconnect_=Cu(),at(e.eventQueue_,Z(),i)}function QL(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&zg(e.onDisconnect_,t),ai(e,n,i,r)})}function jC(e,t,n,i){let r=he(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{o==="ok"&&Eo(e.onDisconnect_,t,r),ai(e,i,o,s)})}function YL(e,t,n,i,r){let o=he(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&Eo(e.onDisconnect_,t,o),ai(e,r,s,a)})}function ZL(e,t,n,i){if(ya(n)){Re("onDisconnect().update() called with empty data.  Don't do anything."),ai(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,o)=>{r==="ok"&&Oe(n,(s,a)=>{let l=he(a);Eo(e.onDisconnect_,ue(t,s),l)}),ai(e,i,r,o)})}function JL(e,t,n){let i;$(t._path)===".info"?i=sm(e.infoSyncTree_,t,n):i=sm(e.serverSyncTree_,t,n),jE(e.eventQueue_,t._path,i)}function hm(e,t,n){let i;$(t._path)===".info"?i=xu(e.infoSyncTree_,t,n):i=xu(e.serverSyncTree_,t,n),jE(e.eventQueue_,t._path,i)}function GE(e){e.persistentConnection_&&e.persistentConnection_.interrupt(HE)}function XL(e){e.persistentConnection_&&e.persistentConnection_.resume(HE)}function To(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Re(n,...t)}function ai(e,t,n,i){t&&Co(()=>{if(n==="ok")t(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,t(s)}})}function e2(e,t,n,i,r,o){To(e,"transaction on "+t);let s={path:t,update:n,onComplete:i,status:null,order:$C(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Zm(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{da("transaction failed: Data returned ",l,s.path),s.status=0;let c=qu(e.transactionQueueTree_,t),u=zi(c)||[];u.push(s),qm(c,u);let d;typeof l=="object"&&l!==null&&ut(l,".priority")?(d=Sn(l,".priority"),v(ia(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Wu(e.serverSyncTree_,t)||x.EMPTY_NODE).getPriority().val();let h=fa(e),f=he(l,d),p=Wm(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=Zu(e);let m=Um(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);at(e.eventQueue_,t,m),Ju(e,e.transactionQueueTree_)}}function Zm(e,t,n){return Wu(e.serverSyncTree_,t,n)||x.EMPTY_NODE}function Ju(e,t=e.transactionQueueTree_){if(t||Xu(e,t),zi(t)){let n=zE(e,t);v(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&t2(e,ua(t),n)}else kE(t)&&Ku(t,n=>{Ju(e,n)})}function t2(e,t,n){let i=n.map(c=>c.currentWriteId),r=Zm(e,t,i),o=r,s=r.hash();for(let c=0;c<n.length;c++){let u=n[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=ze(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{To(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ti(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Xu(e,qu(e.transactionQueueTree_,t)),Ju(e,e.transactionQueueTree_),at(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)Co(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{je("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}bo(e,t)}},s)}function bo(e,t){let n=WE(e,t),i=ua(n),r=zE(e,n);return n2(e,r,i),i}function n2(e,t,n){if(t.length===0)return;let i=[],r=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=ze(n,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(ti(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=$L)u=!0,d="maxretry",r=r.concat(ti(e.serverSyncTree_,l.currentWriteId,!0));else{let h=Zm(e,l.path,s);l.currentInputSnapshot=h;let f=t[a].update(h.val());if(f!==void 0){da("transaction failed: Data returned ",f,l.path);let p=he(f);typeof f=="object"&&f!=null&&ut(f,".priority")||(p=p.updatePriority(h.getPriority()));let D=l.currentWriteId,S=fa(e),B=Wm(p,h,S);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=B,l.currentWriteId=Zu(e),s.splice(s.indexOf(D),1),r=r.concat(Um(e.serverSyncTree_,l.path,B,l.currentWriteId,l.applyLocally)),r=r.concat(ti(e.serverSyncTree_,D,!0))}else u=!0,d="nodata",r=r.concat(ti(e.serverSyncTree_,l.currentWriteId,!0))}at(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}Xu(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Co(i[a]);Ju(e,e.transactionQueueTree_)}function WE(e,t){let n,i=e.transactionQueueTree_;for(n=$(t);n!==null&&zi(i)===void 0;)i=qu(i,n),t=ae(t),n=$(t);return i}function zE(e,t){let n=[];return qE(e,t,n),n.sort((i,r)=>i.order-r.order),n}function qE(e,t,n){let i=zi(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Ku(t,r=>{qE(e,r,n)})}function Xu(e,t){let n=zi(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,qm(t,n.length>0?n:void 0)}Ku(t,i=>{Xu(e,i)})}function Jm(e,t){let n=ua(WE(e,t)),i=qu(e.transactionQueueTree_,t);return kL(i,r=>{bg(e,r)}),bg(e,i),FE(i,r=>{bg(e,r)}),n}function bg(e,t){let n=zi(t);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(v(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(ti(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?qm(t,void 0):n.length=o+1,at(e.eventQueue_,ua(t),r);for(let s=0;s<i.length;s++)Co(i[s])}}function i2(e){let t="",n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function r2(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):je(`Invalid query segment '${n}' in query '${e}'`)}return t}var fm=function(e,t){let n=o2(e),i=n.namespace;n.domain==="firebase.com"&&Zt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Zt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||kk();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gu(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new J(n.pathString)}},o2=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=i2(e.substring(u,d)));let h=r2(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let f=t.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=t.indexOf(".");i=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var UC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",s2=function(){let e=0,t=[];return function(n){let i=n===e;e=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=UC.charAt(n%64),n=Math.floor(n/64);v(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=UC.charAt(t[r]);return v(s.length===20,"nextPushId: Length should be 20."),s}}();var Pu=class{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ve(this.snapshot.exportVal())}},ku=class{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ra=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var Fu=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Te;return QL(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){st("OnDisconnect.remove",this._path);let t=new Te;return jC(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){st("OnDisconnect.set",this._path),Xt("OnDisconnect.set",t,this._path,!1);let n=new Te;return jC(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){st("OnDisconnect.setWithPriority",this._path),Xt("OnDisconnect.setWithPriority",t,this._path,!1),Km("OnDisconnect.setWithPriority",n,!1);let i=new Te;return YL(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){st("OnDisconnect.update",this._path),VE("OnDisconnect.update",t,this._path,!1);let n=new Te;return ZL(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var Ke=class e{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return G(this._path)?null:Am(this._path)}get ref(){return new lt(this._repo,this._path)}get _queryIdentifier(){let t=TC(this._queryParams),n=Mm(t);return n==="{}"?"default":n}get _queryObject(){return TC(this._queryParams)}isEqual(t){if(t=Ue(t),!(t instanceof e))return!1;let n=this._repo===t._repo,i=Rm(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+fF(this._path)}};function ed(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ci(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Yt){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ri)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==En)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===ce){if(t!=null&&!ia(t)||n!=null&&!ia(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v(e.getIndex()instanceof Ks||e.getIndex()===Pm,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function td(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var lt=class e extends Ke{constructor(t,n){super(t,n,new Js,!1)}get parent(){let t=uE(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},wo=class e{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new J(t),i=li(this.ref,t);return new e(this._node.getChild(n),i,ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new e(r,li(this.ref,i),ce)))}hasChild(t){let n=new J(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Xm(e,t){return e=Ue(e),e._checkNotDeleted("ref"),t!==void 0?li(e._root,t):e._root}function e_(e,t){e=Ue(e),e._checkNotDeleted("refFromURL");let n=fm(t,e._repo.repoInfo_.nodeAdmin);BE("refFromURL",n);let i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&Zt("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),Xm(e,n.path.toString())}function li(e,t){return e=Ue(e),$(e._path)===null?UL("child","path",t,!1):So("child","path",t,!1),new lt(e._repo,ue(e._path,t))}function KE(e,t){e=Ue(e),st("push",e._path),Xt("push",t,e._path,!0);let n=$E(e._repo),i=s2(n),r=li(e,i),o=li(e,i),s;return t!=null?s=nd(o,t).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function QE(e){return st("remove",e._path),nd(e,null)}function nd(e,t){e=Ue(e),st("set",e._path),Xt("set",t,e._path,!1);let n=new Te;return Ym(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function YE(e,t){e=Ue(e),st("setPriority",e._path),Km("setPriority",t,!1);let n=new Te;return Ym(e._repo,ue(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function ZE(e,t,n){if(st("setWithPriority",e._path),Xt("setWithPriority",t,e._path,!1),Km("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let i=new Te;return Ym(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function JE(e,t){VE("update",t,e._path,!1);let n=new Te;return qL(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function XE(e){e=Ue(e);let t=new ra(()=>{}),n=new oa(t);return zL(e._repo,e,n).then(i=>new wo(i,new lt(e._repo,e._path),e._queryParams.getIndex()))}var oa=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let i=n._queryParams.getIndex();return new Pu("value",this,new wo(t.snapshotNode,new lt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new ku(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Lu=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new ku(this,t,n):null}createEvent(t,n){v(t.childName!=null,"Child events should have a childName.");let i=li(new lt(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new Pu(t.type,this,new wo(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function pa(e,t,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{hm(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new ra(n,o||void 0),a=t==="value"?new oa(s):new Lu(t,s);return JL(e._repo,e,a),()=>hm(e._repo,e,a)}function id(e,t,n,i){return pa(e,"value",t,n,i)}function t_(e,t,n,i){return pa(e,"child_added",t,n,i)}function n_(e,t,n,i){return pa(e,"child_changed",t,n,i)}function i_(e,t,n,i){return pa(e,"child_moved",t,n,i)}function r_(e,t,n,i){return pa(e,"child_removed",t,n,i)}function o_(e,t,n){let i=null,r=n?new ra(n):null;t==="value"?i=new oa(r):t&&(i=new Lu(t,r)),hm(e._repo,e,i)}var ct=class{},Vu=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){Xt("endAt",this._value,t._path,!0);let n=$g(t._queryParams,this._value,this._key);if(td(n),ci(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ke(t._repo,t._path,n,t._orderByCalled)}};function e1(e,t){return ha("endAt","key",t,!0),new Vu(e,t)}var pm=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){Xt("endBefore",this._value,t._path,!1);let n=OF(t._queryParams,this._value,this._key);if(td(n),ci(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ke(t._repo,t._path,n,t._orderByCalled)}};function t1(e,t){return ha("endBefore","key",t,!0),new pm(e,t)}var Bu=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){Xt("startAt",this._value,t._path,!0);let n=Hg(t._queryParams,this._value,this._key);if(td(n),ci(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ke(t._repo,t._path,n,t._orderByCalled)}};function n1(e=null,t){return ha("startAt","key",t,!0),new Bu(e,t)}var gm=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){Xt("startAfter",this._value,t._path,!1);let n=RF(t._queryParams,this._value,this._key);if(td(n),ci(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ke(t._repo,t._path,n,t._orderByCalled)}};function i1(e,t){return ha("startAfter","key",t,!0),new gm(e,t)}var mm=class extends ct{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ke(t._repo,t._path,NF(t._queryParams,this._limit),t._orderByCalled)}};function r1(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new mm(e)}var _m=class extends ct{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ke(t._repo,t._path,AF(t._queryParams,this._limit),t._orderByCalled)}};function o1(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _m(e)}var vm=class extends ct{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){ed(t,"orderByChild");let n=new J(this._path);if(G(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Ks(n),r=Uu(t._queryParams,i);return ci(r),new Ke(t._repo,t._path,r,!0)}};function s1(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return So("orderByChild","path",e,!1),new vm(e)}var ym=class extends ct{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){ed(t,"orderByKey");let n=Uu(t._queryParams,Yt);return ci(n),new Ke(t._repo,t._path,n,!0)}};function a1(){return new ym}var Dm=class extends ct{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){ed(t,"orderByPriority");let n=Uu(t._queryParams,ce);return ci(n),new Ke(t._repo,t._path,n,!0)}};function l1(){return new Dm}var bm=class extends ct{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){ed(t,"orderByValue");let n=Uu(t._queryParams,Pm);return ci(n),new Ke(t._repo,t._path,n,!0)}};function c1(){return new bm}var wm=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(Xt("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Vu(this._value,this._key)._apply(new Bu(this._value,this._key)._apply(t))}};function u1(e,t){return ha("equalTo","key",t,!0),new wm(e,t)}function Ct(e,...t){let n=Ue(e);for(let i of t)n=i._apply(n);return n}fL(lt);vL(lt);var a2="FIREBASE_DATABASE_EMULATOR_HOST",Cm={},l2=!1;function c2(e,t,n,i){e.repoInfo_=new gu(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function s_(e,t,n,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||Zt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=fm(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[a2]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=fm(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new Hs(Hs.OWNER):new Tg(e.name,e.options,t);BE("Invalid Firebase Database URL",s),G(s.path)||Zt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=d2(a,e,u,new Sg(e.name,n));return new Em(d,e)}function u2(e,t){let n=Cm[t];(!n||n[e.key]!==e)&&Zt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),GE(e),delete n[e.key]}function d2(e,t,n,i){let r=Cm[t.name];r||(r={},Cm[t.name]=r);let o=r[e.toURLString()];return o&&Zt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new dm(e,l2,n,i),r[e.toURLString()]=o,o}var Em=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(GL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lt(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(u2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Zt("Cannot call "+t+" on a deleted database.")}};function d1(){cE.IS_TRANSPORT_INITIALIZED&&je("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function h1(){d1(),zs.forceDisallow()}function f1(){d1(),ho.forceDisallow(),zs.forceAllow()}function p1(e,t,n,i={}){e=Ue(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Zt("Cannot call useEmulator() after instance has already been initialized.");let r=e._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Zt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Hs(Hs.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:p_(i.mockUserToken,e.app.options.projectId);o=new Hs(s)}c2(r,t,n,o)}function g1(e){e=Ue(e),e._checkNotDeleted("goOffline"),GE(e._repo)}function m1(e){e=Ue(e),e._checkNotDeleted("goOnline"),XL(e._repo)}function _1(e,t){WC(e,t)}function h2(e){Tm(E_),Ao(new tn("database",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return s_(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Tn(uC,dC,e),Tn(uC,dC,"esm2017")}var f2={".sv":"timestamp"};function v1(){return f2}function y1(e){return{".sv":{increment:e}}}var Im=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function D1(e,t,n){var i;if(e=Ue(e),st("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,o=new Te,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new wo(u,new lt(e._repo,e._path),ce),o.resolve(new Im(c,d)))},a=id(e,()=>{});return e2(e._repo,e._path,t,s,a,r),o.promise}Om.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Om.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};h2();var p2="@firebase/database-compat",g2="1.0.8";var m2=new Yi("@firebase/database-compat"),b1=function(e){let t="FIREBASE WARNING: "+e;m2.warn(t)};var _2=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(Ye(e,t)+"must be a boolean.")},v2=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ye(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var a_=class{constructor(t){this._delegate=t}cancel(t){N("OnDisconnect.cancel",0,1,arguments.length),Ce("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){N("OnDisconnect.remove",0,1,arguments.length),Ce("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){N("OnDisconnect.set",1,2,arguments.length),Ce("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){N("OnDisconnect.setWithPriority",2,3,arguments.length),Ce("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,n){if(N("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,b1("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ce("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}};var l_=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return N("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var qi=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return N("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return N("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return N("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return N("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return N("DataSnapshot.child",0,1,arguments.length),t=String(t),So("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return N("DataSnapshot.hasChild",1,1,arguments.length),So("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return N("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return N("DataSnapshot.forEach",1,1,arguments.length),Ce("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return N("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return N("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return N("DataSnapshot.ref",0,0,arguments.length),new In(this._database,this._delegate.ref)}get ref(){return this.getRef()}},rd=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var o;N("Query.on",2,4,arguments.length),Ce("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(s.context,new qi(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return id(this._delegate,a,l),n;case"child_added":return t_(this._delegate,a,l),n;case"child_removed":return r_(this._delegate,a,l),n;case"child_changed":return n_(this._delegate,a,l),n;case"child_moved":return i_(this._delegate,a,l),n;default:throw new Error(Ye("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(N("Query.off",0,3,arguments.length),v2("Query.off",t,!0),Ce("Query.off","callback",n,!0),ld("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,o_(this._delegate,t,r)}else o_(this._delegate,t)}get(){return XE(this._delegate).then(t=>new qi(this.database,t))}once(t,n,i,r){N("Query.once",1,4,arguments.length),Ce("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",i,r),s=new Te,a=(c,u)=>{let d=new qi(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":id(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":t_(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":r_(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":n_(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":i_(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Ye("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return N("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ct(this._delegate,r1(t)))}limitToLast(t){return N("Query.limitToLast",1,1,arguments.length),new e(this.database,Ct(this._delegate,o1(t)))}orderByChild(t){return N("Query.orderByChild",1,1,arguments.length),new e(this.database,Ct(this._delegate,s1(t)))}orderByKey(){return N("Query.orderByKey",0,0,arguments.length),new e(this.database,Ct(this._delegate,a1()))}orderByPriority(){return N("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ct(this._delegate,l1()))}orderByValue(){return N("Query.orderByValue",0,0,arguments.length),new e(this.database,Ct(this._delegate,c1()))}startAt(t=null,n){return N("Query.startAt",0,2,arguments.length),new e(this.database,Ct(this._delegate,n1(t,n)))}startAfter(t=null,n){return N("Query.startAfter",0,2,arguments.length),new e(this.database,Ct(this._delegate,i1(t,n)))}endAt(t=null,n){return N("Query.endAt",0,2,arguments.length),new e(this.database,Ct(this._delegate,e1(t,n)))}endBefore(t=null,n){return N("Query.endBefore",0,2,arguments.length),new e(this.database,Ct(this._delegate,t1(t,n)))}equalTo(t,n){return N("Query.equalTo",1,2,arguments.length),new e(this.database,Ct(this._delegate,u1(t,n)))}toString(){return N("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return N("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(N("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,Ce(t,"cancel",r.cancel,!0),r.context=i,ld(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(Ye(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new In(this.database,new lt(this._delegate._repo,this._delegate._path))}},In=class e extends rd{constructor(t,n){super(t,new Ke(n._repo,n._path,new Js,!1)),this.database=t,this._delegate=n}getKey(){return N("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return N("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,li(this._delegate,t))}getParent(){N("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return N("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){N("Reference.set",1,2,arguments.length),Ce("Reference.set","onComplete",n,!0);let i=nd(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(N("Reference.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,b1("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}st("Reference.update",this._delegate._path),Ce("Reference.update","onComplete",n,!0);let i=JE(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){N("Reference.setWithPriority",2,3,arguments.length),Ce("Reference.setWithPriority","onComplete",i,!0);let r=ZE(this._delegate,t,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){N("Reference.remove",0,1,arguments.length),Ce("Reference.remove","onComplete",t,!0);let n=QE(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){N("Reference.transaction",1,3,arguments.length),Ce("Reference.transaction","transactionUpdate",t,!1),Ce("Reference.transaction","onComplete",n,!0),_2("Reference.transaction","applyLocally",i,!0);let r=D1(this._delegate,t,{applyLocally:i}).then(o=>new l_(o.committed,new qi(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(t,n){N("Reference.setPriority",1,2,arguments.length),Ce("Reference.setPriority","onComplete",n,!0);let i=YE(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){N("Reference.push",0,2,arguments.length),Ce("Reference.push","onComplete",n,!0);let i=KE(this._delegate,t),r=i.then(s=>new e(this.database,s));n&&r.then(()=>n(null),s=>n(s));let o=new e(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return st("Reference.onDisconnect",this._delegate._path),new a_(new Fu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Ki=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:h1,forceLongPolling:f1}}useEmulator(t,n,i={}){p1(this._delegate,t,n,i)}ref(t){if(N("database.ref",0,1,arguments.length),t instanceof In){let n=e_(this._delegate,t.toString());return new In(this,n)}else{let n=Xm(this._delegate,t);return new In(this,n)}}refFromURL(t){N("database.refFromURL",1,1,arguments.length);let i=e_(this._delegate,t);return new In(this,i)}goOffline(){return N("database.goOffline",0,0,arguments.length),g1(this._delegate)}goOnline(){return N("database.goOnline",0,0,arguments.length),m1(this._delegate)}};Ki.ServerValue={TIMESTAMP:v1(),increment:e=>y1(e)};function y2({app:e,url:t,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){Tm(n);let a=new cd("database-standalone"),l=new Da("auth-internal",a);l.setComponent(new tn("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new Da("app-check-internal",a),c.setComponent(new tn("app-check-internal",()=>r,"PRIVATE"))),{instance:new Ki(s_(e,l,c,t,s),e),namespace:o}}var D2=Object.freeze({__proto__:null,initStandalone:y2});var b2=Ki.ServerValue;function w2(e){e.INTERNAL.registerComponent(new tn("database-compat",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new Ki(r,i)},"PUBLIC").setServiceProps({Reference:In,Query:rd,Database:Ki,DataSnapshot:qi,enableLogging:_1,INTERNAL:D2,ServerValue:b2}).setMultipleInstances(!0)),e.registerVersion(p2,g2)}w2(He);function ga(e,t,n="on",i=sr){return new A(r=>{let o=null;return o=e[n](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(T(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),Fo())}function C2(e){return typeof e=="string"}function E2(e){return typeof e.exportVal=="function"}function S1(e){return e==null}function T1(e){return typeof e.set=="function"}function w1(e,t){return T1(t)?t:e.ref(t)}function M1(e,t){if(C2(e))return t.stringCase();if(T1(e))return t.firebaseCase();if(E2(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function N1(e){return(S1(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function A1(e,t,n){t=N1(t);let i=t.map(r=>ga(e,r,"on",n));return pi(...i)}function I2(e,t,n){let i=A1(e,t).pipe(hr((r,o)=>[...r,o],[]));return T2(e,i,n)}function S2(e,t){return ga(e,"value","on",t).pipe(T(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function T2(e,t,n){return S2(e,n).pipe(fr(t),T(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Ld(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),T(r=>r.actions))}function C1(e,t){return function(i,r){return M1(i,{stringCase:()=>e.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function M2(e){return function(n){return n?M1(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function N2(e,t,n){return ga(e,"value","once",n).pipe(re(i=>{let r=[C(i)];return t.forEach(o=>r.push(ga(e,o,"on",n))),pi(...r).pipe(hr(R2,[]))}),Ya())}function R1(e,t){let n=e.length;for(let i=0;i<n;i++)if(e[i].payload.key===t)return i;return-1}function A2(e,t){if(S1(t))return 0;{let n=R1(e,t);return n===-1?e.length:n+1}}function R2(e,t){let{payload:n,prevKey:i,key:r}=t,o=R1(e,r),s=A2(e,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(i==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function E1(e,t,n){return t=N1(t),N2(e,t,n)}function O2(e,t){let n=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:C1(i,"update"),set:C1(i,"set"),push:r=>i.push(r),remove:M2(i),snapshotChanges(r){return E1(e,r,n).pipe(Cn)},stateChanges(r){return A1(e,r,n).pipe(Cn)},auditTrail(r){return I2(e,r,n).pipe(Cn)},valueChanges(r,o){return E1(e,r,n).pipe(T(a=>a.map(l=>o&&o.idField?U(y({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),Cn)}}}function I1(e,t){return function(){return ga(e,"value","on",t)}}function x2(e,t){return{query:e,snapshotChanges(){return I1(e,t.schedulers.outsideAngular)().pipe(Cn)},update(n){return e.ref.update(n)},set(n){return e.ref.set(n)},remove(){return e.ref.remove()},valueChanges(){return I1(e,t.schedulers.outsideAngular)().pipe(Cn,T(i=>i.payload.exists()?i.payload.val():null))}}}var P2=new b("angularfire2.realtimeDatabaseURL"),k2=new b("angularfire2.database.use-emulator"),F2=(()=>{class e{schedulers;database;constructor(n,i,r,o,s,a,l,c,u,d,h,f,p,m,D){this.schedulers=a;let S=l,B=Fs(n,s,i);c&&fg(B,s,u,h,f,p,d,m),this.database=hu(`${B.name}.database.${r}`,"AngularFireDatabase",B.name,()=>{let E=s.runOutsideAngular(()=>B.database(r||void 0));return S&&E.useEmulator(...S),E},[S])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>w1(this.database,n)),o=r;return i&&(o=i(r)),O2(o,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>w1(this.database,n));return x2(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||e)(_(lo),_(co,8),_(P2,8),_(Fe),_(k),_(cu),_(k2,8),_(pg,8),_(ag,8),_(lg,8),_(cg,8),_(ug,8),_(dg,8),_(hg,8),_(Vi,8))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),O1=(()=>{class e{constructor(){He.registerVersion("angularfire",Bi.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=F({providers:[F2]})}return e})();var x1={production:!0,firebaseConfig:{apiKey:"AIzaSyAmlcOounhaBd9fMyFjs1oM2NJNaSpDuPs",authDomain:"frontenddolgozat2025-01-17.firebaseapp.com",projectId:"frontenddolgozat2025-01-17",storageBucket:"frontenddolgozat2025-01-17.firebasestorage.app",messagingSenderId:"55793260465",appId:"1:55793260465:web:3995cc2b624d8eb736cf90"}};var od=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=L({type:e,bootstrap:[au]});static \u0275inj=F({providers:[JD()],imports:[ab,iu,zw,ww,lC.initializeApp(x1.firebaseConfig),O1,cC]})};sb().bootstrapModule(od,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
