import{A as No,B as v_,C as y_,D as A,E as Qe,F as De,G as od,H as b_,I as Ro,J as Be,K as en,L as ba,M as sd,N as w_,O as Qi,P as Oo,Q as D_,R as C_,S as Sn,T as Ue,a as y,b as U,c as Ye,d as a_,e as ma,f as l_,g as c_,h as v,i as Yi,j as _a,k as u_,l as d_,m as Te,n as h_,o as rd,p as f_,q as Ft,r as p_,s as g_,t as va,u as ve,v as m_,w as __,x as ut,y as Tn,z as ya}from"./chunk-GSGJEBQA.js";function E_(e,t){return Object.is(e,t)}var Ce=null,wa=!1,Da=1,tn=Symbol("SIGNAL");function Y(e){let t=Ce;return Ce=e,t}function I_(){return Ce}var ko={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cd(e){if(wa)throw new Error("");if(Ce===null)return;Ce.consumerOnSignalRead(e);let t=Ce.nextProducerIndex++;if(Ta(Ce),t<Ce.producerNode.length&&Ce.producerNode[t]!==e&&xo(Ce)){let n=Ce.producerNode[t];Ia(n,Ce.producerIndexOfThis[t])}Ce.producerNode[t]!==e&&(Ce.producerNode[t]=e,Ce.producerIndexOfThis[t]=xo(Ce)?A_(e,Ce,t):0),Ce.producerLastReadVersion[t]=e.version}function x1(){Da++}function T_(e){if(!(xo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Da)){if(!e.producerMustRecompute(e)&&!dd(e)){e.dirty=!1,e.lastCleanEpoch=Da;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Da}}function S_(e){if(e.liveConsumerNode===void 0)return;let t=wa;wa=!0;try{for(let n of e.liveConsumerNode)n.dirty||k1(n)}finally{wa=t}}function M_(){return Ce?.consumerAllowSignalWrites!==!1}function k1(e){e.dirty=!0,S_(e),e.consumerMarkedDirty?.(e)}function Ea(e){return e&&(e.nextProducerIndex=0),Y(e)}function ud(e,t){if(Y(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(xo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ia(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function dd(e){Ta(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(T_(n),i!==n.version))return!0}return!1}function hd(e){if(Ta(e),xo(e))for(let t=0;t<e.producerNode.length;t++)Ia(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function A_(e,t,n){if(N_(e),e.liveConsumerNode.length===0&&R_(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=A_(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ia(e,t){if(N_(e),e.liveConsumerNode.length===1&&R_(e))for(let i=0;i<e.producerNode.length;i++)Ia(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Ta(r),r.producerIndexOfThis[i]=t}}function xo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ta(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function N_(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function R_(e){return e.producerNode!==void 0}function O_(e){let t=Object.create(P1);t.computation=e;let n=()=>{if(T_(t),cd(t),t.value===Ca)throw t.error;return t.value};return n[tn]=t,n}var ad=Symbol("UNSET"),ld=Symbol("COMPUTING"),Ca=Symbol("ERRORED"),P1=U(y({},ko),{value:ad,dirty:!0,error:null,equal:E_,producerMustRecompute(e){return e.value===ad||e.value===ld},producerRecomputeValue(e){if(e.value===ld)throw new Error("Detected cycle in computations.");let t=e.value;e.value=ld;let n=Ea(e),i;try{i=e.computation()}catch(r){i=Ca,e.error=r}finally{ud(e,n)}if(t!==ad&&t!==Ca&&i!==Ca&&e.equal(t,i)){e.value=t;return}e.value=i,e.version++}});function F1(){throw new Error}var x_=F1;function k_(){x_()}function P_(e){x_=e}var L1=null;function F_(e){let t=Object.create(V_);t.value=e;let n=()=>(cd(t),t.value);return n[tn]=t,n}function fd(e,t){M_()||k_(),e.equal(e.value,t)||(e.value=t,V1(e))}function L_(e,t){M_()||k_(),fd(e,t(e.value))}var V_=U(y({},ko),{equal:E_,value:void 0});function V1(e){e.version++,x1(),S_(e),L1?.()}function M(e){return typeof e=="function"}function Zi(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Sa=Zi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function di(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var pe=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(M(i))try{i()}catch(o){t=o instanceof Sa?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{j_(o)}catch(s){t=t??[],s instanceof Sa?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Sa(t)}}add(t){var n;if(t&&t!==this)if(this.closed)j_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&di(n,t)}remove(t){let{_finalizers:n}=this;n&&di(n,t),t instanceof e&&t._removeParent(this)}};pe.EMPTY=(()=>{let e=new pe;return e.closed=!0,e})();var pd=pe.EMPTY;function Ma(e){return e instanceof pe||e&&"closed"in e&&M(e.remove)&&M(e.add)&&M(e.unsubscribe)}function j_(e){M(e)?e():e.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ji={setTimeout(e,t,...n){let{delegate:i}=Ji;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Ji;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Aa(e){Ji.setTimeout(()=>{let{onUnhandledError:t}=Et;if(t)t(e);else throw e})}function hi(){}var B_=gd("C",void 0,void 0);function U_(e){return gd("E",void 0,e)}function $_(e){return gd("N",e,void 0)}function gd(e,t,n){return{kind:e,value:t,error:n}}var fi=null;function Xi(e){if(Et.useDeprecatedSynchronousErrorHandling){let t=!fi;if(t&&(fi={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=fi;if(fi=null,n)throw i}}else e()}function H_(e){Et.useDeprecatedSynchronousErrorHandling&&fi&&(fi.errorThrown=!0,fi.error=e)}var pi=class extends pe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ma(t)&&t.add(this)):this.destination=U1}static create(t,n,i){return new nn(t,n,i)}next(t){this.isStopped?_d($_(t),this):this._next(t)}error(t){this.isStopped?_d(U_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_d(B_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},j1=Function.prototype.bind;function md(e,t){return j1.call(e,t)}var vd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Na(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Na(i)}else Na(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Na(n)}}},nn=class extends pi{constructor(t,n,i){super();let r;if(M(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Et.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&md(t.next,o),error:t.error&&md(t.error,o),complete:t.complete&&md(t.complete,o)}):r=t}this.destination=new vd(r)}};function Na(e){Et.useDeprecatedSynchronousErrorHandling?H_(e):Aa(e)}function B1(e){throw e}function _d(e,t){let{onStoppedNotification:n}=Et;n&&Ji.setTimeout(()=>n(e,t))}var U1={closed:!0,next:hi,error:B1,complete:hi};var er=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Oe(e){return e}function yd(...e){return bd(e)}function bd(e){return e.length===0?Oe:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var N=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=H1(n)?n:new nn(n,i,r);return Xi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=G_(i),new i((r,o)=>{let s=new nn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[er](){return this}pipe(...n){return bd(n)(this)}toPromise(n){return n=G_(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function G_(e){var t;return(t=e??Et.Promise)!==null&&t!==void 0?t:Promise}function $1(e){return e&&M(e.next)&&M(e.error)&&M(e.complete)}function H1(e){return e&&e instanceof pi||$1(e)&&Ma(e)}function wd(e){return M(e?.lift)}function k(e){return t=>{if(wd(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function R(e,t,n,i,r){return new Dd(e,t,n,i,r)}var Dd=class extends pi{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function tr(){return k((e,t)=>{let n=null;e._refCount++;let i=R(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var nr=class extends N{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new pe;let n=this.getSubject();t.add(this.source.subscribe(R(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=pe.EMPTY)}return t}refCount(){return tr()(this)}};var z_=Zi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=(()=>{class e extends N{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Ra(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new z_}next(n){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?pd:(this.currentObservers=null,o.push(n),new pe(()=>{this.currentObservers=null,di(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new N;return n.source=this,n}}return e.create=(t,n)=>new Ra(t,n),e})(),Ra=class extends K{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:pd}};var ye=class extends K{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Po={now(){return(Po.delegate||Date).now()},delegate:void 0};var Oa=class extends K{constructor(t=1/0,n=1/0,i=Po){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var xa=class extends pe{constructor(t,n){super()}schedule(t,n=0){return this}};var Fo={setInterval(e,t,...n){let{delegate:i}=Fo;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Fo;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var ir=class extends xa{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return Fo.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Fo.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,di(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var rr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};rr.now=Po.now;var or=class extends rr{constructor(t,n=rr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var sr=new or(ir),Cd=sr;var ka=class extends ir{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}};var Pa=class extends or{};var Ed=new Pa(ka);var Ee=new N(e=>e.complete());function Fa(e){return e&&M(e.schedule)}function Id(e){return e[e.length-1]}function Mn(e){return M(Id(e))?e.pop():void 0}function Lt(e){return Fa(Id(e))?e.pop():void 0}function W_(e,t){return typeof Id(e)=="number"?e.pop():t}var ar=e=>e&&typeof e.length=="number"&&typeof e!="function";function La(e){return M(e?.then)}function Va(e){return M(e[er])}function ja(e){return Symbol.asyncIterator&&M(e?.[Symbol.asyncIterator])}function Ba(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function G1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ua=G1();function $a(e){return M(e?.[Ua])}function Ha(e){return l_(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield ma(n.read());if(r)return yield ma(void 0);yield yield ma(i)}}finally{n.releaseLock()}})}function Ga(e){return M(e?.getReader)}function q(e){if(e instanceof N)return e;if(e!=null){if(Va(e))return z1(e);if(ar(e))return W1(e);if(La(e))return K1(e);if(ja(e))return K_(e);if($a(e))return q1(e);if(Ga(e))return Y1(e)}throw Ba(e)}function z1(e){return new N(t=>{let n=e[er]();if(M(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function W1(e){return new N(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function K1(e){return new N(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Aa)})}function q1(e){return new N(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function K_(e){return new N(t=>{Q1(e,t).catch(n=>t.error(n))})}function Y1(e){return K_(Ha(e))}function Q1(e,t){var n,i,r,o;return a_(this,void 0,void 0,function*(){try{for(n=c_(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function Ze(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function dt(e,t=0){return k((n,i)=>{n.subscribe(R(i,r=>Ze(i,e,()=>i.next(r),t),()=>Ze(i,e,()=>i.complete(),t),r=>Ze(i,e,()=>i.error(r),t)))})}function It(e,t=0){return k((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function q_(e,t){return q(e).pipe(It(t),dt(t))}function Y_(e,t){return q(e).pipe(It(t),dt(t))}function Q_(e,t){return new N(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function Z_(e,t){return new N(n=>{let i;return Ze(n,t,()=>{i=e[Ua](),Ze(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>M(i?.return)&&i.return()})}function za(e,t){if(!e)throw new Error("Iterable cannot be null");return new N(n=>{Ze(n,t,()=>{let i=e[Symbol.asyncIterator]();Ze(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function J_(e,t){return za(Ha(e),t)}function X_(e,t){if(e!=null){if(Va(e))return q_(e,t);if(ar(e))return Q_(e,t);if(La(e))return Y_(e,t);if(ja(e))return za(e,t);if($a(e))return Z_(e,t);if(Ga(e))return J_(e,t)}throw Ba(e)}function ee(e,t){return t?X_(e,t):q(e)}function C(...e){let t=Lt(e);return ee(e,t)}function lr(e,t){let n=M(e)?e:()=>e,i=r=>r.error(n());return new N(t?r=>t.schedule(i,0,r):i)}function Td(e){return!!e&&(e instanceof N||M(e.lift)&&M(e.subscribe))}var rn=Zi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ev(e){return e instanceof Date&&!isNaN(e)}function S(e,t){return k((n,i)=>{let r=0;n.subscribe(R(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:Z1}=Array;function J1(e,t){return Z1(t)?e(...t):e(t)}function cr(e){return S(t=>J1(e,t))}var{isArray:X1}=Array,{getPrototypeOf:eI,prototype:tI,keys:nI}=Object;function Wa(e){if(e.length===1){let t=e[0];if(X1(t))return{args:t,keys:null};if(iI(t)){let n=nI(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function iI(e){return e&&typeof e=="object"&&eI(e)===tI}function Ka(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function ur(...e){let t=Lt(e),n=Mn(e),{args:i,keys:r}=Wa(e);if(i.length===0)return ee([],t);let o=new N(rI(i,t,r?s=>Ka(r,s):Oe));return n?o.pipe(cr(n)):o}function rI(e,t,n=Oe){return i=>{tv(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)tv(t,()=>{let c=ee(e[l],t),u=!1;c.subscribe(R(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function tv(e,t,n){e?Ze(n,e,t):t()}function nv(e,t,n,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{o&&t.next(m),c++;let b=!1;q(n(m,u++)).subscribe(R(t,T=>{r?.(T),o?f(T):t.next(T)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<i;){let T=l.shift();s?Ze(t,s,()=>p(T)):p(T)}h()}catch(T){t.error(T)}}))};return e.subscribe(R(t,f,()=>{d=!0,h()})),()=>{a?.()}}function de(e,t,n=1/0){return M(t)?de((i,r)=>S((o,s)=>t(i,o,r,s))(q(e(i,r))),n):(typeof t=="number"&&(n=t),k((i,r)=>nv(i,r,e,n)))}function An(e=1/0){return de(Oe,e)}function iv(){return An(1)}function Nn(...e){return iv()(ee(e,Lt(e)))}function qa(e){return new N(t=>{q(e()).subscribe(t)})}function Sd(...e){let t=Mn(e),{args:n,keys:i}=Wa(e),r=new N(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;q(n[u]).subscribe(R(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?Ka(i,a):a),o.complete())}))}});return t?r.pipe(cr(t)):r}var oI=["addListener","removeListener"],sI=["addEventListener","removeEventListener"],aI=["on","off"];function ht(e,t,n,i){if(M(n)&&(i=n,n=void 0),i)return ht(e,t,n).pipe(cr(i));let[r,o]=uI(e)?sI.map(s=>a=>e[s](t,a,n)):lI(e)?oI.map(rv(e,t)):cI(e)?aI.map(rv(e,t)):[];if(!r&&ar(e))return de(s=>ht(s,t,n))(q(e));if(!r)throw new TypeError("Invalid event target");return new N(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function rv(e,t){return n=>i=>e[n](t,i)}function lI(e){return M(e.addListener)&&M(e.removeListener)}function cI(e){return M(e.on)&&M(e.off)}function uI(e){return M(e.addEventListener)&&M(e.removeEventListener)}function Md(e=0,t,n=Cd){let i=-1;return t!=null&&(Fa(t)?n=t:i=t),new N(r=>{let o=ev(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function gi(...e){let t=Lt(e),n=W_(e,1/0),i=e;return i.length?i.length===1?q(i[0]):An(n)(ee(i,t)):Ee}var{isArray:dI}=Array;function Ya(e){return e.length===1&&dI(e[0])?e[0]:e}function me(e,t){return k((n,i)=>{let r=0;n.subscribe(R(i,o=>e.call(t,o,r++)&&i.next(o)))})}function Ad(...e){return e=Ya(e),e.length===1?q(e[0]):new N(hI(e))}function hI(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(q(e[i]).subscribe(R(t,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(r)})))}}function Lo(...e){let t=Mn(e),n=Ya(e);return n.length?new N(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)q(n[s]).subscribe(R(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Ee}function Rn(e){return k((t,n)=>{let i=null,r=!1,o;i=t.subscribe(R(n,void 0,void 0,s=>{o=q(e(s,Rn(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function ov(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(R(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function on(e,t){return M(t)?de(e,t,1):de(e,1)}function On(e){return k((t,n)=>{let i=!1;t.subscribe(R(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function ft(e){return e<=0?()=>Ee:k((t,n)=>{let i=0;t.subscribe(R(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function Nd(e){return S(()=>e)}function Qa(e,t=Oe){return e=e??fI,k((n,i)=>{let r,o=!0;n.subscribe(R(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function fI(e,t){return e===t}function Za(e=pI){return k((t,n)=>{let i=!1;t.subscribe(R(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function pI(){return new rn}function Rd(...e){return t=>Nn(t,C(...e))}function xn(e){return k((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function pt(e,t){let n=arguments.length>=2;return i=>i.pipe(e?me((r,o)=>e(r,o,i)):Oe,ft(1),n?On(t):Za(()=>new rn))}function dr(e){return e<=0?()=>Ee:k((t,n)=>{let i=[];t.subscribe(R(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Od(e,t){let n=arguments.length>=2;return i=>i.pipe(e?me((r,o)=>e(r,o,i)):Oe,dr(1),n?On(t):Za(()=>new rn))}function hr(e,t){return k(ov(e,t,arguments.length>=2,!0))}function Vo(e={}){let{connector:t=()=>new K,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let m=s;f(),m?.unsubscribe()};return k((m,b)=>{c++,!d&&!u&&h();let T=l=l??t();b.add(()=>{c--,c===0&&!d&&!u&&(a=xd(p,r))}),T.subscribe(b),!s&&c>0&&(s=new nn({next:j=>T.next(j),error:j=>{d=!0,h(),a=xd(f,n,j),T.error(j)},complete:()=>{u=!0,h(),a=xd(f,i),T.complete()}}),q(m).subscribe(s))})(o)}}function xd(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new nn({next:()=>{i.unsubscribe(),e()}});return q(t(...n)).subscribe(i)}function Ja(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,Vo({connector:()=>new Oa(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function kd(e){return k((t,n)=>{let i=!1,r=0;t.subscribe(R(n,o=>(i||(i=!e(o,r++)))&&n.next(o)))})}function Xa(...e){let t=Lt(e);return k((n,i)=>{(t?Nn(e,n,t):Nn(e,n)).subscribe(i)})}function ie(e,t){return k((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(R(i,l=>{r?.unsubscribe();let c=0,u=o++;q(e(l,u)).subscribe(r=R(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function el(e,t){return M(t)?ie(()=>e,t):ie(()=>e)}function Fe(e){return k((t,n)=>{q(e).subscribe(R(n,()=>n.complete(),hi)),!n.closed&&t.subscribe(n)})}function ge(e,t,n){let i=M(e)||t||n?{next:e,error:t,complete:n}:e;return i?k((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(R(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Oe}function fr(...e){let t=Mn(e);return k((n,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)q(e[l]).subscribe(R(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Oe))&&(s=null))},hi));n.subscribe(R(i,l=>{if(a){let c=[l,...o];i.next(t?t(...c):c)}}))})}var $v="https://g.co/ng/security#xss",I=class extends Error{constructor(t,n){super(Vl(t,n)),this.code=t}};function Vl(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Yo(e){return{toString:e}.toString()}var tl="__parameters__";function gI(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function Hv(e,t,n){return Yo(()=>{let i=gI(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(tl)?l[tl]:Object.defineProperty(l,tl,{value:[]})[tl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var At=globalThis;function oe(e){for(let t in e)if(e[t]===oe)return t;throw Error("Could not find renamed property on target object.")}function mI(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Xe(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Xe).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function qd(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var _I=oe({__forward_ref__:oe});function Ar(e){return e.__forward_ref__=Ar,e.toString=function(){return Xe(this())},e}function $e(e){return Gv(e)?e():e}function Gv(e){return typeof e=="function"&&e.hasOwnProperty(_I)&&e.__forward_ref__===Ar}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function F(e){return{providers:e.providers||[],imports:e.imports||[]}}function jl(e){return sv(e,Wv)||sv(e,Kv)}function zv(e){return jl(e)!==null}function sv(e,t){return e.hasOwnProperty(t)?e[t]:null}function vI(e){let t=e&&(e[Wv]||e[Kv]);return t||null}function av(e){return e&&(e.hasOwnProperty(lv)||e.hasOwnProperty(yI))?e[lv]:null}var Wv=oe({\u0275prov:oe}),lv=oe({\u0275inj:oe}),Kv=oe({ngInjectableDef:oe}),yI=oe({ngInjectorDef:oe}),w=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qv(e){return e&&!!e.\u0275providers}var bI=oe({\u0275cmp:oe}),wI=oe({\u0275dir:oe}),DI=oe({\u0275pipe:oe}),CI=oe({\u0275mod:oe}),hl=oe({\u0275fac:oe}),Bo=oe({__NG_ELEMENT_ID__:oe}),cv=oe({__NG_ENV_ID__:oe});function Bl(e){return typeof e=="string"?e:e==null?"":String(e)}function EI(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Bl(e)}function II(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new I(-200,e)}function Wh(e,t){throw new I(-201,!1)}var $=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}($||{}),Yd;function Yv(){return Yd}function gt(e){let t=Yd;return Yd=e,t}function Qv(e,t,n){let i=jl(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&$.Optional)return null;if(t!==void 0)return t;Wh(e,"Injector")}var TI={},$o=TI,Qd="__NG_DI_FLAG__",fl="ngTempTokenPath",SI="ngTokenPath",MI=/\n/gm,AI="\u0275",uv="__source",_r;function NI(){return _r}function kn(e){let t=_r;return _r=e,t}function RI(e,t=$.Default){if(_r===void 0)throw new I(-203,!1);return _r===null?Qv(e,void 0,t):_r.get(e,t&$.Optional?null:void 0,t)}function _(e,t=$.Default){return(Yv()||RI)($e(e),t)}function g(e,t=$.Default){return _(e,Ul(t))}function Ul(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Zd(e){let t=[];for(let n=0;n<e.length;n++){let i=$e(e[n]);if(Array.isArray(i)){if(i.length===0)throw new I(900,!1);let r,o=$.Default;for(let s=0;s<i.length;s++){let a=i[s],l=OI(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(_(r,o))}else t.push(_(i))}return t}function Zv(e,t){return e[Qd]=t,e.prototype[Qd]=t,e}function OI(e){return e[Qd]}function xI(e,t,n,i){let r=e[fl];throw t[uv]&&r.unshift(t[uv]),e.message=kI(`
`+e.message,r,n,i),e[SI]=r,e[fl]=null,e}function kI(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==AI?e.slice(2):e;let r=Xe(t);if(Array.isArray(t))r=t.map(Xe).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Xe(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(MI,`
  `)}`}var Nr=Zv(Hv("Optional"),8);var Kh=Zv(Hv("SkipSelf"),4);function yr(e,t){let n=e.hasOwnProperty(hl);return n?e[hl]:null}function PI(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function FI(e){return e.flat(Number.POSITIVE_INFINITY)}function qh(e,t){e.forEach(n=>Array.isArray(n)?qh(n,t):t(n))}function Jv(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function pl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function LI(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function VI(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Yh(e,t,n){let i=Qo(e,t);return i>=0?e[i|1]=n:(i=~i,VI(e,i,t,n)),i}function Pd(e,t){let n=Qo(e,t);if(n>=0)return e[n|1]}function Qo(e,t){return jI(e,t,1)}function jI(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var br={},Je=[],wr=new w(""),Xv=new w("",-1),ey=new w(""),gl=class{get(t,n=$o){if(n===$o){let i=new Error(`NullInjectorError: No provider for ${Xe(t)}!`);throw i.name="NullInjectorError",i}return n}},ty=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ty||{}),Bt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Bt||{}),Ln=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ln||{});function BI(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function Jd(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];UI(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function ny(e){return e===3||e===4||e===6}function UI(e){return e.charCodeAt(0)===64}function Ho(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?dv(e,n,r,null,t[++i]):dv(e,n,r,null,null))}}return e}function dv(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var iy="ng-template";function $I(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&BI(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Qh(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Qh(e){return e.type===4&&e.value!==iy}function HI(e,t,n){let i=e.type===4&&!n?iy:e.value;return t===i}function GI(e,t,n){let i=4,r=e.attrs,o=r!==null?KI(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Tt(i)&&!Tt(l))return!1;if(s&&Tt(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!HI(e,l,n)||l===""&&t.length===1){if(Tt(i))return!1;s=!0}}else if(i&8){if(r===null||!$I(e,r,l,n)){if(Tt(i))return!1;s=!0}}else{let c=t[++a],u=zI(l,r,Qh(e),n);if(u===-1){if(Tt(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(Tt(i))return!1;s=!0}}}}return Tt(i)||s}function Tt(e){return(e&1)===0}function zI(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return qI(t,e)}function ry(e,t,n=!1){for(let i=0;i<t.length;i++)if(GI(e,t[i],n))return!0;return!1}function WI(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function KI(e){for(let t=0;t<e.length;t++){let n=e[t];if(ny(n))return t}return e.length}function qI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function YI(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function hv(e,t){return e?":not("+t.trim()+")":t}function QI(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Tt(s)&&(t+=hv(o,r),r=""),i=s,o=o||!Tt(i);n++}return r!==""&&(t+=hv(o,r)),t}function ZI(e){return e.map(QI).join(",")}function JI(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!Tt(r))break;r=o}i++}return{attrs:t,classes:n}}function nt(e){return Yo(()=>{let t=cy(e),n=U(y({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ty.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Bt.Emulated,styles:e.styles||Je,_:null,schemas:e.schemas||null,tView:null,id:""});uy(n);let i=e.dependencies;return n.directiveDefs=pv(i,!1),n.pipeDefs=pv(i,!0),n.id=tT(n),n})}function XI(e){return an(e)||oy(e)}function eT(e){return e!==null}function L(e){return Yo(()=>({type:e.type,bootstrap:e.bootstrap||Je,declarations:e.declarations||Je,imports:e.imports||Je,exports:e.exports||Je,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function fv(e,t){if(e==null)return br;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=Ln.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(n[o]=a!==Ln.None?[i,a]:i,t[o]=s):n[o]=i}return n}function it(e){return Yo(()=>{let t=cy(e);return uy(t),t})}function an(e){return e[bI]||null}function oy(e){return e[wI]||null}function sy(e){return e[DI]||null}function ay(e){let t=an(e)||oy(e)||sy(e);return t!==null?t.standalone:!1}function ly(e,t){let n=e[CI]||null;if(!n&&t===!0)throw new Error(`Type ${Xe(e)} does not have '\u0275mod' property.`);return n}function cy(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||br,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Je,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fv(e.inputs,t),outputs:fv(e.outputs),debugInfo:null}}function uy(e){e.features?.forEach(t=>t(e))}function pv(e,t){if(!e)return null;let n=t?sy:XI;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(eT)}function tT(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function $l(e){return{\u0275providers:e}}function nT(...e){return{\u0275providers:dy(!0,e),\u0275fromNgModule:!0}}function dy(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return qh(t,s=>{let a=s;Xd(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&hy(r,o),n}function hy(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];Zh(r,o=>{t(o,i)})}}function Xd(e,t,n,i){if(e=$e(e),!e)return!1;let r=null,o=av(e),s=!o&&an(e);if(!o&&!s){let l=e.ngModule;if(o=av(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Xd(c,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{qh(o.imports,u=>{Xd(u,t,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&hy(c,t)}if(!a){let c=yr(r)||(()=>new r);t({provide:r,useFactory:c,deps:Je},r),t({provide:ey,useValue:r,multi:!0},r),t({provide:wr,useValue:()=>_(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;Zh(l,u=>{t(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function Zh(e,t){for(let n of e)qv(n)&&(n=n.\u0275providers),Array.isArray(n)?Zh(n,t):t(n)}var iT=oe({provide:String,useValue:oe});function fy(e){return e!==null&&typeof e=="object"&&iT in e}function rT(e){return!!(e&&e.useExisting)}function oT(e){return!!(e&&e.useFactory)}function Dr(e){return typeof e=="function"}function sT(e){return!!e.useClass}var Hl=new w(""),al={},aT={},Fd;function Gl(){return Fd===void 0&&(Fd=new gl),Fd}var Se=class{},Go=class extends Se{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,th(t,s=>this.processProvider(s)),this.records.set(Xv,pr(void 0,this)),r.has("environment")&&this.records.set(Se,pr(void 0,this));let o=this.records.get(Hl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ey,Je,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Y(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=kn(this),i=gt(void 0),r;try{return t()}finally{kn(n),gt(i)}}get(t,n=$o,i=$.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(cv))return t[cv](this);i=Ul(i);let r,o=kn(this),s=gt(void 0);try{if(!(i&$.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=hT(t)&&jl(t);c&&this.injectableDefInScope(c)?l=pr(eh(t),al):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&$.Self?Gl():this.parent;return n=i&$.Optional&&n===$o?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[fl]=a[fl]||[]).unshift(Xe(t)),o)throw a;return xI(a,t,"R3InjectorError",this.source)}else throw a}finally{gt(s),kn(o)}}resolveInjectorInitializers(){let t=Y(null),n=kn(this),i=gt(void 0),r;try{let o=this.get(wr,Je,$.Self);for(let s of o)s()}finally{kn(n),gt(i),Y(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(Xe(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(t){t=$e(t);let n=Dr(t)?t:$e(t&&t.provide),i=cT(t);if(!Dr(t)&&t.multi===!0){let r=this.records.get(n);r||(r=pr(void 0,al,!0),r.factory=()=>Zd(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=Y(null);try{return n.value===al&&(n.value=aT,n.value=n.factory()),typeof n.value=="object"&&n.value&&dT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Y(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=$e(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function eh(e){let t=jl(e),n=t!==null?t.factory:yr(e);if(n!==null)return n;if(e instanceof w)throw new I(204,!1);if(e instanceof Function)return lT(e);throw new I(204,!1)}function lT(e){if(e.length>0)throw new I(204,!1);let n=vI(e);return n!==null?()=>n.factory(e):()=>new e}function cT(e){if(fy(e))return pr(void 0,e.useValue);{let t=py(e);return pr(t,al)}}function py(e,t,n){let i;if(Dr(e)){let r=$e(e);return yr(r)||eh(r)}else if(fy(e))i=()=>$e(e.useValue);else if(oT(e))i=()=>e.useFactory(...Zd(e.deps||[]));else if(rT(e))i=()=>_($e(e.useExisting));else{let r=$e(e&&(e.useClass||e.provide));if(uT(e))i=()=>new r(...Zd(e.deps));else return yr(r)||eh(r)}return i}function pr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function uT(e){return!!e.deps}function dT(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function hT(e){return typeof e=="function"||typeof e=="object"&&e instanceof w}function th(e,t){for(let n of e)Array.isArray(n)?th(n,t):n&&qv(n)?th(n.\u0275providers,t):t(n)}function vt(e,t){e instanceof Go&&e.assertNotDestroyed();let n,i=kn(e),r=gt(void 0);try{return t()}finally{kn(i),gt(r)}}function gy(){return Yv()!==void 0||NI()!=null}function fT(e){if(!gy())throw new I(-203,!1)}function pT(e){let t=At.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function gT(e){return typeof e=="function"}var hn=0,B=1,O=2,Le=3,Mt=4,et=5,zo=6,ml=7,Nt=8,Cr=9,Ut=10,_e=11,Wo=12,gv=13,Rr=14,_t=15,_i=16,gr=17,ln=18,zl=19,my=20,Pn=21,Ld=22,mt=23,$t=25,_y=1;var vi=7,_l=8,Er=9,tt=10,vl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(vl||{});function Fn(e){return Array.isArray(e)&&typeof e[_y]=="object"}function fn(e){return Array.isArray(e)&&e[_y]===!0}function vy(e){return(e.flags&4)!==0}function Wl(e){return e.componentOffset>-1}function Jh(e){return(e.flags&1)===1}function Vn(e){return!!e.template}function nh(e){return(e[O]&512)!==0}var ih=class{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function yy(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function Un(){return by}function by(e){return e.type.prototype.ngOnChanges&&(e.setInput=_T),mT}Un.ngInherit=!0;function mT(){let e=Dy(this),t=e?.current;if(t){let n=e.previous;if(n===br)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function _T(e,t,n,i,r){let o=this.declaredInputs[i],s=Dy(e)||vT(e,{previous:br,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new ih(c&&c.currentValue,n,l===br),yy(e,t,r,n)}var wy="__ngSimpleChanges__";function Dy(e){return e[wy]||null}function vT(e,t){return e[wy]=t}var mv=null;var Vt=function(e,t,n){mv?.(e,t,n)},yT="svg",bT="math";function Ht(e){for(;Array.isArray(e);)e=e[hn];return e}function Cy(e,t){return Ht(t[e])}function yt(e,t){return Ht(t[e.index])}function Ey(e,t){return e.data[t]}function $n(e,t){let n=t[e];return Fn(n)?n:n[hn]}function wT(e){return(e[O]&4)===4}function Xh(e){return(e[O]&128)===128}function DT(e){return fn(e[Le])}function yl(e,t){return t==null?null:e[t]}function Iy(e){e[gr]=0}function Ty(e){e[O]&1024||(e[O]|=1024,Xh(e)&&ql(e))}function CT(e,t){for(;e>0;)t=t[Rr],e--;return t}function Kl(e){return!!(e[O]&9216||e[mt]?.dirty)}function rh(e){e[Ut].changeDetectionScheduler?.notify(8),e[O]&64&&(e[O]|=1024),Kl(e)&&ql(e)}function ql(e){e[Ut].changeDetectionScheduler?.notify(0);let t=yi(e);for(;t!==null&&!(t[O]&8192||(t[O]|=8192,!Xh(t)));)t=yi(t)}function Sy(e,t){if((e[O]&256)===256)throw new I(911,!1);e[Pn]===null&&(e[Pn]=[]),e[Pn].push(t)}function ET(e,t){if(e[Pn]===null)return;let n=e[Pn].indexOf(t);n!==-1&&e[Pn].splice(n,1)}function yi(e){let t=e[Le];return fn(t)?t[Le]:t}var W={lFrame:jy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var My=!1;function IT(){return W.lFrame.elementDepthCount}function TT(){W.lFrame.elementDepthCount++}function ST(){W.lFrame.elementDepthCount--}function Ay(){return W.bindingsEnabled}function Ny(){return W.skipHydrationRootTNode!==null}function MT(e){return W.skipHydrationRootTNode===e}function AT(){W.skipHydrationRootTNode=null}function X(){return W.lFrame.lView}function xe(){return W.lFrame.tView}function Or(e){return W.lFrame.contextLView=e,e[Nt]}function xr(e){return W.lFrame.contextLView=null,e}function He(){let e=Ry();for(;e!==null&&e.type===64;)e=e.parent;return e}function Ry(){return W.lFrame.currentTNode}function NT(){let e=W.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Zo(e,t){let n=W.lFrame;n.currentTNode=e,n.isParent=t}function Oy(){return W.lFrame.isParent}function xy(){W.lFrame.isParent=!1}function ky(){return My}function _v(e){My=e}function RT(e){return W.lFrame.bindingIndex=e}function Yl(){return W.lFrame.bindingIndex++}function Py(e){let t=W.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function OT(){return W.lFrame.inI18n}function xT(e,t){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=e,oh(t)}function kT(){return W.lFrame.currentDirectiveIndex}function oh(e){W.lFrame.currentDirectiveIndex=e}function PT(e){let t=W.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Fy(){return W.lFrame.currentQueryIndex}function ef(e){W.lFrame.currentQueryIndex=e}function FT(e){let t=e[B];return t.type===2?t.declTNode:t.type===1?e[et]:null}function Ly(e,t,n){if(n&$.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&$.Host);)if(r=FT(o),r===null||(o=o[Rr],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=W.lFrame=Vy();return i.currentTNode=t,i.lView=e,!0}function tf(e){let t=Vy(),n=e[B];W.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Vy(){let e=W.lFrame,t=e===null?null:e.child;return t===null?jy(e):t}function jy(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function By(){let e=W.lFrame;return W.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Uy=By;function nf(){let e=By();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function LT(e){return(W.lFrame.contextLView=CT(e,W.lFrame.contextLView))[Nt]}function Si(){return W.lFrame.selectedIndex}function bi(e){W.lFrame.selectedIndex=e}function rf(){let e=W.lFrame;return Ey(e.tView,e.selectedIndex)}function VT(){return W.lFrame.currentNamespace}var $y=!0;function of(){return $y}function sf(e){$y=e}function jT(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=by(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function af(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function ll(e,t,n){Hy(e,t,3,n)}function cl(e,t,n,i){(e[O]&3)===n&&Hy(e,t,n,i)}function Vd(e,t){let n=e[O];(n&3)===t&&(n&=16383,n+=1,e[O]=n)}function Hy(e,t,n,i){let r=i!==void 0?e[gr]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[gr]+=65536),(a<o||o==-1)&&(BT(e,n,t,l),e[gr]=(e[gr]&4294901760)+l+2),l++}function vv(e,t){Vt(4,e,t);let n=Y(null);try{t.call(e)}finally{Y(n),Vt(5,e,t)}}function BT(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[O]>>14<e[gr]>>16&&(e[O]&3)===t&&(e[O]+=16384,vv(a,o)):vv(a,o)}var vr=-1,wi=class{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function UT(e){return e instanceof wi}function $T(e){return(e.flags&8)!==0}function HT(e){return(e.flags&16)!==0}var jd={},sh=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Ul(i);let r=this.injector.get(t,jd,i);return r!==jd||n===jd?r:this.parentInjector.get(t,n,i)}};function Gy(e){return e!==vr}function bl(e){return e&32767}function GT(e){return e>>16}function wl(e,t){let n=GT(e),i=t;for(;n>0;)i=i[Rr],n--;return i}var ah=!0;function yv(e){let t=ah;return ah=e,t}var zT=256,zy=zT-1,Wy=5,WT=0,jt={};function KT(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Bo)&&(i=n[Bo]),i==null&&(i=n[Bo]=WT++);let r=i&zy,o=1<<r;t.data[e+(r>>Wy)]|=o}function Dl(e,t){let n=Ky(e,t);if(n!==-1)return n;let i=t[B];i.firstCreatePass&&(e.injectorIndex=t.length,Bd(i.data,e),Bd(t,null),Bd(i.blueprint,null));let r=lf(e,t),o=e.injectorIndex;if(Gy(r)){let s=bl(r),a=wl(r,t),l=a[B].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function Bd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ky(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function lf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=Jy(r),i===null)return vr;if(n++,r=r[Rr],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return vr}function lh(e,t,n){KT(e,t,n)}function qT(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(ny(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===t)return n[r+1];r=r+2}}}return null}function qy(e,t,n){if(n&$.Optional||e!==void 0)return e;Wh(t,"NodeInjector")}function Yy(e,t,n,i){if(n&$.Optional&&i===void 0&&(i=null),!(n&($.Self|$.Host))){let r=e[Cr],o=gt(void 0);try{return r?r.get(t,i,n&$.Optional):Qv(t,i,n&$.Optional)}finally{gt(o)}}return qy(i,t,n)}function Qy(e,t,n,i=$.Default,r){if(e!==null){if(t[O]&2048&&!(i&$.Self)){let s=JT(e,t,n,i,jt);if(s!==jt)return s}let o=Zy(e,t,n,i,jt);if(o!==jt)return o}return Yy(t,n,i,r)}function Zy(e,t,n,i,r){let o=QT(n);if(typeof o=="function"){if(!Ly(t,e,i))return i&$.Host?qy(r,n,i):Yy(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&$.Optional))Wh(n);else return s}finally{Uy()}}else if(typeof o=="number"){let s=null,a=Ky(e,t),l=vr,c=i&$.Host?t[_t][et]:null;for((a===-1||i&$.SkipSelf)&&(l=a===-1?lf(e,t):t[a+8],l===vr||!wv(i,!1)?a=-1:(s=t[B],a=bl(l),t=wl(l,t)));a!==-1;){let u=t[B];if(bv(o,a,u.data)){let d=YT(a,t,n,s,i,c);if(d!==jt)return d}l=t[a+8],l!==vr&&wv(i,t[B].data[a+8]===c)&&bv(o,a,t)?(s=u,a=bl(l),t=wl(l,t)):a=-1}}return r}function YT(e,t,n,i,r,o){let s=t[B],a=s.data[e+8],l=i==null?Wl(a)&&ah:i!=s&&(a.type&3)!==0,c=r&$.Host&&o===a,u=ul(a,s,n,l,c);return u!==null?Di(t,s,u,a):jt}function ul(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=s[l];if(f&&Vn(f)&&f.type===n)return l}return null}function Di(e,t,n,i){let r=e[n],o=t.data;if(UT(r)){let s=r;s.resolving&&II(EI(o[n]));let a=yv(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?gt(s.injectImpl):null,u=Ly(e,i,$.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&jT(n,o[n],t)}finally{c!==null&&gt(c),yv(a),s.resolving=!1,Uy()}}return r}function QT(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Bo)?e[Bo]:void 0;return typeof t=="number"?t>=0?t&zy:ZT:t}function bv(e,t,n){let i=1<<e;return!!(n[t+(e>>Wy)]&i)}function wv(e,t){return!(e&$.Self)&&!(e&$.Host&&t)}var mi=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Qy(this._tNode,this._lView,t,Ul(i),n)}};function ZT(){return new mi(He(),X())}function kr(e){return Yo(()=>{let t=e.prototype.constructor,n=t[hl]||ch(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[hl]||ch(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function ch(e){return Gv(e)?()=>{let t=ch($e(e));return t&&t()}:yr(e)}function JT(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=Zy(o,s,n,i|$.Self,jt);if(a!==jt)return a;let l=o.parent;if(!l){let c=s[my];if(c){let u=c.get(n,jt,i);if(u!==jt)return u}l=Jy(s),s=s[Rr]}o=l}return r}function Jy(e){let t=e[B],n=t.type;return n===2?t.declTNode:n===1?e[et]:null}function Ql(e){return qT(He(),e)}function Dv(e,t=null,n=null,i){let r=Xy(e,t,n,i);return r.resolveInjectorInitializers(),r}function Xy(e,t=null,n=null,i,r=new Set){let o=[n||Je,nT(e)];return i=i||(typeof e=="object"?void 0:Xe(e)),new Go(o,t||Gl(),i||null,r)}var Ie=class e{static{this.THROW_IF_NOT_FOUND=$o}static{this.NULL=new gl}static create(t,n){if(Array.isArray(t))return Dv({name:""},n,t,"");{let i=t.name??"";return Dv({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=D({token:e,providedIn:"any",factory:()=>_(Xv)})}static{this.__NG_ELEMENT_ID__=-1}};var XT=new w("");XT.__NG_ELEMENT_ID__=e=>{let t=He();if(t===null)throw new I(204,!1);if(t.type&2)return t.value;if(e&$.Optional)return null;throw new I(204,!1)};var eS="ngOriginalError";function Ud(e){return e[eS]}var e0=!0,Zl=(()=>{class e{static{this.__NG_ELEMENT_ID__=tS}static{this.__NG_ENV_ID__=n=>n}}return e})(),uh=class extends Zl{constructor(t){super(),this._lView=t}onDestroy(t){return Sy(this._lView,t),()=>ET(this._lView,t)}};function tS(){return new uh(X())}var Hn=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}}return e})();var dh=class extends K{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,gy()&&(this.destroyRef=g(Zl,{optional:!0})??void 0,this.pendingTasks=g(Hn,{optional:!0})??void 0)}emit(t){let n=Y(null);try{super.next(t)}finally{Y(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof pe&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},ae=dh;function Cl(...e){}function t0(e){let t,n;function i(){e=Cl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Cv(e){return queueMicrotask(()=>e()),()=>{e=Cl}}var cf="isAngularZone",El=cf+"_ID",nS=0,P=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=e0}=t;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,oS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(cf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new I(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,iS,Cl,Cl);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},iS={};function uf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function rS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){t0(()=>{e.callbackScheduled=!1,hh(e),e.isCheckStableRunning=!0,uf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),hh(e)}function oS(e){let t=()=>{rS(e)},n=nS++;e._inner=e._inner.fork({name:"angular",properties:{[cf]:!0,[El]:n,[El+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(sS(l))return i.invokeTask(o,s,a,l);try{return Ev(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Iv(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return Ev(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!aS(l)&&t(),Iv(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,hh(e),uf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function hh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Ev(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Iv(e){e._nesting--,uf(e)}var Il=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function sS(e){return n0(e,"__ignore_ng_zone__")}function aS(e){return n0(e,"__scheduler_tick__")}function n0(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function lS(e="zone.js",t){return e==="noop"?new Il:e==="zone.js"?new P(t):e}var cn=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ud(t);for(;n&&Ud(n);)n=Ud(n);return n||null}},cS=new w("",{providedIn:"root",factory:()=>{let e=g(P),t=g(cn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function uS(){return Pr(He(),X())}function Pr(e,t){return new Ge(yt(e,t))}var Ge=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=uS}}return e})();function dS(e){return e instanceof Ge?e.nativeElement:e}function hS(){return this._results[Symbol.iterator]()}var fh=class e{get changes(){return this._changes??=new ae}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=hS)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=FI(t);(this._changesDetected=!PI(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function i0(e){return(e.flags&128)===128}var r0=new Map,fS=0;function pS(){return fS++}function gS(e){r0.set(e[zl],e)}function ph(e){r0.delete(e[zl])}var Tv="__ngContext__";function Ci(e,t){Fn(t)?(e[Tv]=t[zl],gS(t)):e[Tv]=t}function o0(e){return a0(e[Wo])}function s0(e){return a0(e[Mt])}function a0(e){for(;e!==null&&!fn(e);)e=e[Mt];return e}var gh;function l0(e){gh=e}function mS(){if(gh!==void 0)return gh;if(typeof document<"u")return document;throw new I(210,!1)}var Jl=new w("",{providedIn:"root",factory:()=>_S}),_S="ng",df=new w(""),ke=new w("",{providedIn:"platform",factory:()=>"unknown"});var hf=new w("",{providedIn:"root",factory:()=>mS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vS="h",yS="b";var bS=()=>null;function ff(e,t,n=!1){return bS(e,t,n)}var c0=!1,wS=new w("",{providedIn:"root",factory:()=>c0});var nl;function DS(){if(nl===void 0&&(nl=null,At.trustedTypes))try{nl=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return nl}function Sv(e){return DS()?.createScriptURL(e)||e}var Tl=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$v})`}};function Fr(e){return e instanceof Tl?e.changingThisBreaksApplicationSecurity:e}function pf(e,t){let n=CS(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${$v})`)}return n===t}function CS(e){return e instanceof Tl&&e.getTypeName()||null}var ES=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function u0(e){return e=String(e),e.match(ES)?e:"unsafe:"+e}var Xl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Xl||{});function IS(e){let t=h0();return t?t.sanitize(Xl.URL,e)||"":pf(e,"URL")?Fr(e):u0(Bl(e))}function TS(e){let t=h0();if(t)return Sv(t.sanitize(Xl.RESOURCE_URL,e)||"");if(pf(e,"ResourceURL"))return Sv(Fr(e));throw new I(904,!1)}function SS(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?TS:IS}function d0(e,t,n){return SS(t,n)(e)}function h0(){let e=X();return e&&e[Ut].sanitizer}function f0(e){return e instanceof Function?e():e}function MS(e){return(e??g(Ie)).get(ke)==="browser"}var un=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(un||{}),AS;function gf(e,t){return AS(e,t)}function mr(e,t,n,i,r){if(i!=null){let o,s=!1;fn(i)?o=i:Fn(i)&&(s=!0,i=i[hn]);let a=Ht(i);e===0&&n!==null?r==null?y0(t,n,a):Sl(t,n,a,r||null,!0):e===1&&n!==null?Sl(t,n,a,r||null,!0):e===2?$S(t,a,s):e===3&&t.destroyNode(a),o!=null&&GS(t,e,o,n,r)}}function NS(e,t){return e.createText(t)}function RS(e,t,n){e.setValue(t,n)}function p0(e,t,n){return e.createElement(t,n)}function OS(e,t){g0(e,t),t[hn]=null,t[et]=null}function xS(e,t,n,i,r,o){i[hn]=r,i[et]=t,ec(e,i,n,1,r,o)}function g0(e,t){t[Ut].changeDetectionScheduler?.notify(9),ec(e,t,t[_e],2,null,null)}function kS(e){let t=e[Wo];if(!t)return $d(e[B],e);for(;t;){let n=null;if(Fn(t))n=t[Wo];else{let i=t[tt];i&&(n=i)}if(!n){for(;t&&!t[Mt]&&t!==e;)Fn(t)&&$d(t[B],t),t=t[Le];t===null&&(t=e),Fn(t)&&$d(t[B],t),n=t&&t[Mt]}t=n}}function PS(e,t,n,i){let r=tt+i,o=n.length;i>0&&(n[r-1][Mt]=t),i<o-tt?(t[Mt]=n[r],Jv(n,tt+i,t)):(n.push(t),t[Mt]=null),t[Le]=n;let s=t[_i];s!==null&&n!==s&&m0(s,t);let a=t[ln];a!==null&&a.insertView(e),rh(t),t[O]|=128}function m0(e,t){let n=e[Er],i=t[Le];if(Fn(i))e[O]|=vl.HasTransplantedViews;else{let r=i[Le][_t];t[_t]!==r&&(e[O]|=vl.HasTransplantedViews)}n===null?e[Er]=[t]:n.push(t)}function mf(e,t){let n=e[Er],i=n.indexOf(t);n.splice(i,1)}function mh(e,t){if(e.length<=tt)return;let n=tt+t,i=e[n];if(i){let r=i[_i];r!==null&&r!==e&&mf(r,i),t>0&&(e[n-1][Mt]=i[Mt]);let o=pl(e,tt+t);OS(i[B],i);let s=o[ln];s!==null&&s.detachView(o[B]),i[Le]=null,i[Mt]=null,i[O]&=-129}return i}function _0(e,t){if(!(t[O]&256)){let n=t[_e];n.destroyNode&&ec(e,t,n,3,null,null),kS(t)}}function $d(e,t){if(t[O]&256)return;let n=Y(null);try{t[O]&=-129,t[O]|=256,t[mt]&&hd(t[mt]),LS(e,t),FS(e,t),t[B].type===1&&t[_e].destroy();let i=t[_i];if(i!==null&&fn(t[Le])){i!==t[Le]&&mf(i,t);let r=t[ln];r!==null&&r.detachView(e)}ph(t)}finally{Y(n)}}function FS(e,t){let n=e.cleanup,i=t[ml];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(t[ml]=null);let r=t[Pn];if(r!==null){t[Pn]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function LS(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof wi)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Vt(4,a,l);try{l.call(a)}finally{Vt(5,a,l)}}else{Vt(4,r,o);try{o.call(r)}finally{Vt(5,r,o)}}}}}function v0(e,t,n){return VS(e,t.parent,n)}function VS(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[hn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===Bt.None||o===Bt.Emulated)return null}return yt(i,n)}}function Sl(e,t,n,i,r){e.insertBefore(t,n,i,r)}function y0(e,t,n){e.appendChild(t,n)}function Mv(e,t,n,i,r){i!==null?Sl(e,t,n,i,r):y0(e,t,n)}function b0(e,t){return e.parentNode(t)}function jS(e,t){return e.nextSibling(t)}function w0(e,t,n){return US(e,t,n)}function BS(e,t,n){return e.type&40?yt(e,n):null}var US=BS,Av;function _f(e,t,n,i){let r=v0(e,i,t),o=t[_e],s=i.parent||t[et],a=w0(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Mv(o,r,n[l],a,!1);else Mv(o,r,n,a,!1);Av!==void 0&&Av(o,i,t,n,r)}function jo(e,t){if(t!==null){let n=t.type;if(n&3)return yt(t,e);if(n&4)return _h(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return jo(e,i);{let r=e[t.index];return fn(r)?_h(-1,r):Ht(r)}}else{if(n&128)return jo(e,t.next);if(n&32)return gf(t,e)()||Ht(e[t.index]);{let i=D0(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=yi(e[_t]);return jo(r,i)}else return jo(e,t.next)}}}return null}function D0(e,t){if(t!==null){let i=e[_t][et],r=t.projection;return i.projection[r]}return null}function _h(e,t){let n=tt+e+1;if(n<t.length){let i=t[n],r=i[B].firstChild;if(r!==null)return jo(i,r)}return t[vi]}function $S(e,t,n){e.removeChild(null,t,n)}function vf(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&Ci(Ht(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)vf(e,t,n.child,i,r,o,!1),mr(t,e,r,a,o);else if(l&32){let c=gf(n,i),u;for(;u=c();)mr(t,e,r,u,o);mr(t,e,r,a,o)}else l&16?C0(e,t,i,n,r,o):mr(t,e,r,a,o);n=s?n.projectionNext:n.next}}function ec(e,t,n,i,r,o){vf(n,i,e.firstChild,t,r,o,!1)}function HS(e,t,n){let i=t[_e],r=v0(e,n,t),o=n.parent||t[et],s=w0(o,n,t);C0(i,0,t,n,r,s)}function C0(e,t,n,i,r,o){let s=n[_t],l=s[et].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];mr(t,e,r,u,o)}else{let c=l,u=s[Le];i0(i)&&(c.flags|=128),vf(e,t,c,u,r,o,!0)}}function GS(e,t,n,i,r){let o=n[vi],s=Ht(n);o!==s&&mr(t,e,i,o,r);for(let a=tt;a<n.length;a++){let l=n[a];ec(l[B],l,e,t,i,o)}}function zS(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:un.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=un.Important),e.setStyle(n,i,r,o))}}function WS(e,t,n){e.setAttribute(t,"style",n)}function E0(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function I0(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Jd(e,t,i),r!==null&&E0(e,t,r),o!==null&&WS(e,t,o)}var Gn={};function Pe(e=1){T0(xe(),X(),Si()+e,!1)}function T0(e,t,n,i){if(!i)if((t[O]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ll(t,o,n)}else{let o=e.preOrderHooks;o!==null&&cl(t,o,0,n)}bi(n)}function Q(e,t=$.Default){let n=X();if(n===null)return _(e,t);let i=He();return Qy(i,n,$e(e),t)}function S0(){let e="invalid";throw new Error(e)}function M0(e,t,n,i,r,o){let s=Y(null);try{let a=null;r&Ln.SignalBased&&(a=t[i][tn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Ln.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,i):yy(t,a,i,o)}finally{Y(s)}}function KS(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)bi(~r);else{let o=r,s=n[++i],a=n[++i];xT(s,o);let l=t[o];a(2,l)}}}finally{bi(-1)}}function tc(e,t,n,i,r,o,s,a,l,c,u){let d=t.blueprint.slice();return d[hn]=r,d[O]=i|4|128|8|64,(c!==null||e&&e[O]&2048)&&(d[O]|=2048),Iy(d),d[Le]=d[Rr]=e,d[Nt]=n,d[Ut]=s||e&&e[Ut],d[_e]=a||e&&e[_e],d[Cr]=l||e&&e[Cr]||null,d[et]=o,d[zl]=pS(),d[zo]=u,d[my]=c,d[_t]=t.type==2?e[_t]:d,d}function Jo(e,t,n,i,r){let o=e.data[t];if(o===null)o=qS(e,t,n,i,r),OT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=NT();o.injectorIndex=s===null?-1:s.injectorIndex}return Zo(o,!0),o}function qS(e,t,n,i,r){let o=Ry(),s=Oy(),a=s?o:o&&o.parent,l=e.data[t]=eM(e,a,n,t,i,r);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function A0(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function N0(e,t,n,i,r){let o=Si(),s=i&2;try{bi(-1),s&&t.length>$t&&T0(e,t,$t,!1),Vt(s?2:0,r),n(i,r)}finally{bi(o),Vt(s?3:1,r)}}function R0(e,t,n){if(vy(t)){let i=Y(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Y(i)}}}function O0(e,t,n){Ay()&&(sM(e,t,n,yt(n,t)),(n.flags&64)===64&&V0(e,t,n))}function x0(e,t,n=yt){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function k0(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=yf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function yf(e,t,n,i,r,o,s,a,l,c,u){let d=$t+i,h=d+r,f=YS(d,h),p=typeof c=="function"?c():c;return f[B]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function YS(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:Gn);return n}function QS(e,t,n,i){let o=i.get(wS,c0)||n===Bt.ShadowDom,s=e.selectRootElement(t,o);return ZS(s),s}function ZS(e){JS(e)}var JS=()=>null;function XS(e,t,n,i){let r=U0(t);r.push(n),e.firstCreatePass&&$0(e).push(i,r.length-1)}function eM(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Ny()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Nv(e,t,n,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;i??={};let a,l=Ln.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?Rv(i,n,c,a,l):Rv(i,n,c,a)}return i}function Rv(e,t,n,i,r){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,i):o=e[n]=[t,i],r!==void 0&&o.push(r)}function tM(e,t,n){let i=t.directiveStart,r=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=Nv(0,d.inputs,u,l,f),c=Nv(1,d.outputs,u,c,p);let m=l!==null&&s!==null&&!Qh(t)?_M(l,u,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function nM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function P0(e,t,n,i,r,o,s,a){let l=yt(t,n),c=t.inputs,u;!a&&c!=null&&(u=c[i])?(bf(e,n,u,i,r),Wl(t)&&iM(n,t.index)):t.type&3?(i=nM(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)):t.type&12}function iM(e,t){let n=$n(t,e);n[O]&16||(n[O]|=64)}function F0(e,t,n,i){if(Ay()){let r=i===null?null:{"":-1},o=lM(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&L0(e,t,n,s,r,a),r&&cM(n,i,r)}n.mergedAttrs=Ho(n.mergedAttrs,n.attrs)}function L0(e,t,n,i,r,o){for(let c=0;c<i.length;c++)lh(Dl(n,t),e,i[c].type);dM(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=A0(e,t,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=Ho(n.mergedAttrs,u.hostAttrs),hM(e,n,t,l,u),uM(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}tM(e,n,o)}function rM(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;oM(s)!=a&&s.push(a),s.push(n,i,o)}}function oM(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function sM(e,t,n,i){let r=n.directiveStart,o=n.directiveEnd;Wl(n)&&fM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Dl(n,t),Ci(i,t);let s=n.initialInputs;for(let a=r;a<o;a++){let l=e.data[a],c=Di(t,e,a,n);if(Ci(c,t),s!==null&&mM(t,a-r,c,l,n,s),Vn(l)){let u=$n(n.index,t);u[Nt]=Di(t,e,a,n)}}}function V0(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=kT();try{bi(o);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];oh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&aM(l,c)}}finally{bi(-1),oh(s)}}function aM(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function lM(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(ry(t,s.selectors,!1))if(i||(i=[]),Vn(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;vh(e,t,l)}else i.unshift(s),vh(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function vh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function cM(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new I(-301,!1);i.push(t[r],o)}}}function uM(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Vn(t)&&(n[""]=e)}}function dM(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function hM(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=yr(r.type,!0)),s=new wi(o,Vn(r),Q);e.blueprint[i]=s,n[i]=s,rM(e,t,i,A0(e,n,r.hostVars,Gn),r)}function fM(e,t,n){let i=yt(t,e),r=k0(n),o=e[Ut].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=nc(e,tc(e,r,null,s,i,t,null,o.createRenderer(i,n),null,null,null));e[t.index]=a}function pM(e,t,n,i,r,o){let s=yt(e,t);gM(t[_e],s,o,e.value,n,i,r)}function gM(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?Bl(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function mM(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];M0(i,n,l,c,u,d)}}function _M(e,t,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function j0(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function B0(e,t){let n=e.contentQueries;if(n!==null){let i=Y(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];ef(o),a.contentQueries(2,t[s],s)}}}finally{Y(i)}}}function nc(e,t){return e[Wo]?e[gv][Mt]=t:e[Wo]=t,e[gv]=t,t}function yh(e,t,n){ef(0);let i=Y(null);try{t(e,n)}finally{Y(i)}}function U0(e){return e[ml]??=[]}function $0(e){return e.cleanup??=[]}function H0(e,t){let n=e[Cr],i=n?n.get(cn,null):null;i&&i.handleError(t)}function bf(e,t,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=t[s],u=e.data[s];M0(u,c,i,a,l,r)}}function vM(e,t,n){let i=Cy(t,e);RS(e[_e],i,n)}function yM(e,t){let n=$n(t,e),i=n[B];bM(i,n);let r=n[hn];r!==null&&n[zo]===null&&(n[zo]=ff(r,n[Cr])),wf(i,n,n[Nt])}function bM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function wf(e,t,n){tf(t);try{let i=e.viewQuery;i!==null&&yh(1,i,n);let r=e.template;r!==null&&N0(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ln]?.finishViewCreation(e),e.staticContentQueries&&B0(e,t),e.staticViewQueries&&yh(2,e.viewQuery,n);let o=e.components;o!==null&&wM(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[O]&=-5,nf()}}function wM(e,t){for(let n=0;n<t.length;n++)yM(e,t[n])}function G0(e,t,n,i){let r=Y(null);try{let o=t.tView,a=e[O]&4096?4096:16,l=tc(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[_i]=c;let u=e[ln];return u!==null&&(l[ln]=u.createEmbeddedView(o)),wf(o,l,n),l}finally{Y(r)}}function bh(e,t){return!t||t.firstChild===null||i0(e)}function z0(e,t,n,i=!0){let r=t[B];if(PS(r,t,e,n),i){let s=_h(n,e),a=t[_e],l=b0(a,e[vi]);l!==null&&xS(r,e[et],a,t,l,s)}let o=t[zo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ml(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(Ht(o)),fn(o)&&DM(o,i);let s=n.type;if(s&8)Ml(e,t,n.child,i);else if(s&32){let a=gf(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=D0(t,n);if(Array.isArray(a))i.push(...a);else{let l=yi(t[_t]);Ml(l[B],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function DM(e,t){for(let n=tt;n<e.length;n++){let i=e[n],r=i[B].firstChild;r!==null&&Ml(i[B],i,r,t)}e[vi]!==e[hn]&&t.push(e[vi])}var W0=[];function CM(e){return e[mt]??EM(e)}function EM(e){let t=W0.pop()??Object.create(TM);return t.lView=e,t}function IM(e){e.lView[mt]!==e&&(e.lView=null,W0.push(e))}var TM=U(y({},ko),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ql(e.lView)},consumerOnSignalRead(){this.lView[mt]=this}});function SM(e){let t=e[mt]??Object.create(MM);return t.lView=e,t}var MM=U(y({},ko),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=yi(e.lView);for(;t&&!K0(t[B]);)t=yi(t);t&&Ty(t)},consumerOnSignalRead(){this.lView[mt]=this}});function K0(e){return e.type!==2}var AM=100;function q0(e,t=!0,n=0){let i=e[Ut],r=i.rendererFactory,o=!1;o||r.begin?.();try{NM(e,n)}catch(s){throw t&&H0(e,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function NM(e,t){let n=ky();try{_v(!0),wh(e,t);let i=0;for(;Kl(e);){if(i===AM)throw new I(103,!1);i++,wh(e,1)}}finally{_v(n)}}function RM(e,t,n,i){let r=t[O];if((r&256)===256)return;let o=!1,s=!1;!o&&t[Ut].inlineEffectRunner?.flush(),tf(t);let a=!0,l=null,c=null;o||(K0(e)?(c=CM(t),l=Ea(c)):I_()===null?(a=!1,c=SM(t),l=Ea(c)):t[mt]&&(hd(t[mt]),t[mt]=null));try{Iy(t),RT(e.bindingStartIndex),n!==null&&N0(e,t,n,2,i);let u=(r&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&ll(t,f,null)}else{let f=e.preOrderHooks;f!==null&&cl(t,f,0,null),Vd(t,0)}if(s||OM(t),Y0(t,0),e.contentQueries!==null&&B0(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&ll(t,f)}else{let f=e.contentHooks;f!==null&&cl(t,f,1),Vd(t,1)}KS(e,t);let d=e.components;d!==null&&Z0(t,d,0);let h=e.viewQuery;if(h!==null&&yh(2,h,i),!o)if(u){let f=e.viewCheckHooks;f!==null&&ll(t,f)}else{let f=e.viewHooks;f!==null&&cl(t,f,2),Vd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ld]){for(let f of t[Ld])f();t[Ld]=null}o||(t[O]&=-73)}catch(u){throw o||ql(t),u}finally{c!==null&&(ud(c,l),a&&IM(c)),nf()}}function Y0(e,t){for(let n=o0(e);n!==null;n=s0(n))for(let i=tt;i<n.length;i++){let r=n[i];Q0(r,t)}}function OM(e){for(let t=o0(e);t!==null;t=s0(t)){if(!(t[O]&vl.HasTransplantedViews))continue;let n=t[Er];for(let i=0;i<n.length;i++){let r=n[i];Ty(r)}}}function xM(e,t,n){let i=$n(t,e);Q0(i,n)}function Q0(e,t){Xh(e)&&wh(e,t)}function wh(e,t){let i=e[B],r=e[O],o=e[mt],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&dd(o)),s||=!1,o&&(o.dirty=!1),e[O]&=-9217,s)RM(i,e,i.template,e[Nt]);else if(r&8192){Y0(e,1);let a=i.components;a!==null&&Z0(e,a,1)}}function Z0(e,t,n){for(let i=0;i<t.length;i++)xM(e,t[i],n)}function Df(e,t){let n=ky()?64:1088;for(e[Ut].changeDetectionScheduler?.notify(t);e;){e[O]|=n;let i=yi(e);if(nh(e)&&!i)return e;e=i}return null}var Ei=class{get rootNodes(){let t=this._lView,n=t[B];return Ml(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nt]}set context(t){this._lView[Nt]=t}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Le];if(fn(t)){let n=t[_l],i=n?n.indexOf(this):-1;i>-1&&(mh(t,i),pl(n,i))}this._attachedToViewContainer=!1}_0(this._lView[B],this._lView)}onDestroy(t){Sy(this._lView,t)}markForCheck(){Df(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){rh(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,q0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=nh(this._lView),n=this._lView[_i];n!==null&&!t&&mf(n,this._lView),g0(this._lView[B],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t;let n=nh(this._lView),i=this._lView[_i];i!==null&&!n&&m0(i,this._lView),rh(this._lView)}},jn=(()=>{class e{static{this.__NG_ELEMENT_ID__=FM}}return e})(),kM=jn,PM=class extends kM{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=G0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new Ei(r)}};function FM(){return Cf(He(),X())}function Cf(e,t){return e.type&4?new PM(t,e,Pr(e,t)):null}var _3=new RegExp(`^(\\d+)*(${yS}|${vS})*(.*)`);var LM=()=>null;function Dh(e,t){return LM(e,t)}var Ir=class{},Ef=new w("",{providedIn:"root",factory:()=>!1});var J0=new w(""),X0=new w(""),Ch=class{},Al=class{};function VM(e){let t=Error(`No component factory found for ${Xe(e)}.`);return t[jM]=e,t}var jM="ngComponent";var Eh=class{resolveComponentFactory(t){throw VM(t)}},Tr=class{static{this.NULL=new Eh}},Sr=class{},Mi=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>BM()}}return e})();function BM(){let e=X(),t=He(),n=$n(t.index,e);return(Fn(n)?n:e)[_e]}var UM=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>null})}}return e})();function Ih(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=qd(r,a);else if(o==2){let l=a,c=t[++s];i=qd(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var Nl=class extends Tr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=an(t);return new Ii(n,this.ngModule)}};function Ov(e,t){let n=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Ln.None;t?n.push({propName:s,templateName:i,isSignal:(a&Ln.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function $M(e){let t=e.toLowerCase();return t==="svg"?yT:t==="math"?bT:null}var Ii=class extends Al{get inputs(){let t=this.componentDef,n=t.inputTransforms,i=Ov(t.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return Ov(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=ZI(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=Y(null);try{r=r||this.ngModule;let s=r instanceof Se?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new sh(t,s):t,l=a.get(Sr,null);if(l===null)throw new I(407,!1);let c=a.get(UM,null),u=a.get(Ir,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?QS(h,i,this.componentDef.encapsulation,a):p0(h,f,$M(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let b=null;p!==null&&(b=ff(p,a,!0));let T=yf(0,null,null,1,0,null,null,null,null,null,null),j=tc(null,T,null,m,null,null,d,h,a,null,b);tf(j);let E,ne,fe=null;try{let we=this.componentDef,Xt,id=null;we.findHostDirectiveDefs?(Xt=[],id=new Map,we.findHostDirectiveDefs(we,Xt,id),Xt.push(we)):Xt=[we];let O1=HM(j,p);fe=GM(O1,p,we,Xt,j,d,h),ne=Ey(T,$t),p&&KM(h,we,p,i),n!==void 0&&qM(ne,this.ngContentSelectors,n),E=WM(fe,we,Xt,id,j,[YM]),wf(T,j,null)}catch(we){throw fe!==null&&ph(fe),ph(j),we}finally{nf()}return new Th(this.componentType,E,Pr(ne,j),j,ne)}finally{Y(o)}}},Th=class extends Ch{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ei(r,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;bf(o[B],o,r,t,n),this.previousInputValues.set(t,n);let s=$n(this._tNode.index,o);Df(s,1)}}get injector(){return new mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function HM(e,t){let n=e[B],i=$t;return e[i]=t,Jo(n,i,2,"#host",null)}function GM(e,t,n,i,r,o,s){let a=r[B];zM(i,e,t,s);let l=null;t!==null&&(l=ff(t,r[Cr]));let c=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=tc(r,k0(n),null,u,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&vh(a,e,i.length-1),nc(r,d),r[e.index]=d}function zM(e,t,n,i){for(let r of e)t.mergedAttrs=Ho(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(Ih(t,t.mergedAttrs,!0),n!==null&&I0(i,n,t))}function WM(e,t,n,i,r,o){let s=He(),a=r[B],l=yt(s,r);L0(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Di(r,a,d,s);Ci(h,r)}V0(a,r,s),l&&Ci(l,r);let c=Di(r,a,s.directiveStart+s.componentOffset,s);if(e[Nt]=r[Nt]=c,o!==null)for(let u of o)u(c,t);return R0(a,s,r),c}function KM(e,t,n,i){if(i)Jd(e,n,["ng-version","18.2.9"]);else{let{attrs:r,classes:o}=JI(t.selectors[0]);r&&Jd(e,n,r),o&&o.length>0&&E0(e,n,o.join(" "))}}function qM(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function YM(){let e=He();af(X()[B],e)}var zn=(()=>{class e{static{this.__NG_ELEMENT_ID__=QM}}return e})();function QM(){let e=He();return tb(e,X())}var ZM=zn,eb=class extends ZM{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Pr(this._hostTNode,this._hostLView)}get injector(){return new mi(this._hostTNode,this._hostLView)}get parentInjector(){let t=lf(this._hostTNode,this._hostLView);if(Gy(t)){let n=wl(t,this._hostLView),i=bl(t),r=n[B].data[i+8];return new mi(r,n)}else return new mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=xv(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Dh(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,bh(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!gT(t),a;if(s)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Ii(an(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(Se,null);m&&(o=m)}let u=an(l.componentType??{}),d=Dh(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,bh(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(DT(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[Le],c=new eb(l,l[et],l[Le]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return z0(s,r,o,i),t.attachToViewContainerRef(),Jv(Hd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=xv(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=mh(this._lContainer,n);i&&(pl(Hd(this._lContainer),n),_0(i[B],i))}detach(t){let n=this._adjustIndex(t,-1),i=mh(this._lContainer,n);return i&&pl(Hd(this._lContainer),n)!=null?new Ei(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function xv(e){return e[_l]}function Hd(e){return e[_l]||(e[_l]=[])}function tb(e,t){let n,i=t[e.index];return fn(i)?n=i:(n=j0(i,t,null,e),t[e.index]=n,nc(t,n)),XM(n,t,e,i),new eb(n,e,t)}function JM(e,t){let n=e[_e],i=n.createComment(""),r=yt(t,e),o=b0(n,r);return Sl(n,o,i,jS(n,r),!1),i}var XM=nA,eA=()=>!1;function tA(e,t,n){return eA(e,t,n)}function nA(e,t,n,i){if(e[vi])return;let r;n.type&8?r=Ht(i):r=JM(t,n),e[vi]=r}var Sh=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Mh=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)If(t,n).matches!==null&&this.queries[n].setDirty()}},Ah=class{constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=uA(t):this.predicate=t}},Nh=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Rh=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,iA(n,o)),this.matchTNodeWithReadOption(t,n,ul(n,t,o,!1,!1))}else i===jn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ul(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ge||r===zn||r===jn&&n.type&4)this.addMatch(n.index,-2);else{let o=ul(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function iA(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function rA(e,t){return e.type&11?Pr(e,t):e.type&4?Cf(e,t):null}function oA(e,t,n,i){return n===-1?rA(t,e):n===-2?sA(e,t,i):Di(e,e[B],n,t)}function sA(e,t,n){if(n===Ge)return Pr(t,e);if(n===jn)return Cf(t,e);if(n===zn)return tb(t,e)}function nb(e,t,n,i){let r=t[ln].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(oA(t,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function Oh(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=nb(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=tt;d<u.length;d++){let h=u[d];h[_i]===h[Le]&&Oh(h[B],h,c,i)}if(u[Er]!==null){let d=u[Er];for(let h=0;h<d.length;h++){let f=d[h];Oh(f[B],f,c,i)}}}}}return i}function aA(e,t){return e[ln].queries[t].queryList}function lA(e,t,n){let i=new fh((n&4)===4);return XS(e,t,i,i.destroy),(t[ln]??=new Mh).queries.push(new Sh(i))-1}function cA(e,t,n){let i=xe();return i.firstCreatePass&&(dA(i,new Ah(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),lA(i,X(),t)}function uA(e){return e.split(",").map(t=>t.trim())}function dA(e,t,n){e.queries===null&&(e.queries=new Nh),e.queries.track(new Rh(t,n))}function If(e,t){return e.queries.getByIndex(t)}function hA(e,t){let n=e[B],i=If(n,t);return i.crossesNgTemplate?Oh(n,e,t,[]):nb(n,e,i,t)}var kv=new Set;function Lr(e){kv.has(e)||(kv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function fA(e){return typeof e=="function"&&e[tn]!==void 0}function ic(e,t){Lr("NgSignals");let n=F_(e),i=n[tn];return t?.equal&&(i.equal=t.equal),n.set=r=>fd(i,r),n.update=r=>L_(i,r),n.asReadonly=pA.bind(n),n}function pA(){let e=this[tn];if(e.readonlyFn===void 0){let t=()=>this();t[tn]=e,e.readonlyFn=t}return e.readonlyFn}function ib(e){return fA(e)&&typeof e.set=="function"}function gA(e){let t=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=e(r);n.set(r,o=s.then(yA))}return o}return Rl.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>bA(o));t.push(l)}),_A(),Promise.all(t).then(()=>{})}var Rl=new Map,mA=new Set;function _A(){let e=Rl;return Rl=new Map,e}function vA(){return Rl.size===0}function yA(e){return typeof e=="string"?e:e.text()}function bA(e){mA.delete(e)}function wA(e){return Object.getPrototypeOf(e.prototype).constructor}function Ai(e){let t=wA(e.type),n=!0,i=[e];for(;t;){let r;if(Vn(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=il(e.inputs),s.inputTransforms=il(e.inputTransforms),s.declaredInputs=il(e.declaredInputs),s.outputs=il(e.outputs);let a=r.hostBindings;a&&TA(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&EA(e,l),c&&IA(e,c),DA(e,r),mI(e.outputs,r.outputs),Vn(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Ai&&(n=!1)}}t=Object.getPrototypeOf(t)}CA(i)}function DA(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function CA(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ho(r.hostAttrs,n=Ho(n,r.hostAttrs))}}function il(e){return e===br?{}:e===Je?[]:e}function EA(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function IA(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function TA(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function Tf(e){let t=e.inputConfig,n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}e.inputTransforms=n}var Bn=class{},Ko=class{};var Ol=class extends Bn{constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nl(this);let o=ly(t);this._bootstrapComponents=f0(o.bootstrap),this._r3Injector=Xy(t,n,[{provide:Bn,useValue:this},{provide:Tr,useValue:this.componentFactoryResolver},...i],Xe(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},xl=class extends Ko{constructor(t){super(),this.moduleType=t}create(t){return new Ol(this.moduleType,t,[])}};function SA(e,t,n){return new Ol(e,t,n,!1)}var xh=class extends Bn{constructor(t){super(),this.componentFactoryResolver=new Nl(this),this.instance=null;let n=new Go([...t.providers,{provide:Bn,useValue:this},{provide:Tr,useValue:this.componentFactoryResolver}],t.parent||Gl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function rc(e,t,n=null){return new xh({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function rb(e){return AA(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function MA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function AA(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Vr(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function NA(e){return(e.flags&32)===32}function RA(e,t,n,i,r,o,s,a,l){let c=t.consts,u=Jo(t,e,4,s||null,a||null);F0(t,n,u,yl(c,l)),af(t,u);let d=u.tView=yf(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function ob(e,t,n,i,r,o,s,a,l,c){let u=n+$t,d=t.firstCreatePass?RA(u,t,e,i,r,o,s,a,l):t.data[u];Zo(d,!1);let h=OA(t,e,d,n);of()&&_f(t,e,h,d),Ci(h,e);let f=j0(h,e,h,d);return e[u]=f,nc(e,f),tA(f,d,e),Jh(d)&&O0(t,e,d),l!=null&&x0(e,d,c),d}function pn(e,t,n,i,r,o,s,a){let l=X(),c=xe(),u=yl(c.consts,o);return ob(l,c,e,t,n,i,r,u,s,a),pn}var OA=xA;function xA(e,t,n,i){return sf(!0),t[_e].createComment("")}var sn=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(sn||{}),sb=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}}return e})(),kh=class e{constructor(){this.ngZone=g(P),this.scheduler=g(Ir),this.errorHandler=g(cn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[sn.EarlyRead,sn.Write,sn.MixedReadWrite,sn.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}},Ph=class{constructor(t,n,i,r){this.impl=t,this.hooks=n,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function jr(e,t){!t?.injector&&fT(jr);let n=t?.injector??g(Ie);return MS(n)?(Lr("NgAfterNextRender"),PA(e,n,t,!0)):FA}function kA(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function PA(e,t,n,i){let r=t.get(sb);r.impl??=t.get(kh);let o=n?.phase??sn.MixedReadWrite,s=n?.manualCleanup!==!0?t.get(Zl):null,a=new Ph(r.impl,kA(e,o),i,s);return r.impl.register(a),a}var FA={destroy(){}};function Br(e,t,n,i){let r=X(),o=Yl();if(Vr(r,o,t)){let s=xe(),a=rf();pM(a,r,e,t,n,i)}return Br}function LA(e,t,n,i){return Vr(e,Yl(),n)?t+Bl(n)+i:Gn}function rl(e,t){return e<<17|t<<2}function Ti(e){return e>>17&32767}function VA(e){return(e&2)==2}function jA(e,t){return e&131071|t<<17}function Fh(e){return e|2}function Mr(e){return(e&131068)>>2}function Gd(e,t){return e&-131069|t<<2}function BA(e){return(e&1)===1}function Lh(e){return e|1}function UA(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ti(s),l=Mr(s);e[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Qo(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=Ti(e[a+1]);e[i+1]=rl(h,a),h!==0&&(e[h+1]=Gd(e[h+1],i)),e[a+1]=jA(e[a+1],i)}else e[i+1]=rl(a,0),a!==0&&(e[a+1]=Gd(e[a+1],i)),a=i;else e[i+1]=rl(l,0),a===0?a=i:e[l+1]=Gd(e[l+1],i),l=i;c&&(e[i+1]=Fh(e[i+1])),Pv(e,u,i,!0),Pv(e,u,i,!1),$A(t,u,e,i,o),s=rl(a,l),o?t.classBindings=s:t.styleBindings=s}function $A(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Qo(o,t)>=0&&(n[i+1]=Lh(n[i+1]))}function Pv(e,t,n,i){let r=e[n+1],o=t===null,s=i?Ti(r):Mr(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];HA(l,t)&&(a=!0,e[s+1]=i?Lh(c):Fh(c)),s=i?Ti(c):Mr(c)}a&&(e[n+1]=i?Fh(r):Lh(r))}function HA(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Qo(e,t)>=0:!1}var St={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GA(e){return e.substring(St.key,St.keyEnd)}function zA(e){return WA(e),ab(e,lb(e,0,St.textEnd))}function ab(e,t){let n=St.textEnd;return n===t?-1:(t=St.keyEnd=KA(e,St.key=t,n),lb(e,t,n))}function WA(e){St.key=0,St.keyEnd=0,St.value=0,St.valueEnd=0,St.textEnd=e.length}function lb(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function KA(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Gt(e,t,n){let i=X(),r=Yl();if(Vr(i,r,t)){let o=xe(),s=rf();P0(o,s,i,e,t,i[_e],n,!1)}return Gt}function Vh(e,t,n,i,r){let o=t.inputs,s=r?"class":"style";bf(e,n,o[s],s,i)}function Ni(e,t){return YA(e,t,null,!0),Ni}function oc(e){QA(nN,qA,e,!0)}function qA(e,t){for(let n=zA(t);n>=0;n=ab(t,n))Yh(e,GA(t),!0)}function YA(e,t,n,i){let r=X(),o=xe(),s=Py(2);if(o.firstUpdatePass&&ub(o,e,s,i),t!==Gn&&Vr(r,s,t)){let a=o.data[Si()];db(o,a,r,r[_e],e,r[s+1]=rN(t,n),i,s)}}function QA(e,t,n,i){let r=xe(),o=Py(2);r.firstUpdatePass&&ub(r,null,o,i);let s=X();if(n!==Gn&&Vr(s,o,n)){let a=r.data[Si()];if(hb(a,i)&&!cb(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=qd(l,n||"")),Vh(r,a,s,n,i)}else iN(r,a,s,s[_e],s[o+1],s[o+1]=tN(e,t,n),i,o)}}function cb(e,t){return t>=e.expandoStartIndex}function ub(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[Si()],s=cb(e,n);hb(o,i)&&t===null&&!s&&(t=!1),t=ZA(r,o,t,i),UA(r,o,t,n,s,i)}}function ZA(e,t,n,i){let r=PT(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=zd(null,e,t,n,i),n=qo(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=zd(r,e,t,n,i),o===null){let l=JA(e,t,i);l!==void 0&&Array.isArray(l)&&(l=zd(null,e,t,l[1],i),l=qo(l,t.attrs,i),XA(e,t,i,l))}else o=eN(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function JA(e,t,n){let i=n?t.classBindings:t.styleBindings;if(Mr(i)!==0)return e[Ti(i)]}function XA(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Ti(r)]=i}function eN(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=qo(i,s,n)}return qo(i,t.attrs,n)}function zd(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=qo(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function qo(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Yh(e,s,n?!0:t[++o]))}return e===void 0?null:e}function tN(e,t,n){if(n==null||n==="")return Je;let i=[],r=Fr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function nN(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Yh(e,i,n)}function iN(e,t,n,i,r,o,s,a){r===Gn&&(r=Je);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&db(e,t,n,i,p,m,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function db(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=BA(c)?Fv(l,t,n,r,Mr(c),s):void 0;if(!kl(u)){kl(o)||VA(c)&&(o=Fv(l,null,n,r,a,s));let d=Cy(Si(),n);zS(i,s,d,r,o)}}function Fv(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===Gn&&(h=d?Je:void 0);let f=d?Pd(h,i):u===i?h:void 0;if(c&&!kl(f)&&(f=Pd(l,i)),kl(f)&&(a=f,s))return a;let p=e[r+1];r=s?Ti(p):Mr(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Pd(l,i))}return a}function kl(e){return e!==void 0}function rN(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Xe(Fr(e)))),e}function hb(e,t){return(e.flags&(t?8:16))!==0}function oN(e,t,n,i,r,o){let s=t.consts,a=yl(s,r),l=Jo(t,e,2,i,a);return F0(t,n,l,yl(s,o)),l.attrs!==null&&Ih(l,l.attrs,!1),l.mergedAttrs!==null&&Ih(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function re(e,t,n,i){let r=X(),o=xe(),s=$t+e,a=r[_e],l=o.firstCreatePass?oN(s,o,r,t,n,i):o.data[s],c=sN(o,r,l,a,t,e);r[s]=c;let u=Jh(l);return Zo(l,!0),I0(a,c,l),!NA(l)&&of()&&_f(o,r,c,l),IT()===0&&Ci(c,r),TT(),u&&(O0(o,r,l),R0(o,l,r)),i!==null&&x0(r,l),re}function ce(){let e=He();Oy()?xy():(e=e.parent,Zo(e,!1));let t=e;MT(t)&&AT(),ST();let n=xe();return n.firstCreatePass&&(af(n,e),vy(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&$T(t)&&Vh(n,t,X(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&HT(t)&&Vh(n,t,X(),t.stylesWithoutHost,!1),ce}function gn(e,t,n,i){return re(e,t,n,i),ce(),gn}var sN=(e,t,n,i,r,o)=>(sf(!0),p0(i,r,VT()));function Xo(){return X()}var Pl="en-US";var aN=Pl;function lN(e){typeof e=="string"&&(aN=e.toLowerCase().replace(/_/g,"-"))}var cN=(e,t,n)=>{};function ze(e,t,n,i){let r=X(),o=xe(),s=He();return fb(o,r,r[_e],s,e,t,i),ze}function uN(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[ml],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function fb(e,t,n,i,r,o,s){let a=Jh(i),c=e.firstCreatePass&&$0(e),u=t[Nt],d=U0(t),h=!0;if(i.type&3||s){let m=yt(i,t),b=s?s(m):m,T=d.length,j=s?ne=>s(Ht(ne[i.index])):i.index,E=null;if(!s&&a&&(E=uN(e,t,r,i.index)),E!==null){let ne=E.__ngLastListenerFn__||E;ne.__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1}else{o=Vv(i,t,u,o),cN(m,r,o);let ne=n.listen(b,r,o);d.push(o,ne),c&&c.push(r,j,T,T+1)}}else o=Vv(i,t,u,o);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let m=p.length;if(m)for(let b=0;b<m;b+=2){let T=p[b],j=p[b+1],fe=t[T][j].subscribe(o),we=d.length;d.push(o,fe),c&&c.push(r,i.index,we,-(we+1))}}}function Lv(e,t,n,i){let r=Y(null);try{return Vt(6,t,n),n(i)!==!1}catch(o){return H0(e,o),!1}finally{Vt(7,t,n),Y(r)}}function Vv(e,t,n,i){return function r(o){if(o===Function)return i;let s=e.componentOffset>-1?$n(e.index,t):t;Df(s,5);let a=Lv(t,n,i,o),l=r.__ngNextListenerFn__;for(;l;)a=Lv(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function mn(e=1){return LT(e)}function dN(e,t){let n=null,i=WI(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?ry(e,o,!0):YI(i,o))return r}return n}function pb(e){let t=X()[_t][et];if(!t.projection){let n=e?e.length:1,i=t.projection=LI(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?dN(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function gb(e,t=0,n,i,r,o){let s=X(),a=xe(),l=i?e+1:null;l!==null&&ob(s,a,l,i,r,o,null,n);let c=Jo(a,$t+e,16,null,n||null);c.projection===null&&(c.projection=t),xy();let d=!s[zo]||Ny();s[_t][et].projection[c.projection]===null&&l!==null?hN(s,a,l):d&&(c.flags&32)!==32&&HS(a,s,c)}function hN(e,t,n){let i=$t+n,r=t.data[i],o=e[i],s=Dh(o,r.tView.ssrId),a=G0(e,r,void 0,{dehydratedView:s});z0(o,a,0,bh(r,s))}function mb(e,t,n){cA(e,t,n)}function Sf(e){let t=X(),n=xe(),i=Fy();ef(i+1);let r=If(n,i);if(e.dirty&&wT(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=hA(t,i);e.reset(o,dS),e.notifyOnChanges()}return!0}return!1}function Mf(){return aA(X(),Fy())}function Ve(e,t=""){let n=X(),i=xe(),r=e+$t,o=i.firstCreatePass?Jo(i,r,1,t,null):i.data[r],s=fN(i,n,o,t,e);n[r]=s,of()&&_f(i,n,s,o),Zo(o,!1)}var fN=(e,t,n,i,r)=>(sf(!0),NS(t[_e],i));function Ur(e){return Wn("",e,""),Ur}function Wn(e,t,n){let i=X(),r=LA(i,e,t,n);return r!==Gn&&vM(i,Si(),r),Wn}function $r(e,t,n){ib(t)&&(t=t());let i=X(),r=Yl();if(Vr(i,r,t)){let o=xe(),s=rf();P0(o,s,i,e,t,i[_e],n,!1)}return $r}function es(e,t){let n=ib(e);return n&&e.set(t),n}function Hr(e,t){let n=X(),i=xe(),r=He();return fb(i,n,n[_e],r,e,t),Hr}function pN(e,t,n){let i=xe();if(i.firstCreatePass){let r=Vn(e);jh(n,i.data,i.blueprint,r,!0),jh(t,i.data,i.blueprint,r,!1)}}function jh(e,t,n,i,r){if(e=$e(e),Array.isArray(e))for(let o=0;o<e.length;o++)jh(e[o],t,n,i,r);else{let o=xe(),s=X(),a=He(),l=Dr(e)?e:$e(e.provide),c=py(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Dr(e)||!e.multi){let f=new wi(c,r,Q),p=Kd(l,t,r?u:u+h,d);p===-1?(lh(Dl(a,s),o,l),Wd(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Kd(l,t,u+h,d),p=Kd(l,t,u,u+h),m=f>=0&&n[f],b=p>=0&&n[p];if(r&&!b||!r&&!m){lh(Dl(a,s),o,l);let T=_N(r?mN:gN,n.length,r,i,c);!r&&b&&(n[p].providerFactory=T),Wd(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=_b(n[r?p:f],c,!r&&i);Wd(o,e,f>-1?f:p,T)}!r&&i&&b&&n[p].componentProviders++}}}function Wd(e,t,n,i){let r=Dr(t),o=sT(t);if(r||o){let l=(o?$e(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function _b(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Kd(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function gN(e,t,n,i){return Bh(this.multi,[])}function mN(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Di(n,n[B],this.providerFactory.index,i);o=a.slice(0,s),Bh(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Bh(r,o);return o}function Bh(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function _N(e,t,n,i,r){let o=new wi(e,n,Q);return o.multi=[],o.index=t,o.componentProviders=0,_b(o,r,i&&!n),o}function sc(e,t=[]){return n=>{n.providersResolver=(i,r)=>pN(i,r?r(e):e,t)}}var vN=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=dy(!1,n.type),r=i.length>0?rc([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(_(Se))})}}return e})();function ts(e){Lr("NgStandalone"),e.getStandaloneInjector=t=>t.get(vN).getOrCreateStandaloneInjector(e)}var ol=null;function yN(e){ol!==null&&(e.defaultEncapsulation!==ol.defaultEncapsulation||e.preserveWhitespaces!==ol.preserveWhitespaces)||(ol=e)}var dn=class{constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},vb=new dn("18.2.9");var ac=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Af=new w(""),ns=new w(""),lc=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Nf||(bN(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static{this.\u0275fac=function(i){return new(i||e)(_(P),_(cc),_(ns))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),cc=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Nf?.findTestabilityInTree(this,n,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function bN(e){Nf=e}var Nf;function Ri(e){return!!e&&typeof e.then=="function"}function yb(e){return!!e&&typeof e.subscribe=="function"}var uc=new w(""),bb=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=g(uc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=r();if(Ri(o))n.push(o);else if(yb(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dc=new w("");function wN(){P_(()=>{throw new I(600,!1)})}function DN(e){return e.isBoundToModule}var CN=10;function EN(e,t,n){try{let i=n();return Ri(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}function wb(e,t){return Array.isArray(t)?t.reduce(wb,e):y(y({},e),t)}var Rt=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(cS),this.afterRenderManager=g(sb),this.zonelessEnabled=g(Ef),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new K,this.afterTick=new K,this.componentTypes=[],this.components=[],this.isStable=g(Hn).hasPendingTasks.pipe(S(n=>!n)),this._injector=g(Se)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof Al;if(!this._injector.get(bb).done){let h=!r&&ay(n),f=!1;throw new I(405,f)}let s;r?s=n:s=this._injector.get(Tr).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=DN(s)?void 0:this._injector.get(Bn),l=i||s.selector,c=s.create(Ie.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(Af,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),dl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new I(101,!1);let n=Y(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Y(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Sr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<CN;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)IN(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Kl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;dl(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(dc,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>dl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dl(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function IN(e,t,n,i){if(!n&&!Kl(e))return;q0(e,t,n&&!i?0:1)}var Uh=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},hc=(()=>{class e{compileModuleSync(n){return new xl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=ly(n),o=f0(r.declarations).reduce((s,a)=>{let l=an(a);return l&&s.push(new Ii(l)),s},[]);return new Uh(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),TN=new w("");function SN(e,t,n){let i=new xl(n);return Promise.resolve(i)}function jv(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var MN=(()=>{class e{constructor(){this.zone=g(P),this.changeDetectionScheduler=g(Ir),this.applicationRef=g(Rt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function AN({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new P(U(y({},Db()),{scheduleInRootZone:n})),[{provide:P,useFactory:e},{provide:wr,multi:!0,useFactory:()=>{let i=g(MN,{optional:!0});return()=>i.initialize()}},{provide:wr,multi:!0,useFactory:()=>{let i=g(NN);return()=>{i.initialize()}}},t===!0?{provide:J0,useValue:!0}:[],{provide:X0,useValue:n??e0}]}function Db(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var NN=(()=>{class e{constructor(){this.subscription=new pe,this.initialized=!1,this.zone=g(P),this.pendingTasks=g(Hn)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{P.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var RN=(()=>{class e{constructor(){this.appRef=g(Rt),this.taskService=g(Hn),this.ngZone=g(P),this.zonelessEnabled=g(Ef),this.disableScheduling=g(J0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(El):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(X0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Il||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Cv:t0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(El+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ON(){return typeof $localize<"u"&&$localize.locale||Pl}var fc=new w("",{providedIn:"root",factory:()=>g(fc,$.Optional|$.SkipSelf)||ON()});var Fl=new w("");function sl(e){return!e.moduleRef}function xN(e){let t=sl(e)?e.r3Injector:e.moduleRef.injector,n=t.get(P);return n.run(()=>{sl(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(cn,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),sl(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Fl);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Fl);s.add(o),e.moduleRef.onDestroy(()=>{dl(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return EN(i,n,()=>{let o=t.get(bb);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(fc,Pl);if(lN(s||Pl),sl(e)){let a=t.get(Rt);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return kN(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function kN(e,t){let n=e.injector.get(Rt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new I(-403,!1);t.push(e)}var Cb=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){let r=i?.scheduleInRootZone,o=()=>lS(i?.ngZone,U(y({},Db({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[AN({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Ir,useExisting:RN}],l=SA(n.moduleType,this.injector,a);return xN({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,i=[]){let r=wb({},i);return SN(this.injector,r,n).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(Fl,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(_(Ie))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Uo=null,Eb=new w("");function PN(e){if(Uo&&!Uo.get(Eb,!1))throw new I(400,!1);wN(),Uo=e;let t=e.get(Cb);return VN(e),t}function Rf(e,t,n=[]){let i=`Platform: ${t}`,r=new w(i);return(o=[])=>{let s=Ib();if(!s||s.injector.get(Eb,!1)){let a=[...n,...o,{provide:r,useValue:!0}];e?e(a):PN(FN(a,i))}return LN(r)}}function FN(e=[],t){return Ie.create({name:t,providers:[{provide:Hl,useValue:"platform"},{provide:Fl,useValue:new Set([()=>Uo=null])},...e]})}function LN(e){let t=Ib();if(!t)throw new I(401,!1);return t}function Ib(){return Uo?.get(Cb)??null}function VN(e){e.get(df,null)?.forEach(n=>n())}function Of(){return!1}var _n=(()=>{class e{static{this.__NG_ELEMENT_ID__=jN}}return e})();function jN(e){return BN(He(),X(),(e&16)===16)}function BN(e,t,n){if(Wl(e)&&!n){let i=$n(e.index,t);return new Ei(i,i)}else if(e.type&175){let i=t[_t];return new Ei(i,t)}return null}var $h=class{constructor(){}supports(t){return rb(t)}create(t){return new Hh(t)}},UN=(e,t)=>t,Hh=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||UN}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<Bv(i,r,o)?n:i,a=Bv(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!rb(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,MA(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new Gh(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ll),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ll),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Gh=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},zh=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Ll=class{constructor(){this.map=new Map}put(t){let n=t.trackById,i=this.map.get(n);i||(i=new zh,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Bv(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function Uv(){return new xf([new $h])}var xf=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:Uv})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Uv()),deps:[[e,new Kh,new Nr]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new I(901,!1)}}return e})();var Tb=Rf(null,"core",[]),Sb=(()=>{class e{constructor(n){}static{this.\u0275fac=function(i){return new(i||e)(_(Rt))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();function Oi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function pc(e,t){Lr("NgSignals");let n=O_(e);return t?.equal&&(n[tn].equal=t.equal),n}function Kn(e){let t=Y(null);try{return e()}finally{Y(t)}}function gc(e,t){let n=an(e),i=t.elementInjector||Gl();return new Ii(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function Mb(e){let t=an(e);if(!t)return null;let n=new Ii(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Ob=null;function zt(){return Ob}function xb(e){Ob??=e}var mc=class{};var be=new w(""),Lf=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(GN),providedIn:"platform"})}}return e})(),kb=new w(""),GN=(()=>{class e extends Lf{constructor(){super(),this._doc=g(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zt().getBaseHref(this._doc)}onPopState(n){let i=zt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=zt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Vf(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Ab(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function vn(e){return e&&e[0]!=="?"?"?"+e:e}var yn=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(jf),providedIn:"root"})}}return e})(),Pb=new w(""),jf=(()=>{class e extends yn{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Vf(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+vn(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(_(Lf),_(Pb,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Fb=(()=>{class e extends yn{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=Vf(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+vn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(_(Lf),_(Pb,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),zr=(()=>{class e{constructor(n){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=KN(Ab(Nb(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+vn(i))}normalize(n){return e.stripTrailingSlash(WN(this._basePath,Nb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vn(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=vn}static{this.joinWithSlash=Vf}static{this.stripTrailingSlash=Ab}static{this.\u0275fac=function(i){return new(i||e)(_(yn))}}static{this.\u0275prov=D({token:e,factory:()=>zN(),providedIn:"root"})}}return e})();function zN(){return new zr(_(yn))}function WN(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Nb(e){return e.replace(/\/index.html$/,"")}function KN(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function _c(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var kf=class{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},vc=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new kf(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),Rb(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);Rb(o,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(Q(zn),Q(jn),Q(xf))}}static{this.\u0275dir=it({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Rb(e,t){e.context.$implicit=t.item}var Lb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),Bf="browser",qN="server";function Vb(e){return e===Bf}function Wr(e){return e===qN}var jb=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>Vb(g(ke))?new Pf(g(be),window):new Ff})}}return e})(),Pf=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=YN(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function YN(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Ff=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},Gr=class{};var rs=class{},wc=class{},bn=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var $f=class{encodeKey(t){return Bb(t)}encodeValue(t){return Bb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function QN(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var ZN=/%(\d[a-f0-9])/gi,JN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bb(e){return encodeURIComponent(e).replace(ZN,(t,n)=>JN[n]??t)}function bc(e){return`${e}`}var Yn=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $f,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=QN(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(bc):[bc(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(bc(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(bc(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Hf=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function XN(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Ub(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function $b(e){return typeof Blob<"u"&&e instanceof Blob}function Hb(e){return typeof FormData<"u"&&e instanceof FormData}function eR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var is=class e{constructor(t,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(XN(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new bn,this.context??=new Hf,!this.params)this.params=new Yn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Ub(this.body)||$b(this.body)||Hb(this.body)||eR(this.body)?this.body:this.body instanceof Yn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Hb(this.body)?null:$b(this.body)?this.body.type||null:Ub(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Yn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new e(n,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Qn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Qn||{}),os=class{constructor(t,n=200,i="OK"){this.headers=t.headers||new bn,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Dc=class e extends os{constructor(t={}){super(t),this.type=Qn.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ss=class e extends os{constructor(t={}){super(t),this.type=Qn.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},qn=class extends os{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Kb=200,tR=204;function Uf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var xi=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof is)o=n;else{let l;r.headers instanceof bn?l=r.headers:l=new bn(r.headers);let c;r.params&&(r.params instanceof Yn?c=r.params:c=new Yn({fromObject:r.params})),o=new is(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=C(o).pipe(on(l=>this.handler.handle(l)));if(n instanceof is||r.observe==="events")return s;let a=s.pipe(me(l=>l instanceof ss));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(S(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(S(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Yn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,Uf(r,i))}post(n,i,r={}){return this.request("POST",n,Uf(r,i))}put(n,i,r={}){return this.request("PUT",n,Uf(r,i))}static{this.\u0275fac=function(i){return new(i||e)(_(rs))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),nR=/^\)\]\}',?\n/,iR="X-Request-URL";function Gb(e){if(e.url)return e.url;let t=iR.toLocaleLowerCase();return e.headers.get(t)}var rR=(()=>{class e{constructor(){this.fetchImpl=g(Gf,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=g(P)}handle(n){return new N(i=>{let r=new AbortController;return this.doRequest(n,r.signal,i).then(zf,o=>i.error(new qn({error:o}))),()=>r.abort()})}doRequest(n,i,r){return Ye(this,null,function*(){let o=this.createRequestInit(n),s;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,y({signal:i},o)));oR(f),r.next({type:Qn.Sent}),s=yield f}catch(f){r.error(new qn({error:f,status:f.status??0,statusText:f.statusText,url:n.urlWithParams,headers:f.headers}));return}let a=new bn(s.headers),l=s.statusText,c=Gb(s)??n.urlWithParams,u=s.status,d=null;if(n.reportProgress&&r.next(new Dc({headers:a,status:u,statusText:l,url:c})),s.body){let f=s.headers.get("content-length"),p=[],m=s.body.getReader(),b=0,T,j,E=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Ye(this,null,function*(){for(;;){let{done:fe,value:we}=yield m.read();if(fe)break;if(p.push(we),b+=we.length,n.reportProgress){j=n.responseType==="text"?(j??"")+(T??=new TextDecoder).decode(we,{stream:!0}):void 0;let Xt=()=>r.next({type:Qn.DownloadProgress,total:f?+f:void 0,loaded:b,partialText:j});E?E.run(Xt):Xt()}}}));let ne=this.concatChunks(p,b);try{let fe=s.headers.get("Content-Type")??"";d=this.parseBody(n,ne,fe)}catch(fe){r.error(new qn({error:fe,headers:new bn(s.headers),status:s.status,statusText:s.statusText,url:Gb(s)??n.urlWithParams}));return}}u===0&&(u=d?Kb:0),u>=200&&u<300?(r.next(new ss({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new qn({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(n,i,r){switch(n.responseType){case"json":let o=new TextDecoder().decode(i).replace(nR,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>i[o]=s.join(",")),n.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:r}}concatChunks(n,i){let r=new Uint8Array(i),o=0;for(let s of n)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Gf=class{};function zf(){}function oR(e){e.then(zf,zf)}function sR(e,t){return t(e)}function aR(e,t,n){return(i,r)=>vt(n,()=>t(i,o=>e(o,r)))}var qb=new w(""),lR=new w(""),cR=new w("",{providedIn:"root",factory:()=>!0});var zb=(()=>{class e extends rs{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=g(Hn),this.contributeToStability=g(cR)}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(qb),...this.injector.get(lR,[])]));this.chain=i.reduceRight((r,o)=>aR(r,o,this.injector),sR)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(xn(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||e)(_(wc),_(Se))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();var uR=/^\)\]\}',?\n/;function dR(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var Wb=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new I(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ee(i.\u0275loadImpl()):C(null)).pipe(ie(()=>new N(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((m,b)=>s.setRequestHeader(m,b.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let m=n.detectContentTypeHeader();m!==null&&s.setRequestHeader("Content-Type",m)}if(n.responseType){let m=n.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=s.statusText||"OK",b=new bn(s.getAllResponseHeaders()),T=dR(s)||n.url;return l=new Dc({headers:b,status:s.status,statusText:m,url:T}),l},u=()=>{let{headers:m,status:b,statusText:T,url:j}=c(),E=null;b!==tR&&(E=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=E?Kb:0);let ne=b>=200&&b<300;if(n.responseType==="json"&&typeof E=="string"){let fe=E;E=E.replace(uR,"");try{E=E!==""?JSON.parse(E):null}catch(we){E=fe,ne&&(ne=!1,E={error:we,text:E})}}ne?(o.next(new ss({body:E,headers:m,status:b,statusText:T,url:j||void 0})),o.complete()):o.error(new qn({error:E,headers:m,status:b,statusText:T,url:j||void 0}))},d=m=>{let{url:b}=c(),T=new qn({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(T)},h=!1,f=m=>{h||(o.next(c()),h=!0);let b={type:Qn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(b.total=m.total),n.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),o.next(b)},p=m=>{let b={type:Qn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(b.total=m.total),o.next(b)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Qn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||e)(_(Gr))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Yb=new w(""),hR="XSRF-TOKEN",fR=new w("",{providedIn:"root",factory:()=>hR}),pR="X-XSRF-TOKEN",gR=new w("",{providedIn:"root",factory:()=>pR}),Cc=class{},mR=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=_c(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||e)(_(be),_(ke),_(fR))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function _R(e,t){let n=e.url.toLowerCase();if(!g(Yb)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=g(Cc).getToken(),r=g(gR);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}function Qb(...e){let t=[xi,Wb,zb,{provide:rs,useExisting:zb},{provide:wc,useFactory:()=>g(rR,{optional:!0})??g(Wb)},{provide:qb,useValue:_R,multi:!0},{provide:Yb,useValue:!0},{provide:Cc,useClass:mR}];for(let n of e)t.push(...n.\u0275providers);return $l(t)}var Yf=class extends mc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Qf=class e extends Yf{static makeCurrent(){xb(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=vR();return n==null?null:yR(n)}resetBaseElement(){as=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return _c(document.cookie,t)}},as=null;function vR(){return as=as||document.querySelector("base"),as?as.getAttribute("href"):null}function yR(e){return new URL(e,document.baseURI).pathname}var Zf=class{addToWindow(t){At.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new I(5103,!1);return o},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=At.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?zt().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},bR=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Jf=new w(""),ew=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||e)(_(Jf),_(P))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Ec=class{constructor(t){this._doc=t}},Kf="ng-app-id",tw=(()=>{class e{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wr(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Kf}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(Kf),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Kf,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(_(be),_(Jl),_(hf,8),_(ke))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),qf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ep=/%COMP%/g,nw="%COMP%",wR=`_nghost-${nw}`,DR=`_ngcontent-${nw}`,CR=!0,ER=new w("",{providedIn:"root",factory:()=>CR});function IR(e){return DR.replace(ep,e)}function TR(e){return wR.replace(ep,e)}function iw(e,t){return t.map(n=>n.replace(ep,e))}var Zb=(()=>{class e{constructor(n,i,r,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Wr(a),this.defaultRenderer=new ls(n,s,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Bt.ShadowDom&&(i=U(y({},i),{encapsulation:Bt.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Ic?r.applyToHost(n):r instanceof cs&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Bt.Emulated:o=new Ic(l,c,i,this.appId,u,s,a,d);break;case Bt.ShadowDom:return new Xf(l,c,n,i,s,a,this.nonce,d);default:o=new cs(l,c,i,u,s,a,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(_(ew),_(tw),_(Jl),_(ER),_(be),_(ke),_(P),_(hf))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),ls=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(qf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Jb(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(Jb(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new I(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=qf[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=qf[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(un.DashCase|un.Important)?t.style.setProperty(n,i,r&un.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&un.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=zt().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Jb(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Xf=class extends ls{constructor(t,n,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=iw(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cs=class extends ls{constructor(t,n,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?iw(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ic=class extends cs{constructor(t,n,i,r,o,s,a,l){let c=r+"-"+i.id;super(t,n,i,o,s,a,l,c),this.contentAttr=IR(c),this.hostAttr=TR(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},SR=(()=>{class e extends Ec{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(_(be))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Xb=["alt","control","meta","shift"],MR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},NR=(()=>{class e extends Ec{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r){let o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zt().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Xb.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=MR[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Xb.forEach(s=>{if(s!==r){let a=AR[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||e)(_(be))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function RR(){Qf.makeCurrent()}function OR(){return new cn}function xR(){return l0(document),document}var kR=[{provide:ke,useValue:Bf},{provide:df,useValue:RR,multi:!0},{provide:be,useFactory:xR,deps:[]}],rw=Rf(Tb,"browser",kR),PR=new w(""),FR=[{provide:ns,useClass:Zf,deps:[]},{provide:Af,useClass:lc,deps:[P,cc,ns]},{provide:lc,useClass:lc,deps:[P,cc,ns]}],LR=[{provide:Hl,useValue:"root"},{provide:cn,useFactory:OR,deps:[]},{provide:Jf,useClass:SR,multi:!0,deps:[be,P,ke]},{provide:Jf,useClass:NR,multi:!0,deps:[be]},Zb,tw,ew,{provide:Sr,useExisting:Zb},{provide:Gr,useClass:bR,deps:[]},[]],ow=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Jl,useValue:n.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(_(PR,12))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({providers:[...LR,...FR],imports:[Lb,Sb]})}}return e})();var sw=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||e)(_(be))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var V="primary",Cs=Symbol("RouteTitle"),op=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Jr(e){return new op(e)}function jR(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function BR(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Wt(e[n],t[n]))return!1;return!0}function Wt(e,t){let n=e?sp(e):void 0,i=t?sp(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!vw(e[r],t[r]))return!1;return!0}function sp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function vw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function yw(e){return e.length>0?e[e.length-1]:null}function Xn(e){return Td(e)?e:Ri(e)?ee(Promise.resolve(e)):C(e)}var UR={exact:ww,subset:Dw},bw={exact:$R,subset:HR,ignored:()=>!0};function lw(e,t,n){return UR[n.paths](e.root,t.root,n.matrixParams)&&bw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function $R(e,t){return Wt(e,t)}function ww(e,t,n){if(!Pi(e.segments,t.segments)||!Mc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!ww(e.children[i],t.children[i],n))return!1;return!0}function HR(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>vw(e[n],t[n]))}function Dw(e,t,n){return Cw(e,t,t.segments,n)}function Cw(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Pi(r,n)||t.hasChildren()||!Mc(r,n,i))}else if(e.segments.length===n.length){if(!Pi(e.segments,n)||!Mc(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!Dw(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Pi(e.segments,r)||!Mc(e.segments,r,i)||!e.children[V]?!1:Cw(e.children[V],t,o,i)}}function Mc(e,t,n){return t.every((i,r)=>bw[n](e[r].parameters,i.parameters))}var Dn=class{constructor(t=new te([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Jr(this.queryParams),this._queryParamMap}toString(){return WR.serialize(this)}},te=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ac(this)}},ki=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Jr(this.parameters),this._parameterMap}toString(){return Iw(this)}};function GR(e,t){return Pi(e,t)&&e.every((n,i)=>Wt(n.parameters,t[i].parameters))}function Pi(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function zR(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===V&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==V&&(n=n.concat(t(r,i)))}),n}var Es=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>new Xr,providedIn:"root"})}}return e})(),Xr=class{parse(t){let n=new lp(t);return new Dn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${us(t.root,!0)}`,i=YR(t.queryParams),r=typeof t.fragment=="string"?`#${KR(t.fragment)}`:"";return`${n}${i}${r}`}},WR=new Xr;function Ac(e){return e.segments.map(t=>Iw(t)).join("/")}function us(e,t){if(!e.hasChildren())return Ac(e);if(t){let n=e.children[V]?us(e.children[V],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==V&&i.push(`${r}:${us(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=zR(e,(i,r)=>r===V?[us(e.children[V],!1)]:[`${r}:${us(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[V]!=null?`${Ac(e)}/${n[0]}`:`${Ac(e)}/(${n.join("//")})`}}function Ew(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tc(e){return Ew(e).replace(/%3B/gi,";")}function KR(e){return encodeURI(e)}function ap(e){return Ew(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nc(e){return decodeURIComponent(e)}function cw(e){return Nc(e.replace(/\+/g,"%20"))}function Iw(e){return`${ap(e.path)}${qR(e.parameters)}`}function qR(e){return Object.entries(e).map(([t,n])=>`;${ap(t)}=${ap(n)}`).join("")}function YR(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Tc(n)}=${Tc(r)}`).join("&"):`${Tc(n)}=${Tc(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var QR=/^[^\/()?;#]+/;function tp(e){let t=e.match(QR);return t?t[0]:""}var ZR=/^[^\/()?;=#]+/;function JR(e){let t=e.match(ZR);return t?t[0]:""}var XR=/^[^=?&#]+/;function eO(e){let t=e.match(XR);return t?t[0]:""}var tO=/^[^&#]+/;function nO(e){let t=e.match(tO);return t?t[0]:""}var lp=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[V]=new te(t,n)),i}parseSegment(){let t=tp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(t),new ki(Nc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=JR(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=tp(this.remaining);r&&(i=r,this.capture(i))}t[Nc(n)]=Nc(i)}parseQueryParam(t){let n=eO(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=nO(this.remaining);s&&(i=s,this.capture(i))}let r=cw(n),o=cw(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=tp(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new I(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new te([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new I(4011,!1)}};function Tw(e){return e.segments.length>0?new te([],{[V]:e}):e}function Sw(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=Sw(r);if(i===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new te(e.segments,t);return iO(n)}function iO(e){if(e.numberOfChildren===1&&e.children[V]){let t=e.children[V];return new te(e.segments.concat(t.segments),t.children)}return e}function Fi(e){return e instanceof Dn}function rO(e,t,n=null,i=null){let r=Mw(e);return Aw(r,t,n,i)}function Mw(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new te(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=Tw(i);return t??r}function Aw(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return np(r,r,r,n,i);let o=oO(t);if(o.toRoot())return np(r,r,new te([],{}),n,i);let s=sO(o,r,e),a=s.processChildren?fs(s.segmentGroup,s.index,o.commands):Rw(s.segmentGroup,s.index,o.commands);return np(r,s.segmentGroup,a,n,i)}function Rc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ms(e){return typeof e=="object"&&e!=null&&e.outlets}function np(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=Nw(e,t,n);let a=Tw(Sw(s));return new Dn(a,o,r)}function Nw(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=Nw(o,t,n)}),new te(e.segments,i)}var Oc=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Rc(i[0]))throw new I(4003,!1);let r=i.find(ms);if(r&&r!==yw(i))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oO(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Oc(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Oc(n,t,i)}var Yr=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function sO(e,t,n){if(e.isAbsolute)return new Yr(t,!0,0);if(!n)return new Yr(t,!1,NaN);if(n.parent===null)return new Yr(n,!0,0);let i=Rc(e.commands[0])?0:1,r=n.segments.length-1+i;return aO(n,r,e.numberOfDoubleDots)}function aO(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new I(4005,!1);r=i.segments.length}return new Yr(i,!1,r-o)}function lO(e){return ms(e[0])?e[0].outlets:{[V]:e}}function Rw(e,t,n){if(e??=new te([],{}),e.segments.length===0&&e.hasChildren())return fs(e,t,n);let i=cO(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new te(e.segments.slice(0,i.pathIndex),{});return o.children[V]=new te(e.segments.slice(i.pathIndex),e.children),fs(o,0,r)}else return i.match&&r.length===0?new te(e.segments,{}):i.match&&!e.hasChildren()?cp(e,t,n):i.match?fs(e,0,r):cp(e,t,n)}function fs(e,t,n){if(n.length===0)return new te(e.segments,{});{let i=lO(n),r={};if(Object.keys(i).some(o=>o!==V)&&e.children[V]&&e.numberOfChildren===1&&e.children[V].segments.length===0){let o=fs(e.children[V],t,n);return new te(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Rw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new te(e.segments,r)}}function cO(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(ms(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!dw(l,c,s))return o;i+=2}else{if(!dw(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function cp(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(ms(o)){let l=uO(o.outlets);return new te(i,l)}if(r===0&&Rc(n[0])){let l=e.segments[t];i.push(new ki(l.path,uw(n[0]))),r++;continue}let s=ms(o)?o.outlets[V]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Rc(a)?(i.push(new ki(s,uw(a))),r+=2):(i.push(new ki(s,{})),r++)}return new te(i,{})}function uO(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=cp(new te([],{}),0,i))}),t}function uw(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function dw(e,t,n){return e==n.path&&Wt(t,n.parameters)}var ps="imperative",Ae=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ae||{}),bt=class{constructor(t,n){this.id=t,this.url=n}},eo=class extends bt{constructor(t,n,i="imperative",r=null){super(t,n),this.type=Ae.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kt=class extends bt{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Ae.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ot=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ot||{}),xc=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(xc||{}),wn=class extends bt{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Ae.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zn=class extends bt{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Ae.NavigationSkipped}},_s=class extends bt{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=Ae.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kc=class extends bt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ae.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},up=class extends bt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ae.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dp=class extends bt{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ae.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hp=class extends bt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ae.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fp=class extends bt{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Ae.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pp=class{constructor(t){this.route=t,this.type=Ae.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gp=class{constructor(t){this.route=t,this.type=Ae.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mp=class{constructor(t){this.snapshot=t,this.type=Ae.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_p=class{constructor(t){this.snapshot=t,this.type=Ae.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{constructor(t){this.snapshot=t,this.type=Ae.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yp=class{constructor(t){this.snapshot=t,this.type=Ae.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pc=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=Ae.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},vs=class{},to=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function dO(e,t){return e.providers&&!e._injector&&(e._injector=rc(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Ot(e){return e.outlet||V}function hO(e,t){let n=e.filter(i=>Ot(i)===t);return n.push(...e.filter(i=>Ot(i)!==t)),n}function Is(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var bp=class{get injector(){return Is(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Ts(this.rootInjector),this.attachRef=null}},Ts=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new bp(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||e)(_(Se))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Fc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=wp(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=wp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Dp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Dp(t,this._root).map(n=>n.value)}};function wp(e,t){if(e===t.value)return t;for(let n of t.children){let i=wp(e,n);if(i)return i}return null}function Dp(e,t){if(e===t.value)return[t];for(let n of t.children){let i=Dp(e,n);if(i.length)return i.unshift(t),i}return[]}var rt=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function qr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Lc=class extends Fc{constructor(t,n){super(t),this.snapshot=n,Rp(this,t)}toString(){return this.snapshot.toString()}};function Ow(e){let t=fO(e),n=new ye([new ki("",{})]),i=new ye({}),r=new ye({}),o=new ye({}),s=new ye(""),a=new Li(n,i,o,s,r,V,e,t.root);return a.snapshot=t.root,new Lc(new rt(a,[]),t)}function fO(e){let t={},n={},i={},r="",o=new Qr([],t,i,r,n,V,e,null,{});return new jc("",new rt(o,[]))}var Li=class{constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(S(c=>c[Cs]))??C(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(t=>Jr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(t=>Jr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vc(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:y(y({},t.params),e.params),data:y(y({},t.data),e.data),resolve:y(y(y(y({},e.data),t.data),r?.data),e._resolvedData)}:i={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},r&&kw(r)&&(i.resolve[Cs]=r.title),i}var Qr=class{get title(){return this.data?.[Cs]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},jc=class extends Fc{constructor(t,n){super(n),this.url=t,Rp(this,n)}toString(){return xw(this._root)}};function Rp(e,t){t.value._routerState=e,t.children.forEach(n=>Rp(e,n))}function xw(e){let t=e.children.length>0?` { ${e.children.map(xw).join(", ")} } `:"";return`${e.value}${t}`}function ip(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Wt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Wt(t.params,n.params)||e.paramsSubject.next(n.params),BR(t.url,n.url)||e.urlSubject.next(n.url),Wt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Cp(e,t){let n=Wt(e.params,t.params)&&GR(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||Cp(e.parent,t.parent))}function kw(e){return typeof e.title=="string"||e.title===null}var Op=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=g(Ts),this.location=g(zn),this.changeDetector=g(_n),this.inputBinder=g(Gc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ep(n,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=it({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]})}}return e})(),Ep=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Li?this.route:t===Ts?this.childContexts:this.parent.get(t,n)}},Gc=new w(""),hw=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=ur([i.queryParams,i.params,i.data]).pipe(ie(([o,s,a],l)=>(a=y(y(y({},o),s),a),l===0?C(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=Mb(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function pO(e,t,n){let i=ys(e,t._root,n?n._root:void 0);return new Lc(i,t)}function ys(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=gO(e,t,n);return new rt(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ys(e,a)),s}}let i=mO(t.value),r=t.children.map(o=>ys(e,o));return new rt(i,r)}}function gO(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return ys(e,i,r);return ys(e,i)})}function mO(e){return new Li(new ye(e.url),new ye(e.params),new ye(e.queryParams),new ye(e.fragment),new ye(e.data),e.outlet,e.component,e)}var bs=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Pw="ngNavigationCancelingError";function Bc(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=Fi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Fw(!1,ot.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Fw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Pw]=!0,n.cancellationCode=t,n}function _O(e){return Lw(e)&&Fi(e.url)}function Lw(e){return!!e&&e[Pw]}var vO=(e,t,n,i)=>S(r=>(new Ip(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),Ip=class{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),ip(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=qr(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=qr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=qr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=qr(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new yp(o.value.snapshot))}),t.children.length&&this.forwardEvent(new _p(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(ip(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ip(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Uc=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Zr=class{constructor(t,n){this.component=t,this.route=n}};function yO(e,t,n){let i=e._root,r=t?t._root:null;return ds(i,r,n,[i.value])}function bO(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function io(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!zv(e)?e:t.get(e):i}function ds(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=qr(t);return e.children.forEach(s=>{wO(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gs(a,n.getContext(s),r)),r}function wO(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=DO(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Uc(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ds(e,t,a?a.children:null,i,r):ds(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Zr(a.outlet.component,s))}else s&&gs(t,a,r),r.canActivateChecks.push(new Uc(i)),o.component?ds(e,null,a?a.children:null,i,r):ds(e,null,n,i,r);return r}function DO(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Pi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Pi(e.url,t.url)||!Wt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cp(e,t)||!Wt(e.queryParams,t.queryParams);case"paramsChange":default:return!Cp(e,t)}}function gs(e,t,n){let i=qr(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?gs(s,t.children.getContext(o),n):gs(s,null,n):gs(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Zr(t.outlet.component,r)):n.canDeactivateChecks.push(new Zr(null,r)):n.canDeactivateChecks.push(new Zr(null,r))}function Ss(e){return typeof e=="function"}function CO(e){return typeof e=="boolean"}function EO(e){return e&&Ss(e.canLoad)}function IO(e){return e&&Ss(e.canActivate)}function TO(e){return e&&Ss(e.canActivateChild)}function SO(e){return e&&Ss(e.canDeactivate)}function MO(e){return e&&Ss(e.canMatch)}function Vw(e){return e instanceof rn||e?.name==="EmptyError"}var Sc=Symbol("INITIAL_VALUE");function no(){return ie(e=>ur(e.map(t=>t.pipe(ft(1),Xa(Sc)))).pipe(S(t=>{for(let n of t)if(n!==!0){if(n===Sc)return Sc;if(n===!1||AO(n))return n}return!0}),me(t=>t!==Sc),ft(1)))}function AO(e){return Fi(e)||e instanceof bs}function NO(e,t){return de(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?C(U(y({},n),{guardsResult:!0})):RO(s,i,r,e).pipe(de(a=>a&&CO(a)?OO(i,o,e,t):C(a)),S(a=>U(y({},n),{guardsResult:a})))})}function RO(e,t,n,i){return ee(e).pipe(de(r=>LO(r.component,r.route,n,t,i)),pt(r=>r!==!0,!0))}function OO(e,t,n,i){return ee(t).pipe(on(r=>Nn(kO(r.route.parent,i),xO(r.route,i),FO(e,r.path,n),PO(e,r.route,n))),pt(r=>r!==!0,!0))}function xO(e,t){return e!==null&&t&&t(new vp(e)),C(!0)}function kO(e,t){return e!==null&&t&&t(new mp(e)),C(!0)}function PO(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return C(!0);let r=i.map(o=>qa(()=>{let s=Is(t)??n,a=io(o,s),l=IO(a)?a.canActivate(t,e):vt(s,()=>a(t,e));return Xn(l).pipe(pt())}));return C(r).pipe(no())}function FO(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>bO(s)).filter(s=>s!==null).map(s=>qa(()=>{let a=s.guards.map(l=>{let c=Is(s.node)??n,u=io(l,c),d=TO(u)?u.canActivateChild(i,e):vt(c,()=>u(i,e));return Xn(d).pipe(pt())});return C(a).pipe(no())}));return C(o).pipe(no())}function LO(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return C(!0);let s=o.map(a=>{let l=Is(t)??r,c=io(a,l),u=SO(c)?c.canDeactivate(e,t,n,i):vt(l,()=>c(e,t,n,i));return Xn(u).pipe(pt())});return C(s).pipe(no())}function VO(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return C(!0);let o=r.map(s=>{let a=io(s,e),l=EO(a)?a.canLoad(t,n):vt(e,()=>a(t,n));return Xn(l)});return C(o).pipe(no(),jw(i))}function jw(e){return yd(ge(t=>{if(typeof t!="boolean")throw Bc(e,t)}),S(t=>t===!0))}function jO(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return C(!0);let o=r.map(s=>{let a=io(s,e),l=MO(a)?a.canMatch(t,n):vt(e,()=>a(t,n));return Xn(l)});return C(o).pipe(no(),jw(i))}var ws=class{constructor(t){this.segmentGroup=t||null}},Ds=class extends Error{constructor(t){super(),this.urlTree=t}};function Kr(e){return lr(new ws(e))}function BO(e){return lr(new I(4e3,!1))}function UO(e){return lr(Fw(!1,ot.GuardRejected))}var Tp=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return C(i);if(r.numberOfChildren>1||!r.children[V])return BO(`${t.redirectTo}`);r=r.children[V]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=r,b=vt(o,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(b instanceof Dn)throw new Ds(b);n=b}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new Ds(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new Dn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new te(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new I(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},Sp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $O(e,t,n,i,r){let o=Bw(e,t,n);return o.matched?(i=dO(t,i),jO(i,t,n,r).pipe(S(s=>s===!0?o:y({},Sp)))):C(o)}function Bw(e,t,n){if(t.path==="**")return HO(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?y({},Sp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||jR)(n,e,t);if(!r)return y({},Sp);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?y(y({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function HO(e){return{matched:!0,parameters:e.length>0?yw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function fw(e,t,n,i){return n.length>0&&WO(e,n,i)?{segmentGroup:new te(t,zO(i,new te(n,e.children))),slicedSegments:[]}:n.length===0&&KO(e,n,i)?{segmentGroup:new te(e.segments,GO(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new te(e.segments,e.children),slicedSegments:n}}function GO(e,t,n,i){let r={};for(let o of n)if(zc(e,t,o)&&!i[Ot(o)]){let s=new te([],{});r[Ot(o)]=s}return y(y({},i),r)}function zO(e,t){let n={};n[V]=t;for(let i of e)if(i.path===""&&Ot(i)!==V){let r=new te([],{});n[Ot(i)]=r}return n}function WO(e,t,n){return n.some(i=>zc(e,t,i)&&Ot(i)!==V)}function KO(e,t,n){return n.some(i=>zc(e,t,i))}function zc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function qO(e,t,n){return t.length===0&&!e.children[n]}var Mp=class{};function YO(e,t,n,i,r,o,s="emptyOnly"){return new Ap(e,t,n,i,r,s,o).recognize()}var QO=31,Ap=class{constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Tp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new I(4002,`'${t.segmentGroup}'`)}recognize(){let t=fw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(S(({children:n,rootSnapshot:i})=>{let r=new rt(i,n),o=new jc("",r),s=rO(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Qr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,V,n).pipe(S(i=>({children:i,rootSnapshot:n})),Rn(i=>{if(i instanceof Ds)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ws?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(S(s=>s instanceof rt?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ee(o).pipe(on(s=>{let a=i.children[s],l=hO(n,s);return this.processSegmentGroup(t,l,a,s,r)}),hr((s,a)=>(s.push(...a),s)),On(null),Od(),de(s=>{if(s===null)return Kr(i);let a=Uw(s);return ZO(a),C(a)}))}processSegment(t,n,i,r,o,s,a){return ee(n).pipe(on(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(Rn(c=>{if(c instanceof ws)return C(null);throw c}))),pt(l=>!!l),Rn(l=>{if(Vw(l))return qO(i,r,o)?C(new Mp):Kr(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return Ot(i)!==s&&(s===V||!zc(r,o,i))?Kr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):Kr(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Bw(n,r,o);if(!l)return Kr(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QO&&(this.allowRedirects=!1));let f=new Qr(o,c,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,pw(r),Ot(r),r.component??r._loadedComponent??null,r,gw(r)),p=Vc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(r,m).pipe(de(b=>this.processSegment(t,i,n,b.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=$O(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(ie(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(ie(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new Qr(h,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,pw(i),Ot(i),i.component??i._loadedComponent??null,i,gw(i)),m=Vc(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:b,slicedSegments:T}=fw(n,h,f,c);if(T.length===0&&b.hasChildren())return this.processChildren(u,c,b,p).pipe(S(E=>new rt(p,E)));if(c.length===0&&T.length===0)return C(new rt(p,[]));let j=Ot(i)===o;return this.processSegment(u,c,b,T,j?V:o,!0,p).pipe(S(E=>new rt(p,E instanceof rt?[E]:[])))}))):Kr(n)))}getChildConfig(t,n,i){return n.children?C({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?C({routes:n._loadedRoutes,injector:n._loadedInjector}):VO(t,n,i,this.urlSerializer).pipe(de(r=>r?this.configLoader.loadChildren(t,n).pipe(ge(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):UO(n))):C({routes:[],injector:t})}};function ZO(e){e.sort((t,n)=>t.value.outlet===V?-1:n.value.outlet===V?1:t.value.outlet.localeCompare(n.value.outlet))}function JO(e){let t=e.value.routeConfig;return t&&t.path===""}function Uw(e){let t=[],n=new Set;for(let i of e){if(!JO(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=Uw(i.children);t.push(new rt(i.value,r))}return t.filter(i=>!n.has(i))}function pw(e){return e.data||{}}function gw(e){return e.resolve||{}}function XO(e,t,n,i,r,o){return de(s=>YO(e,t,n,i,s.extractedUrl,r,o).pipe(S(({state:a,tree:l})=>U(y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function ex(e,t){return de(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return C(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of $w(l))s.add(c);let a=0;return ee(s).pipe(on(l=>o.has(l)?tx(l,i,e,t):(l.data=Vc(l,l.parent,e).resolve,C(void 0))),ge(()=>a++),dr(1),de(l=>a===s.size?C(n):Ee))})}function $w(e){let t=e.children.map(n=>$w(n)).flat();return[e,...t]}function tx(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!kw(r)&&(o[Cs]=r.title),nx(o,e,t,i).pipe(S(s=>(e._resolvedData=s,e.data=Vc(e,e.parent,n).resolve,null)))}function nx(e,t,n,i){let r=sp(e);if(r.length===0)return C({});let o={};return ee(r).pipe(de(s=>ix(e[s],t,n,i).pipe(pt(),ge(a=>{if(a instanceof bs)throw Bc(new Xr,a);o[s]=a}))),dr(1),Nd(o),Rn(s=>Vw(s)?Ee:lr(s)))}function ix(e,t,n,i){let r=Is(t)??i,o=io(e,r),s=o.resolve?o.resolve(t,n):vt(r,()=>o(t,n));return Xn(s)}function rp(e){return ie(t=>{let n=e(t);return n?ee(n).pipe(S(()=>t)):C(t)})}var Hw=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===V);return i}getResolvedTitleForRoute(n){return n.data[Cs]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(rx),providedIn:"root"})}}return e})(),rx=(()=>{class e extends Hw{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(_(sw))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ms=new w("",{providedIn:"root",factory:()=>({})}),ox=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=nt({type:e,selectors:[["ng-component"]],standalone:!0,features:[ts],decls:1,vars:0,template:function(i,r){i&1&&gn(0,"router-outlet")},dependencies:[Op],encapsulation:2})}}return e})();function xp(e){let t=e.children&&e.children.map(xp),n=t?U(y({},e),{children:t}):y({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=ox),n}var $c=new w(""),kp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(hc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return C(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Xn(n.loadComponent()).pipe(S(Gw),ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),xn(()=>{this.componentLoaders.delete(n)})),r=new nr(i,()=>new K).pipe(tr());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return C({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=sx(i,this.compiler,n,this.onLoadEndListener).pipe(xn(()=>{this.childrenLoaders.delete(i)})),s=new nr(o,()=>new K).pipe(tr());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sx(e,t,n,i){return Xn(e.loadChildren()).pipe(S(Gw),de(r=>r instanceof Ko||Array.isArray(r)?C(r):ee(t.compileModuleAsync(r))),S(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get($c,[],{optional:!0,self:!0}).flat()),{routes:s.map(xp),injector:o}}))}function ax(e){return e&&typeof e=="object"&&"default"in e}function Gw(e){return ax(e)?e.default:e}var Pp=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(lx),providedIn:"root"})}}return e})(),lx=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zw=new w(""),Ww=new w("");function cx(e,t,n){let i=e.get(Ww),r=e.get(be);return e.get(P).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),ux(e))),{onViewTransitionCreated:l}=i;return l&&vt(e,()=>l({transition:a,from:t,to:n})),s})}function ux(e){return new Promise(t=>{jr({read:()=>setTimeout(t)},{injector:e})})}var dx=new w(""),Fp=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new K,this.transitionAbortSubject=new K,this.configLoader=g(kp),this.environmentInjector=g(Se),this.urlSerializer=g(Es),this.rootContexts=g(Ts),this.location=g(zr),this.inputBindingEnabled=g(Gc,{optional:!0})!==null,this.titleStrategy=g(Hw),this.options=g(Ms,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Pp),this.createViewTransition=g(zw,{optional:!0}),this.navigationErrorHandler=g(dx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>C(void 0),this.rootComponentType=null;let n=r=>this.events.next(new pp(r)),i=r=>this.events.next(new gp(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(U(y(y({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ps,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(me(o=>o.id!==0),S(o=>U(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ie(o=>{let s=!1,a=!1;return C(o).pipe(ie(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ot.SupersededByNewNavigation),Ee;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?U(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Zn(l.id,this.urlSerializer.serialize(l.rawUrl),d,xc.IgnoredSameUrlNavigation)),l.resolve(!1),Ee}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return C(l).pipe(ie(d=>{let h=this.transitions?.getValue();return this.events.next(new eo(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Ee:Promise.resolve(d)}),XO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ge(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=U(y({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new kc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=l,b=new eo(d,this.urlSerializer.serialize(h),f,p);this.events.next(b);let T=Ow(this.rootComponentType).snapshot;return this.currentTransition=o=U(y({},l),{targetSnapshot:T,urlAfterRedirects:h,extras:U(y({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,C(o)}else{let d="";return this.events.next(new Zn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,xc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ee}}),ge(l=>{let c=new up(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),S(l=>(this.currentTransition=o=U(y({},l),{guards:yO(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),NO(this.environmentInjector,l=>this.events.next(l)),ge(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Bc(this.urlSerializer,l.guardsResult);let c=new dp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),me(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ot.GuardRejected),!1)),rp(l=>{if(l.guards.canActivateChecks.length)return C(l).pipe(ge(c=>{let u=new hp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ie(c=>{let u=!1;return C(c).pipe(ex(this.paramsInheritanceStrategy,this.environmentInjector),ge({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ot.NoDataFromResolver)}}))}),ge(c=>{let u=new fp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),rp(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ge(h=>{u.component=h}),S(()=>{})));for(let h of u.children)d.push(...c(h));return d};return ur(c(l.targetSnapshot.root)).pipe(On(null),ft(1))}),rp(()=>this.afterPreactivation()),ie(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ee(u).pipe(S(()=>o)):C(o)}),S(l=>{let c=pO(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=U(y({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),ge(()=>{this.events.next(new vs)}),vO(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ft(1),ge({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Fe(this.transitionAbortSubject.pipe(ge(l=>{throw l}))),xn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ot.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rn(l=>{if(a=!0,Lw(l))this.events.next(new wn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),_O(l)?this.events.next(new to(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new _s(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=vt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof bs){let{message:d,cancellationCode:h}=Bc(this.urlSerializer,u);this.events.next(new wn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new to(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let d=n.errorHandler(l);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ee}))}))}cancelNavigationTransition(n,i,r){let o=new wn(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function hx(e){return e!==ps}var fx=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(px),providedIn:"root"})}}return e})(),Np=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},px=(()=>{class e extends Np{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=kr(e)))(r||e)}})()}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Kw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(gx),providedIn:"root"})}}return e})(),gx=(()=>{class e extends Kw{constructor(){super(...arguments),this.location=g(zr),this.urlSerializer=g(Es),this.options=g(Ms,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Pp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ow(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof eo)this.stateMemento=this.createStateMemento();else if(n instanceof Zn)this.rawUrlTree=i.initialUrl;else if(n instanceof kc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof vs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof wn&&(n.code===ot.GuardRejected||n.code===ot.NoDataFromResolver)?this.restoreHistory(i):n instanceof _s?this.restoreHistory(i,!0):n instanceof Kt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof Dn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=y(y({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=kr(e)))(r||e)}})()}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hs=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(hs||{});function qw(e,t){e.events.pipe(me(n=>n instanceof Kt||n instanceof wn||n instanceof _s||n instanceof Zn),S(n=>n instanceof Kt||n instanceof Zn?hs.COMPLETE:(n instanceof wn?n.code===ot.Redirect||n.code===ot.SupersededByNewNavigation:!1)?hs.REDIRECTING:hs.FAILED),me(n=>n!==hs.REDIRECTING),ft(1)).subscribe(()=>{t()})}function mx(e){throw e}var _x={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=g(ac),this.stateManager=g(Kw),this.options=g(Ms,{optional:!0})||{},this.pendingTasks=g(Hn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Fp),this.urlSerializer=g(Es),this.location=g(zr),this.urlHandlingStrategy=g(Pp),this._events=new K,this.errorHandler=this.options.errorHandler||mx,this.navigated=!1,this.routeReuseStrategy=g(fx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g($c,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(Gc,{optional:!0}),this.eventsSubscription=new pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof wn&&i.code!==ot.Redirect&&i.code!==ot.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Kt)this.navigated=!0;else if(i instanceof to){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=y({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hx(r.source)},s);this.scheduleNavigation(a,ps,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}bx(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ps,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=y({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(xp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=Mw(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Aw(d,n,u,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Fi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ps,null,i)}navigate(n,i={skipLocationChange:!1}){return yx(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=y({},_x):i===!1?r=y({},vx):r=i,Fi(n))return lw(this.currentUrlTree,n,r);let o=this.parseUrl(n);return lw(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return qw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function yx(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new I(4008,!1)}function bx(e){return!(e instanceof vs)&&!(e instanceof to)}var Yw=(()=>{class e{constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new K,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Kt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:d0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Fi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||e)(Q(Jn),Q(Li),Ql("tabindex"),Q(Mi),Q(Ge),Q(yn))}}static{this.\u0275dir=it({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&ze("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Br("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Oi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Oi],replaceUrl:[2,"replaceUrl","replaceUrl",Oi],routerLink:"routerLink"},standalone:!0,features:[Tf,Un]})}}return e})();var Hc=class{};var wx=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(me(n=>n instanceof Kt),on(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=rc(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ee(r).pipe(An())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=C(null);let o=r.pipe(de(s=>s===null?C(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ee([o,s]).pipe(An())}else return o})}static{this.\u0275fac=function(i){return new(i||e)(_(Jn),_(hc),_(Se),_(Hc),_(kp))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Qw=new w(""),Dx=(()=>{class e{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof eo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Kt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Zn&&n.code===xc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Pc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){S0()}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function Cx(e){return e.routerState.root}function As(e,t){return{\u0275kind:e,\u0275providers:t}}function Ex(){let e=g(Ie);return t=>{let n=e.get(Rt);if(t!==n.components[0])return;let i=e.get(Jn),r=e.get(Zw);e.get(Lp)===1&&i.initialNavigation(),e.get(Jw,null,$.Optional)?.setUpPreloading(),e.get(Qw,null,$.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Zw=new w("",{factory:()=>new K}),Lp=new w("",{providedIn:"root",factory:()=>1});function Ix(){return As(2,[{provide:Lp,useValue:0},{provide:uc,multi:!0,deps:[Ie],useFactory:t=>{let n=t.get(kb,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(Jn),o=t.get(Zw);qw(r,()=>{i(!0)}),t.get(Fp).afterPreactivation=()=>(i(!0),o.closed?C(void 0):o),r.initialNavigation()}))}}])}function Tx(){return As(3,[{provide:uc,multi:!0,useFactory:()=>{let t=g(Jn);return()=>{t.setUpLocationChangeListener()}}},{provide:Lp,useValue:2}])}var Jw=new w("");function Sx(e){return As(0,[{provide:Jw,useExisting:wx},{provide:Hc,useExisting:e}])}function Mx(){return As(8,[hw,{provide:Gc,useExisting:hw}])}function Ax(e){let t=[{provide:zw,useValue:cx},{provide:Ww,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return As(9,t)}var mw=new w("ROUTER_FORROOT_GUARD"),Nx=[zr,{provide:Es,useClass:Xr},Jn,Ts,{provide:Li,useFactory:Cx,deps:[Jn]},kp,[]],Vp=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[Nx,[],{provide:$c,multi:!0,useValue:n},{provide:mw,useFactory:kx,deps:[[Jn,new Nr,new Kh]]},{provide:Ms,useValue:i||{}},i?.useHash?Ox():xx(),Rx(),i?.preloadingStrategy?Sx(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Px(i):[],i?.bindToComponentInputs?Mx().\u0275providers:[],i?.enableViewTransitions?Ax().\u0275providers:[],Fx()]}}static forChild(n){return{ngModule:e,providers:[{provide:$c,multi:!0,useValue:n}]}}static{this.\u0275fac=function(i){return new(i||e)(_(mw,8))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();function Rx(){return{provide:Qw,useFactory:()=>{let e=g(jb),t=g(P),n=g(Ms),i=g(Fp),r=g(Es);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Dx(r,i,e,t,n)}}}function Ox(){return{provide:yn,useClass:Fb}}function xx(){return{provide:yn,useClass:jf}}function kx(e){return"guarded"}function Px(e){return[e.initialNavigation==="disabled"?Tx().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Ix().\u0275providers:[]]}var _w=new w("");function Fx(){return[{provide:_w,useFactory:Ex},{provide:dc,multi:!0,useExisting:_w}]}var Wc=class e{constructor(t){this.http=t;this.downloadAll()}url="https://dolgozat-79584-default-rtdb.europe-west1.firebasedatabase.app./";adatSub=new K;getAll(){return this.adatSub}downloadAll(){this.http.get(this.url+".json").subscribe(t=>{let n=[];for(let i in t)n.push(y({azon:i},t[i]));this.adatSub.next(n)})}newData(t){this.http.post(this.url+".json",t).forEach(()=>this.downloadAll())}updateData(t){this.http.put(this.url+t.azon+".json",t).forEach(()=>this.downloadAll())}deleteData(t){this.http.delete(this.url+t.azon+".json").forEach(()=>this.downloadAll())}static \u0275fac=function(n){return new(n||e)(_(xi))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var ro=class e{constructor(t){this.http=t;this.loadConfigJson("hu")}menuItems=new ye([]);loadConfigJson(t){this.http.get("assets/lang_"+t+".json").subscribe(n=>this.menuItems.next(n))}getLinks(){return this.menuItems}setLang(t){this.loadConfigJson(t)}static \u0275fac=function(n){return new(n||e)(_(xi))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var lD=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||e)(Q(Mi),Q(Ge))}}static{this.\u0275dir=it({type:e})}}return e})(),Vx=(()=>{class e extends lD{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=kr(e)))(r||e)}})()}static{this.\u0275dir=it({type:e,features:[Ai]})}}return e})(),cD=new w("");var jx={provide:cD,useExisting:Ar(()=>Zc),multi:!0};function Bx(){let e=zt()?zt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Ux=new w(""),Zc=(()=>{class e extends lD{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Bx())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||e)(Q(Mi),Q(Ge),Q(Ux,8))}}static{this.\u0275dir=it({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&ze("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[sc([jx]),Ai]})}}return e})();var $x=new w(""),Hx=new w("");function uD(e){return e!=null}function dD(e){return Ri(e)?ee(e):e}function hD(e){let t={};return e.forEach(n=>{t=n!=null?y(y({},t),n):t}),Object.keys(t).length===0?null:t}function fD(e,t){return t.map(n=>n(e))}function Gx(e){return!e.validate}function pD(e){return e.map(t=>Gx(t)?t:n=>t.validate(n))}function zx(e){if(!e)return null;let t=e.filter(uD);return t.length==0?null:function(n){return hD(fD(n,t))}}function gD(e){return e!=null?zx(pD(e)):null}function Wx(e){if(!e)return null;let t=e.filter(uD);return t.length==0?null:function(n){let i=fD(n,t).map(dD);return Sd(i).pipe(S(hD))}}function mD(e){return e!=null?Wx(pD(e)):null}function tD(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Kx(e){return e._rawValidators}function qx(e){return e._rawAsyncValidators}function jp(e){return e?Array.isArray(e)?e:[e]:[]}function qc(e,t){return Array.isArray(e)?e.includes(t):e===t}function nD(e,t){let n=jp(t);return jp(e).forEach(r=>{qc(n,r)||n.push(r)}),n}function iD(e,t){return jp(t).filter(n=>!qc(e,n))}var Yc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=gD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=mD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Bp=class extends Yc{get formDirective(){return null}get path(){return null}},ks=class extends Yc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Up=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Yx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oz=U(y({},Yx),{"[class.ng-submitted]":"isSubmitted"}),_D=(()=>{class e extends Up{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||e)(Q(ks,2))}}static{this.\u0275dir=it({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ni("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ai]})}}return e})();var Ns="VALID",Kc="INVALID",oo="PENDING",Rs="DISABLED",ao=class{},Qc=class extends ao{constructor(t,n){super(),this.value=t,this.source=n}},Os=class extends ao{constructor(t,n){super(),this.pristine=t,this.source=n}},xs=class extends ao{constructor(t,n){super(),this.touched=t,this.source=n}},so=class extends ao{constructor(t,n){super(),this.status=t,this.source=n}};function Qx(e){return(Jc(e)?e.validators:e)||null}function Zx(e){return Array.isArray(e)?gD(e):e||null}function Jx(e,t){return(Jc(t)?t.asyncValidators:e)||null}function Xx(e){return Array.isArray(e)?mD(e):e||null}function Jc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var $p=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pc(()=>this.statusReactive()),this.statusReactive=ic(void 0),this._pristine=pc(()=>this.pristineReactive()),this.pristineReactive=ic(!0),this._touched=pc(()=>this.touchedReactive()),this.touchedReactive=ic(!1),this._events=new K,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Kn(this.statusReactive)}set status(t){Kn(()=>this.statusReactive.set(t))}get valid(){return this.status===Ns}get invalid(){return this.status===Kc}get pending(){return this.status==oo}get disabled(){return this.status===Rs}get enabled(){return this.status!==Rs}get pristine(){return Kn(this.pristineReactive)}set pristine(t){Kn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Kn(this.touchedReactive)}set touched(t){Kn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(nD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(nD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(iD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(iD(t,this._rawAsyncValidators))}hasValidator(t){return qc(this._rawValidators,t)}hasAsyncValidator(t){return qc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(U(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new xs(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new xs(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(U(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Os(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new Os(!0,i))}markAsPending(t={}){this.status=oo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new so(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(U(y({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Rs,this.errors=null,this._forEachChild(r=>{r.disable(U(y({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Qc(this.value,i)),this._events.next(new so(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ns,this._forEachChild(i=>{i.enable(U(y({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(U(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ns||this.status===oo)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Qc(this.value,n)),this._events.next(new so(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(U(y({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rs:Ns}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=oo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=dD(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new so(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?Rs:this.errors?Kc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oo)?oo:this._anyControlsHaveStatus(Kc)?Kc:Ns}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new Os(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new xs(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Jc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Zx(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Xx(this._rawAsyncValidators)}};var vD=new w("CallSetDisabledState",{providedIn:"root",factory:()=>Hp}),Hp="always";function ek(e,t){return[...t.path,e]}function tk(e,t,n=Hp){ik(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),rk(e,t),sk(e,t),ok(e,t),nk(e,t)}function rD(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function nk(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function ik(e,t){let n=Kx(e);t.validator!==null?e.setValidators(tD(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=qx(e);t.asyncValidator!==null?e.setAsyncValidators(tD(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();rD(t._rawValidators,r),rD(t._rawAsyncValidators,r)}function rk(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&yD(e,t)})}function ok(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&yD(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function yD(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function sk(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function ak(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function lk(e){return Object.getPrototypeOf(e.constructor)===Vx}function ck(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===Zc?n=o:lk(o)?i=o:r=o}),r||i||n||null}function oD(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function sD(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var uk=class extends $p{constructor(t=null,n,i){super(Qx(n),Jx(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(sD(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){oD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){oD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){sD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var dk={provide:ks,useExisting:Ar(()=>Gp)},aD=Promise.resolve(),Gp=(()=>{class e extends ks{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new uk,this._registered=!1,this.name="",this.update=new ae,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ck(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),ak(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){tk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){aD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&Oi(i);aD.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?ek(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||e)(Q(Bp,9),Q($x,10),Q(Hx,10),Q(cD,10),Q(_n,8),Q(vD,8))}}static{this.\u0275dir=it({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[sc([dk]),Ai,Un]})}}return e})();var hk=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var bD=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:vD,useValue:n.callSetDisabledState??Hp}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({imports:[hk]})}}return e})();function pk(e,t){if(e&1&&(re(0,"div",2),Ve(1),ce()),e&2){let n=t.$implicit;Pe(),Wn(" ",n.text," ")}}function gk(e,t){if(e&1){let n=Xo();re(0,"div",2)(1,"input",6),Hr("ngModelChange",function(r){let o=Or(n).$implicit,s=mn();return es(s.newCikk[o],r)||(s.newCikk[o]=r),xr(r)}),ce()()}if(e&2){let n=t.$implicit,i=mn();Pe(),$r("ngModel",i.newCikk[n])}}function mk(e,t){if(e&1){let n=Xo();re(0,"div",2)(1,"input",6),Hr("ngModelChange",function(r){let o=Or(n).$implicit,s=mn().$implicit;return es(s[o],r)||(s[o]=r),xr(r)}),ce()()}if(e&2){let n=t.$implicit,i=mn().$implicit;Pe(),$r("ngModel",i[n])}}function _k(e,t){if(e&1){let n=Xo();re(0,"div",0),pn(1,mk,2,1,"div",1),re(2,"div",2)(3,"button",3),ze("click",function(){let r=Or(n).$implicit,o=mn();return xr(o.updateData(r))}),Ve(4,"M\xF3dos\xEDt\xE1s"),ce(),re(5,"button",7),ze("click",function(){let r=Or(n).$implicit,o=mn();return xr(o.deleteData(r))}),Ve(6,"T\u0151rl\xE9s"),ce()()()}if(e&2){let n=mn();Pe(),Gt("ngForOf",n.oszlopok)}}var Xc=class e{constructor(t,n,i){this.base=t;this.config=n;this.http=i;this.base.getAll().subscribe(r=>this.cikkek=r),this.config.getLinks().subscribe(r=>this.links=r.menuItems),this.config.getLinks().subscribe(r=>this.columns=r.columns)}columns;items=[];oszlopok=["name","category","description","price"];adattomb=[];HozzaAdasSzoveg="Hozz\xE1ad\xE1s";ModositasSzoveg="M\xF3dos\xEDt\xE1s";TorlesSzoveg="T\u0151rl\xE9s";links;dropClose=!0;lang="Magyar";gombAtallit=!0;cikkek;newCikk={};updateData(t){this.base.updateData(t)}deleteData(t){this.base.deleteData(t)}newData(){this.base.newData(this.newCikk),this.newCikk={}}showDatas(){this.base.getAll().subscribe(t=>this.cikkek=t)}gombBeallitasa(t){this.lang=t=="hu"?"Magyar":"English",this.config.setLang(t),this.dropClose=!0,t=="hu"?this.gombAtallit=!0:this.gombAtallit=!1}static \u0275fac=function(n){return new(n||e)(Q(Wc),Q(ro),Q(xi))};static \u0275cmp=nt({type:e,selectors:[["app-products-list"]],decls:12,vars:5,consts:[[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],["type","button",1,"btn","btn-primary",3,"click"],["class","row",4,"ngFor","ngForOf"],[1,"adatbazisGomb"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary","ms-2",3,"click"]],template:function(n,i){n&1&&(re(0,"div",0),pn(1,pk,2,1,"div",1),ce(),re(2,"div",0),pn(3,gk,2,1,"div",1),re(4,"div",2)(5,"button",3),ze("click",function(){return i.newData()}),Ve(6),ce()()(),pn(7,_k,7,1,"div",4),re(8,"div",5)(9,"button",3),ze("click",function(){return i.showDatas()}),Ve(10,"Adatok megjelen\xEDt\xE9se"),ce()(),Ve(11)),n&2&&(Pe(),Gt("ngForOf",i.columns),Pe(2),Gt("ngForOf",i.oszlopok),Pe(3),Ur(i.HozzaAdasSzoveg),Pe(),Gt("ngForOf",i.cikkek),Pe(4),Wn(" ",i.gombAtallit," "))},dependencies:[vc,Zc,_D,Gp]})};var lo=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=nt({type:e,selectors:[["app-login"]],decls:2,vars:0,template:function(n,i){n&1&&(re(0,"p"),Ve(1,"login works!"),ce())}})};var vk=[{path:"products",component:Xc},{path:"login",component:lo},{path:"",component:lo},{path:"**",component:lo}],eu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=L({type:e});static \u0275inj=F({imports:[Vp.forRoot(vk),Vp]})};var yk=["*"];var bk=["dialog"];var wD={animation:!0,transitionTimerDelayMs:5},DD=(()=>{class e{constructor(){this.animation=wD.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function wk(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),r=parseFloat(n);return(i+r)*1e3}function CD(e){return typeof e=="string"}function Wp(e){return e!=null}function Dk(e){return e&&e.then}function Yp(e){return(e||document.body).getBoundingClientRect()}function Ck(e){return t=>new N(n=>{let i=s=>e.run(()=>n.next(s)),r=s=>e.run(()=>n.error(s)),o=()=>e.run(()=>n.complete());return t.subscribe({next:i,error:r,complete:o})})}var Ek=()=>{},{transitionTimerDelayMs:Ik}=wD,tu=new Map,ei=(e,t,n,i)=>{let r=i.context||{},o=tu.get(t);if(o)switch(i.runningTransition){case"continue":return Ee;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),tu.delete(t)}let s=n(t,i.animation,r)||Ek;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),C(void 0).pipe(Ck(e));let a=new K,l=new K,c=a.pipe(Rd(!0));tu.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=wk(t);return e.runOutsideAngular(()=>{let d=ht(t,"transitionend").pipe(Fe(c),me(({target:f})=>f===t)),h=Md(u+Ik).pipe(Fe(c));Ad(h,d,l).pipe(Fe(c)).subscribe(()=>{tu.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};function Tk(e,t){if(typeof navigator>"u")return"0px";let{classList:n}=e,i=n.contains("show");i||n.add("show"),e.style[t]="";let r=e.getBoundingClientRect()[t]+"px";return i||n.remove("show"),r}var Sk=(e,t,n)=>{let{direction:i,maxSize:r,dimension:o}=n,{classList:s}=e;function a(){s.add("collapse"),i==="show"?s.add("show"):s.remove("show")}if(!t){a();return}return r||(r=Tk(e,o),n.maxSize=r,e.style[o]=i!=="show"?r:"0px",s.remove("collapse","collapsing","show"),Yp(e),s.add("collapsing")),e.style[o]=i==="show"?r:"0px",()=>{a(),s.remove("collapsing"),e.style[o]=""}},Mk=(()=>{class e{constructor(){this._ngbConfig=g(DD),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ED=(()=>{class e{constructor(){this._config=g(Mk),this._element=g(Ge),this._zone=g(P),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ae,this.horizontal=this._config.horizontal,this.shown=new ae,this.hidden=new ae}set collapsed(n){this._isCollapsed!==n&&(this._isCollapsed=n,this._afterInit&&this._runTransitionWithEvents(n,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(n=this._isCollapsed){this.collapsed=!n,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(n,i){return ei(this._zone,this._element.nativeElement,Sk,{animation:i,runningTransition:"stop",context:{direction:n?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(n,i){this._runTransition(n,i).subscribe(()=>{n?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=it({type:e,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){i&2&&Ni("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return e})();var ID=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var TD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var SD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),MD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var oW=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var Ak=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function AD(e){let t=Array.from(e.querySelectorAll(Ak)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var Nk=(e,t,n,i=!1)=>{e.runOutsideAngular(()=>{let r=ht(t,"focusin").pipe(Fe(n),S(o=>o.target));ht(t,"keydown").pipe(Fe(n),me(o=>o.key==="Tab"),fr(r)).subscribe(([o,s])=>{let[a,l]=AD(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&ht(t,"click").pipe(Fe(n),fr(r),S(o=>o[1])).subscribe(o=>o.focus())})};var sW=new Date(1882,10,12),aW=new Date(2174,10,25);var lW=1e3*60*60*24;var Qp=1080,Rk=24*Qp,Ok=12*Qp+793,cW=29*Rk+Ok,uW=11*Qp+204;var ND=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var RD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),xk=(()=>{class e{constructor(){this._ngbConfig=g(DD),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),co=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}};var kk=(()=>{class e{constructor(){this._document=g(be)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Pk=(()=>{class e{constructor(){this._nativeElement=g(Ge).nativeElement,this._zone=g(P),this._injector=g(Ie)}ngOnInit(){jr(()=>ei(this._zone,this._nativeElement,(n,i)=>{i&&Yp(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:sn.MixedReadWrite})}hide(){return ei(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=nt({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(oc("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Ni("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ts],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),nu=class{update(t){}close(t){}dismiss(t){}},Fk=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Lk=["animation","backdropClass"],Kp=class{_applyWindowOptions(t,n){Fk.forEach(i=>{Wp(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){Lk.forEach(i=>{Wp(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Fe(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Fe(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new K,this._dismissed=new K,this._hidden=new K,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();Dk(n)?n.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():C(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Lo(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},qp=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(qp||{}),Vk=(()=>{class e{constructor(){this._document=g(be),this._elRef=g(Ge),this._zone=g(P),this._injector=g(Ie),this._closed$=new K,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ae,this.shown=new K,this.hidden=new K}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":CD(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,jr(()=>this._show(),{injector:this._injector,phase:sn.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=ei(this._zone,n,()=>n.classList.remove("show"),i),o=ei(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Lo(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let n={animation:this.animation,runningTransition:"continue"},i=ei(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Yp(o),o.classList.add("show")},n),r=ei(this._zone,this._dialogEl.nativeElement,()=>{},n);Lo(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{ht(n,"keydown").pipe(Fe(this._closed$),me(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(qp.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;ht(this._dialogEl.nativeElement,"mousedown").pipe(Fe(this._closed$),ge(()=>i=!1),ie(()=>ht(n,"mouseup").pipe(Fe(this._closed$),ft(1))),me(({target:r})=>n===r)).subscribe(()=>{i=!0}),ht(n,"click").pipe(Fe(this._closed$)).subscribe(({target:r})=>{n===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(qp.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let i=n.querySelector("[ngbAutofocus]"),r=AD(n)[0];(i||r||n).focus()}}_restoreFocus(){let n=this._document.body,i=this._elWithFocus,r;i&&i.focus&&n.contains(i)?r=i:r=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&ei(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=nt({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&mb(bk,7),i&2){let o;Sf(o=Mf())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(Br("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),oc("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Ni("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ts],ngContentSelectors:yk,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(pb(),re(0,"div",1,0)(2,"div",2),gb(3),ce()()),i&2&&oc("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),jk=(()=>{class e{constructor(){this._applicationRef=g(Rt),this._injector=g(Ie),this._environmentInjector=g(Se),this._document=g(be),this._scrollBar=g(kk),this._activeWindowCmptHasChanged=new K,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ae;let n=g(P);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];Nk(n,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){let o=r.container instanceof HTMLElement?r.container:Wp(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new nu;n=r.injector||n;let a=n.get(Se,null)||this._environmentInjector,l=this._getContentRef(n,a,i,s,r),c=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new Kp(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(ft(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=h=>{d.close(h)},s.dismiss=h=>{d.dismiss(h)},s.update=h=>{d.update(h)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=gc(Pk,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=gc(Vk,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,o,s){return r?r instanceof jn?this._createFromTemplateRef(r,o):CD(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new co([])}_createFromTemplateRef(n,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=n.createEmbeddedView(r);return this._applicationRef.attachView(o),new co([o.rootNodes],o)}_createFromString(n){let i=this._document.createTextNode(`${n}`);return new co([[i]])}_createFromComponent(n,i,r,o,s){let a=Ie.create({providers:[{provide:nu,useValue:o}],parent:n}),l=gc(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new co([[c]],l.hostView,l)}_setAriaHidden(n){let i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let i=()=>{let r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Bk=(()=>{class e{constructor(){this._injector=g(Ie),this._modalStack=g(jk),this._config=g(xk)}open(n,i={}){let r=y(U(y({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),OD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({providers:[Bk]})}}return e})();var xD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var kD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var PD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var FD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var LD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var VD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var jD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var BD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var UD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var dW=new w("live announcer delay",{providedIn:"root",factory:()=>100});var $D=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var HD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),Uk=[ID,TD,SD,MD,ND,RD,OD,xD,HD,kD,PD,FD,LD,VD,jD,BD,UD,$D],GD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({imports:[Uk,ID,TD,SD,MD,ND,RD,OD,xD,HD,kD,PD,FD,LD,VD,jD,BD,UD,$D]})}}return e})();function Hk(e,t){if(e&1&&(re(0,"li",12)(1,"a",13),Ve(2),ce()()),e&2){let n=t.$implicit;Pe(),Gt("routerLink",n.link),Pe(),Ur(n.text)}}var iu=class e{constructor(t){this.config=t;this.config.getLinks().subscribe(n=>this.links=n.menuItems)}links;dropClose=!0;lang="Magyar";setLang(t){this.lang=t=="hu"?"Magyar":"English",this.config.setLang(t),this.dropClose=!0}static \u0275fac=function(n){return new(n||e)(Q(ro))};static \u0275cmp=nt({type:e,selectors:[["app-nav"]],decls:19,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",3,"click"],["aria-labelledby","navbarDropdown",1,"dropdown-menu",3,"ngbCollapseChange","ngbCollapse"],[1,"dropdown-item",3,"click"],[1,"nav-item"],[1,"nav-link",3,"routerLink"]],template:function(n,i){n&1&&(re(0,"nav",0)(1,"div",1)(2,"a",2),Ve(3,"Navbar"),ce(),re(4,"button",3),gn(5,"span",4),ce(),re(6,"div",5)(7,"ul",6),pn(8,Hk,3,2,"li",7),re(9,"li",8)(10,"button",9),ze("click",function(){return i.dropClose=!i.dropClose}),Ve(11),ce(),re(12,"ul",10),Hr("ngbCollapseChange",function(o){return es(i.dropClose,o)||(i.dropClose=o),o}),re(13,"li")(14,"button",11),ze("click",function(){return i.setLang("hu")}),Ve(15,"Magyar"),ce()(),re(16,"li")(17,"button",11),ze("click",function(){return i.setLang("en")}),Ve(18,"English"),ce()()()()()()()()),n&2&&(Pe(8),Gt("ngForOf",i.links),Pe(3),Wn(" ",i.lang," "),Pe(),$r("ngbCollapse",i.dropClose))},dependencies:[vc,Yw,ED]})};var ru=class e{title="Gyaklorlas";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=nt({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(n,i){n&1&&(gn(0,"app-nav"),re(1,"div",0),gn(2,"router-outlet"),ce())},dependencies:[Op,iu]})};var zk="firebase",Wk="10.14.1";Sn(zk,Wk,"app");var ji=new dn("ANGULARFIRE2_VERSION");var Kk=(e,t)=>{let n=t?[t]:C_(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Vi=class{constructor(){return Kk(qk)}},qk="app-check";function Zp(){}var ou=class{zone;delegate;constructor(t,n=Ed){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},Jp=class{zone;task=null;constructor(t){this.zone=t}call(t,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zp,{},Zp,Zp)),n.pipe(ge({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},su=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ou(Zone.current)),this.insideAngular=n.run(()=>new ou(Zone.current,sr)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(_(P))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yk(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function Cn(e){return Qk(Yk())(e)}function Qk(e){return function(n){return n=n.lift(new Jp(e.ngZone)),n.pipe(It(e.outsideAngular),dt(e.insideAngular))}}var Xk=new Map,eP={activated:!1,tokenObservers:[]},tP={initialized:!1,enabled:!1};function xt(e){return Xk.get(e)||Object.assign({},eP)}function QD(){return tP}var nP="https://content-firebaseappcheck.googleapis.com/v1";var iP="exchangeDebugToken",WD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},NW=24*60*60*1e3;var eg=class{constructor(t,n,i,r,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return Ye(this,null,function*(){this.stop();try{this.pending=new Te,this.pending.promise.catch(n=>{}),yield rP(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Te,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function rP(e){return new Promise(t=>{setTimeout(t,e)})}var oP={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ti=new g_("appCheck","AppCheck",oP);function ZD(e){if(!xt(e).activated)throw ti.create("use-before-activation",{appName:e.name})}function JD(i,r){return Ye(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(f){throw ti.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw ti.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw ti.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function XD(e,t){let{projectId:n,appId:i,apiKey:r}=e.options;return{url:`${nP}/projects/${n}/apps/${i}:${iP}?key=${r}`,body:{debug_token:t}}}var sP="firebase-app-check-database",aP=1,tg="firebase-app-check-store";var au=null;function lP(){return au||(au=new Promise((e,t)=>{try{let n=indexedDB.open(sP,aP);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(ti.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(tg,{keyPath:"compositeKey"})}}}catch(n){t(ti.create("storage-open",{originalErrorMessage:n?.message}))}}),au)}function cP(e,t){return uP(dP(e),t)}function uP(e,t){return Ye(this,null,function*(){let i=(yield lP()).transaction(tg,"readwrite"),o=i.objectStore(tg).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(ti.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function dP(e){return`${e.options.appId}-${e.name}`}var ng=new Qi("@firebase/app-check");function Xp(e,t){return p_()?cP(e,t).catch(n=>{ng.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function eC(){return QD().enabled}function tC(){return Ye(this,null,function*(){let e=QD();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var hP={error:"UNKNOWN_ERROR"};function fP(e){return _a.encodeString(JSON.stringify(e),!1)}function ig(e,t=!1){return Ye(this,null,function*(){let n=e.app;ZD(n);let i=xt(n),r=i.token,o;if(r&&!Ps(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(Ps(l)?r=l:yield Xp(n,void 0))}if(!t&&r&&Ps(r))return{token:r.token};let s=!1;if(eC()){i.exchangeTokenPromise||(i.exchangeTokenPromise=JD(XD(n,yield tC()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield Xp(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield xt(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?ng.warn(l.message):ng.error(l),o=l}let a;return r?o?Ps(r)?a={token:r.token,internalError:o}:a=qD(o):(a={token:r.token},i.token=r,yield Xp(n,r)):a=qD(o),s&&_P(n,a),a})}function pP(e){return Ye(this,null,function*(){let t=e.app;ZD(t);let{provider:n}=xt(t);if(eC()){let i=yield tC(),{token:r}=yield JD(XD(t,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function gP(e,t,n,i){let{app:r}=e,o=xt(r),s={next:n,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ps(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),KD(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>KD(e))}function nC(e,t){let n=xt(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function KD(e){let{app:t}=e,n=xt(t),i=n.tokenRefresher;i||(i=mP(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function mP(e){let{app:t}=e;return new eg(()=>Ye(this,null,function*(){let n=xt(t),i;if(n.token?i=yield ig(e,!0):i=yield ig(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=xt(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},WD.RETRIAL_MIN_WAIT,WD.RETRIAL_MAX_WAIT)}function _P(e,t){let n=xt(e).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Ps(e){return e.expireTimeMillis-Date.now()>0}function qD(e){return{token:fP(hP),error:e}}var rg=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=xt(this.app);for(let n of t)nC(this.app,n.next);return Promise.resolve()}};function vP(e,t){return new rg(e,t)}function yP(e){return{getToken:t=>ig(e,t),getLimitedUseToken:()=>pP(e),addTokenListener:t=>gP(e,"INTERNAL",t),removeTokenListener:t=>nC(e.app,t)}}var bP="@firebase/app-check",wP="0.8.8";var DP="app-check",YD="app-check-internal";function CP(){Oo(new en(DP,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return vP(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(YD).initialize()})),Oo(new en(YD,e=>{let t=e.getProvider("app-check").getImmediate();return yP(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Sn(bP,wP)}CP();var EP=["localhost","0.0.0.0","127.0.0.1"],$W=typeof window<"u"&&EP.includes(window.location.hostname);var IP="firebase",TP="10.14.1";Ue.registerVersion(IP,TP,"app-compat");var SP=["ngOnDestroy"],oC=(e,t,n,i={})=>new Proxy(e,{get:(r,o)=>n.runOutsideAngular(()=>{if(e[o])return i?.spy?.get&&i.spy.get(o,e[o]),e[o];if(SP.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var lu=class{constructor(t){return t}},uo=new w("angularfire2.app.options"),ho=new w("angularfire2.app.name");function Fs(e,t,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=Ue.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Ue.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;MP("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new lu(s)}var MP=(e,...t)=>{Of()&&typeof console<"u"&&console[e](...t)},AP={provide:lu,useFactory:Fs,deps:[uo,P,[new Nr,ho]]},sC=(()=>{class e{static initializeApp(n,i){return{ngModule:e,providers:[{provide:uo,useValue:n},{provide:ho,useValue:i}]}}constructor(n){Ue.registerVersion("angularfire",ji.full,"core"),Ue.registerVersion("angularfire",ji.full,"app-compat"),Ue.registerVersion("angular",vb.full,n.toString())}static \u0275fac=function(i){return new(i||e)(_(ke))};static \u0275mod=L({type:e});static \u0275inj=F({providers:[AP]})}return e})();function cu(e,t,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return NP(r,s)||(rC("error",`${t} was already initialized on the ${n} Firebase App with different settings.${RP?" You may need to reload as Firebase is not HMR aware.":""}`),rC("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function NP(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var RP=typeof module<"u"&&!!module.hot,rC=(e,...t)=>{Of()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var og=new w("angularfire2.auth.use-emulator"),sg=new w("angularfire2.auth.settings"),ag=new w("angularfire2.auth.tenant-id"),lg=new w("angularfire2.auth.langugage-code"),cg=new w("angularfire2.auth.use-device-language"),ug=new w("angularfire.auth.persistence"),dg=(e,t,n,i,r,o,s,a)=>cu(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,o,s,a]),hg=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,l,c,u,d,h,f){let p=new K,m=C(void 0).pipe(dt(s.outsideAngular),ie(()=>o.runOutsideAngular(()=>import("./chunk-HFG2JIZC.js"))),S(()=>Fs(n,o,i)),S(b=>dg(b,o,a,c,u,d,l,h)),Ja({bufferSize:1,refCount:!1}));if(Wr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=C(null);else{m.pipe(pt()).subscribe();let b=m.pipe(ie(E=>E.getRedirectResult().then(ne=>ne,()=>null)),Cn,Ja({bufferSize:1,refCount:!1})),T=m.pipe(ie(E=>new N(ne=>({unsubscribe:o.runOutsideAngular(()=>E.onAuthStateChanged(fe=>ne.next(fe),fe=>ne.error(fe),()=>ne.complete()))})))),j=m.pipe(ie(E=>new N(ne=>({unsubscribe:o.runOutsideAngular(()=>E.onIdTokenChanged(fe=>ne.next(fe),fe=>ne.error(fe),()=>ne.complete()))}))));this.authState=b.pipe(el(T),It(s.outsideAngular),dt(s.insideAngular)),this.user=b.pipe(el(j),It(s.outsideAngular),dt(s.insideAngular)),this.idToken=this.user.pipe(ie(E=>E?ee(E.getIdToken()):C(null))),this.idTokenResult=this.user.pipe(ie(E=>E?ee(E.getIdTokenResult()):C(null))),this.credential=gi(b,p,this.authState.pipe(me(E=>!E))).pipe(S(E=>E?.user?E:null),It(s.outsideAngular),dt(s.insideAngular))}return oC(this,m,o,{spy:{apply:(b,T,j)=>{(b.startsWith("signIn")||b.startsWith("createUser"))&&j.then(E=>p.next(E))}}})}static \u0275fac=function(i){return new(i||e)(_(uo),_(ho,8),_(ke),_(P),_(su),_(og,8),_(sg,8),_(ag,8),_(lg,8),_(cg,8),_(ug,8),_(Vi,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),aC=(()=>{class e{constructor(){Ue.registerVersion("angularfire",ji.full,"auth-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=F({providers:[hg]})}return e})();var lC="@firebase/database",cC="1.0.8";var Em="";function Im(e){Em=e}var bg=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ve(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:va(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var wg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return ut(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var BC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new bg(t)}}catch{}return new wg},Ui=BC("localStorage"),Dg=BC("sessionStorage");var mo=new Qi("@firebase/database"),UC=function(){let e=1;return function(){return e++}}(),$C=function(e){let t=b_(e),n=new y_;n.update(t);let i=n.digest();return _a.encodeByteArray(i)},sa=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=sa.apply(null,i):typeof i=="object"?t+=ve(i):t+=i,t+=" "}return t},$i=null,uC=!0,HC=function(e,t){v(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(mo.logLevel=w_.VERBOSE,$i=mo.log.bind(mo),t&&Dg.set("logging_enabled",!0)):typeof e=="function"?$i=e:($i=null,Dg.remove("logging_enabled"))},Ne=function(...e){if(uC===!0&&(uC=!1,$i===null&&Dg.get("logging_enabled")===!0&&HC(!0)),$i){let t=sa.apply(null,e);$i(t)}},aa=function(e){return function(...t){Ne(e,...t)}},Cg=function(...e){let t="FIREBASE INTERNAL ERROR: "+sa(...e);mo.error(t)},Qt=function(...e){let t=`FIREBASE FATAL ERROR: ${sa(...e)}`;throw mo.error(t),new Error(t)},je=function(...e){let t="FIREBASE WARNING: "+sa(...e);mo.warn(t)},xP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lu=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},kP=function(e){if(Ft()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},oi="[MIN_NAME]",En="[MAX_NAME]",Gi=function(e,t){if(e===t)return 0;if(e===oi||t===En)return-1;if(t===oi||e===En)return 1;{let n=dC(e),i=dC(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},PP=function(e,t){return e===t?0:e<t?-1:1},Ls=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ve(t))},Tm=function(e){if(typeof e!="object"||e===null)return ve(e);let t=[];for(let i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=ve(t[i]),n+=":",n+=Tm(e[t[i]]);return n+="}",n},GC=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Re(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var zC=function(e){v(!Lu(e),"Invalid JSON number");let t=11,n=52,i=(1<<t-1)-1,r,o,s,a,l;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},FP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},LP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function VP(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}var jP=new RegExp("^-?(0*)\\d{1,10}$"),BP=-2147483648,UP=2147483647,dC=function(e){if(jP.test(e)){let t=Number(e);if(t>=BP&&t<=UP)return t}return null},Io=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw je("Exception was thrown by user callback.",n),t},Math.floor(0))}},$P=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Us=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Eg=class{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Ig=class{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ne("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',je(t)}},$s=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),du="5",WC="v",KC="s",qC="r",YC="f",QC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ZC="ls",JC="p",Tg="ac",XC="websocket",eE="long_polling";var hu=class{constructor(t,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function HP(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function tE(e,t,n){v(typeof t=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let i;if(t===XC)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===eE)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);HP(e)&&(n.ns=e.namespace);let r=[];return Re(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Sg=class{constructor(){this.counters_={}}incrementCounter(t,n=1){ut(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return d_(this.counters_)}};var fg={},pg={};function Sm(e){let t=e.toString();return fg[t]||(fg[t]=new Sg),fg[t]}function GP(e,t){let n=e.toString();return pg[n]||(pg[n]=t()),pg[n]}var Mg=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Io(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var hC="start",zP="close",WP="pLPCommand",KP="pRTLPCB",nE="id",iE="pw",rE="ser",qP="cb",YP="seg",QP="ts",ZP="d",JP="dframe",oE=1870,sE=30,XP=oE-sE,eF=25e3,tF=3e4,Ws=class e{constructor(t,n,i,r,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aa(t),this.stats_=Sm(n),this.urlFn=l=>(this.appCheckToken&&(l[Tg]=this.appCheckToken),tE(n,eE,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Mg(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tF)),kP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ag((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===hC)this.id=a,this.password=l;else if(s===zP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[hC]="t",i[rE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[qP]=this.scriptTagHolder.uniqueCallbackIdentifier),i[WC]=du,this.transportSessionId&&(i[KC]=this.transportSessionId),this.lastSessionId&&(i[ZC]=this.lastSessionId),this.applicationId&&(i[JC]=this.applicationId),this.appCheckToken&&(i[Tg]=this.appCheckToken),typeof location<"u"&&location.hostname&&QC.test(location.hostname)&&(i[qC]=YC);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Ft()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FP()&&!LP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ve(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=u_(n),r=GC(i,XP);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Ft())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[JP]="t",i[nE]=t,i[iE]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ve(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Ag=class e{constructor(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ft())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=UC(),window[WP+this.uniqueCallbackIdentifier]=t,window[KP+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ne("frame writing exception"),a.stack&&Ne(a.stack),Ne(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ne("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[nE]=this.myID,t[iE]=this.myPW,t[rE]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sE+i.length<=oE;){let s=this.pendingSegs.shift();i=i+"&"+YP+r+"="+s.seg+"&"+QP+r+"="+s.ts+"&"+ZP+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(eF)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,n){Ft()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ne("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var nF=16384,iF=45e3,fu=null;typeof MozWebSocket<"u"?fu=MozWebSocket:typeof WebSocket<"u"&&(fu=WebSocket);var po=(()=>{class e{constructor(n,i,r,o,s,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aa(this.connId),this.stats_=Sm(i),this.connURL=e.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[WC]=du,!Ft()&&typeof location<"u"&&location.hostname&&QC.test(location.hostname)&&(a[qC]=YC),i&&(a[KC]=i),r&&(a[ZC]=r),o&&(a[Tg]=o),s&&(a[JC]=s),tE(n,XC,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let r;if(Ft()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${du}/${Em}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new fu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&fu!==null&&!e.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=va(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=ve(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=GC(i,nF);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(iF))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),aE=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ws,po]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=po&&po.isAvailable(),r=i&&!po.previouslyFailed();if(n.webSocketOnly&&(i||je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[po];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),rF=6e4,oF=5e3,sF=10*1024,aF=100*1024,gg="t",fC="d",lF="s",pC="r",cF="e",gC="o",mC="a",_C="n",vC="p",uF="h",Ng=class{constructor(t,n,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aa("c:"+this.id+":"),this.transportManager_=new aE(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Us(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(gg in t){let n=t[gg];n===mC?this.upgradeIfSecondaryHealthy_():n===pC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===gC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Ls("t",t),i=Ls("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:_C,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Ls("t",t),i=Ls("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Ls(gg,t);if(fC in t){let i=t[fC];if(n===uF){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===_C){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===lF?this.onConnectionShutdown_(i):n===pC?this.onReset_(i):n===cF?Cg("Server Error: "+i):n===gC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cg("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),du!==i&&je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Us(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rF))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Us(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(oF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vC,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var pu=class{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}};var gu=class{constructor(t){this.allowedEvents_=t,this.listeners_={},v(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});let r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){v(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var mu=class e extends gu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(t){return v(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var yC=32,bC=768,J=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function Z(){return new J("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function si(e){return e.pieces_.length-e.pieceNum_}function se(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new J(e.pieces_,t)}function Mm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function dF(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Ks(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function lE(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new J(t,0)}function ue(e,t){let n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof J)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new J(n,0)}function G(e){return e.pieceNum_>=e.pieces_.length}function We(e,t){let n=H(e),i=H(t);if(n===null)return t;if(n===i)return We(se(e),se(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function hF(e,t){let n=Ks(e,0),i=Ks(t,0);for(let r=0;r<n.length&&r<i.length;r++){let o=Gi(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function Am(e,t){if(si(e)!==si(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function wt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(si(e)>si(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var Rg=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Ks(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Ro(this.parts_[i]);cE(this)}};function fF(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ro(t),cE(e)}function pF(e){let t=e.parts_.pop();e.byteLength_-=Ro(t),e.parts_.length>0&&(e.byteLength_-=1)}function cE(e){if(e.byteLength_>bC)throw new Error(e.errorPrefix_+"has a key path longer than "+bC+" bytes ("+e.byteLength_+").");if(e.parts_.length>yC)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yC+") or object contains a cycle "+Bi(e))}function Bi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Og=class e extends gu{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new e}getInitialEvent(t){return v(t==="visible","Unknown event type: "+t),[this.visible_]}};var Vs=1e3,gF=60*5*1e3,wC=30*1e3,mF=1.3,_F=3e4,vF="server_kill",DC=3,Nm=(()=>{class e extends pu{constructor(n,i,r,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=aa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vs,this.maxReconnectDelay_=gF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ft())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Og.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&mu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(ve(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new Te,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&ut(n,"w")){let r=Tn(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||__(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wC)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=m_(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ve(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Cg("Unrecognized action received from server: "+ve(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Vs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_F&&(this.reconnectDelay_=Vs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mF)}this.onConnectStatus_(!1)}establishConnection_(){return Ye(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ne("getToken() completed but was canceled"):(Ne("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Ng(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{je(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(vF)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&je(h),c())}}})}interrupt(n){Ne("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ne("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ya(this.interruptReasons_)&&(this.reconnectDelay_=Vs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>Tm(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new J(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Ne("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=DC&&(this.reconnectDelay_=wC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Ne("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=DC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";Ft()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+Em.replace(/\./g,"-")]=1,rd()?n["framework.cordova"]=1:f_()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=mu.getInstance().currentlyOnline();return ya(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),z=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var _o=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let i=new z(oi,t),r=new z(oi,n);return this.compare(i,r)!==0}minPost(){return z.MIN}};var uu,_u=class extends _o{static get __EMPTY_NODE(){return uu}static set __EMPTY_NODE(t){uu=t}compare(t,n){return Gi(t.name,n.name)}isDefinedOn(t){throw Yi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return z.MIN}maxPost(){return new z(En,uu)}makePost(t,n){return v(typeof t=="string","KeyIndex indexValue must always be a string."),new z(t,uu)}toString(){return".key"}},Yt=new _u;var go=class{constructor(t,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},kt=(()=>{class e{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??e.RED,this.left=o??Dt.EMPTY_NODE,this.right=s??Dt.EMPTY_NODE}copy(n,i,r,o,s){return new e(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return Dt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),xg=class{copy(t,n,i,r,o){return this}insert(t,n,i){return new kt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Dt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new go(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new go(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new go(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new go(this.root_,null,this.comparator_,!0,t)}};Dt.EMPTY_NODE=new xg;function yF(e,t){return Gi(e.name,t.name)}function Rm(e,t){return Gi(e,t)}var kg;function bF(e){kg=e}var uE=function(e){return typeof e=="number"?"number:"+zC(e):"string:"+e},dE=function(e){if(e.isLeafNode()){let t=e.val();v(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ut(t,".sv"),"Priority must be a string or number.")}else v(e===kg||e.isEmpty(),"priority of unexpected type.");v(e===kg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var CC,vo=(()=>{class e{constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dE(this.priorityNode_)}static set __childrenNodeConstructor(n){CC=n}static get __childrenNodeConstructor(){return CC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return G(n)?this:H(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=H(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(v(r!==".priority"||si(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+uE(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=zC(this.value_):n+=this.value_,this.lazyHash_=$C(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return v(o>=0,"Unknown leaf type: "+i),v(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),hE,fE;function wF(e){hE=e}function DF(e){fE=e}var Pg=class extends _o{compare(t,n){let i=t.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Gi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(En,new vo("[PRIORITY-POST]",fE))}makePost(t,n){let i=hE(t);return new z(n,new vo("[PRIORITY-POST]",i))}toString(){return".priority"}},le=new Pg;var CF=Math.log(2),Fg=class{constructor(t){let n=o=>parseInt(Math.log(o)/CF,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},vu=function(e,t,n,i){e.sort(t);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=e[l],h=n?n(d):d,new kt(h,d.node,kt.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=e[f],h=n?n(d):d,new kt(h,d.node,kt.BLACK,p,m)}},o=function(l){let c=null,u=null,d=e.length,h=function(p,m){let b=d-p,T=d;d-=p;let j=r(b+1,T),E=e[b],ne=n?n(E):E;f(new kt(ne,E.node,m,null,j))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),b=Math.pow(2,l.count-(p+1));m?h(b,kt.BLACK):(h(b,kt.BLACK),h(b,kt.RED))}return u},s=new Fg(e.length),a=o(s);return new Dt(i||t,a)};var mg,fo={},yo=class e{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return v(fo&&le,"ChildrenNode.ts has not been loaded"),mg=mg||new e({".priority":fo},{".priority":le}),mg}get(t){let n=Tn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Dt?n:null}hasIndex(t){return ut(this.indexSet_,t.toString())}addIndex(t,n){v(t!==Yt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(z.Wrap),s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=vu(i,t.getCompare()):a=fo;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let i=No(this.indexes_,(r,o)=>{let s=Tn(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),r===fo)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(z.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),vu(a,s.getCompare())}else return fo;else{let a=n.get(t.name),l=r;return a&&(l=l.remove(new z(t.name,a))),l.insert(t,t.node)}});return new e(i,this.indexSet_)}removeFromIndexes(t,n){let i=No(this.indexes_,r=>{if(r===fo)return r;{let o=n.get(t.name);return o?r.remove(new z(t.name,o)):r}});return new e(i,this.indexSet_)}};var js,x=(()=>{class e{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dE(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return js||(js=new e(new Dt(Rm),null,yo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||js}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?js:i}}getChild(n){let i=H(n);return i===null?this:this.getImmediateChild(i).getChild(se(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(v(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new z(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?js:this.priorityNode_;return new e(o,a,s)}}updateChild(n,i){let r=H(n);if(r===null)return i;{v(H(n)!==".priority"||si(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(se(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(le,(a,l)=>{i[a]=l.val(n),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+uE(this.getPriority().val())+":"),this.forEachChild(le,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":$C(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new z(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new z(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new z(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,z.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,z.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===la?-1:0}withIndex(n){if(n===Yt||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Yt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(le),o=i.getIterator(le),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Yt?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Lg=class extends x{constructor(){super(new Dt(Rm),x.EMPTY_NODE,yo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return x.EMPTY_NODE}isEmpty(){return!1}},la=new Lg;Object.defineProperties(z,{MIN:{value:new z(oi,x.EMPTY_NODE)},MAX:{value:new z(En,la)}});_u.__EMPTY_NODE=x.EMPTY_NODE;vo.__childrenNodeConstructor=x;bF(la);DF(la);var EF=!0;function he(e,t=null){if(e===null)return x.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),v(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new vo(n,he(t))}if(!(e instanceof Array)&&EF){let n=[],i=!1;if(Re(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=he(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new z(s,l)))}}),n.length===0)return x.EMPTY_NODE;let o=vu(n,yF,s=>s.name,Rm);if(i){let s=vu(n,le.getCompare());return new x(o,he(t),new yo({".priority":s},{".priority":le}))}else return new x(o,he(t),yo.Default)}else{let n=x.EMPTY_NODE;return Re(e,(i,r)=>{if(ut(e,i)&&i.substring(0,1)!=="."){let o=he(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(he(t))}}wF(he);var qs=class extends _o{constructor(t){super(),this.indexPath_=t,v(!G(t)&&H(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let i=this.extractChild(t.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Gi(t.name,n.name):o}makePost(t,n){let i=he(t),r=x.EMPTY_NODE.updateChild(this.indexPath_,i);return new z(n,r)}maxPost(){let t=x.EMPTY_NODE.updateChild(this.indexPath_,la);return new z(En,t)}toString(){return Ks(this.indexPath_,0).join("/")}};var Vg=class extends _o{compare(t,n){let i=t.node.compareTo(n.node);return i===0?Gi(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(t,n){let i=he(t);return new z(n,i)}toString(){return".value"}},Om=new Vg;function pE(e){return{type:"value",snapshotNode:e}}function bo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ys(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Qs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function IF(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Zs=class{constructor(t){this.index_=t}updateChild(t,n,i,r,o,s){v(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(n)?s.trackChildChange(Ys(n,a)):v(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(bo(n,i)):s.trackChildChange(Qs(n,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(le,(r,o)=>{n.hasChild(r)||i.trackChildChange(Ys(r,o))}),n.isLeafNode()||n.forEachChild(le,(r,o)=>{if(t.hasChild(r)){let s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(Qs(r,o,s))}else i.trackChildChange(bo(r,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?x.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var yu=class e{constructor(t){this.indexedFilter_=new Zs(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,r,o,s){return this.matches(new z(n,i))||(i=x.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,o,s)}updateFullNode(t,n,i){n.isLeafNode()&&(n=x.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(x.EMPTY_NODE);let o=this;return n.forEachChild(le,(s,a)=>{o.matches(new z(s,a))||(r=r.updateImmediateChild(s,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var jg=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new yu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,r,o,s){return this.rangedFilter_.matches(new z(n,i))||(i=x.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,o,s):this.fullLimitUpdateChild_(t,n,i,o,s)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=x.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(x.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=t;v(a.numChildren()===this.limit_,"");let l=new z(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(Qs(n,i,d)),a.updateImmediateChild(n,i);{o?.trackChildChange(Ys(n,d));let m=a.updateImmediateChild(n,x.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(bo(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return i.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Ys(c.name,c.node)),o.trackChildChange(bo(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,x.EMPTY_NODE)):t}};var Js=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oi}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:En}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===le}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function TF(e){return e.loadsAllData()?new Zs(e.getIndex()):e.hasLimit()?new jg(e):new yu(e)}function SF(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function MF(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Bg(e,t,n){let i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function AF(e,t,n){let i;return e.index_===Yt||n?i=Bg(e,t,n):i=Bg(e,t,En),i.startAfterSet_=!0,i}function Ug(e,t,n){let i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function NF(e,t,n){let i;return e.index_===Yt||n?i=Ug(e,t,n):i=Ug(e,t,oi),i.endBeforeSet_=!0,i}function Vu(e,t){let n=e.copy();return n.index_=t,n}function EC(e){let t={};if(e.isDefault())return t;let n;if(e.index_===le?n="$priority":e.index_===Om?n="$value":e.index_===Yt?n="$key":(v(e.index_ instanceof qs,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ve(n),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";t[i]=ve(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+ve(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";t[i]=ve(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+ve(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function IC(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==le&&(t.i=e.index_.toString()),t}var $g=class e extends pu{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=aa("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(v(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,i),a={};this.listens_[s]=a;let l=EC(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Tn(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(t,n){let i=e.getListenId_(t,n);delete this.listens_[i]}get(t){let n=EC(t._queryParams),i=t._path.toString(),r=new Te;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+v_(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=va(a.responseText)}catch{je("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&je("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var Hg=class{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function bu(){return{value:null,children:new Map}}function To(e,t,n){if(G(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let i=H(t);e.children.has(i)||e.children.set(i,bu());let r=e.children.get(i);t=se(t),To(r,t,n)}}function Gg(e,t){if(G(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(le,(i,r)=>{To(e,new J(i),r)}),Gg(e,t)}}else if(e.children.size>0){let n=H(t);return t=se(t),e.children.has(n)&&Gg(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function zg(e,t,n){e.value!==null?n(t,e.value):RF(e,(i,r)=>{let o=new J(t.toString()+"/"+i);zg(r,o,n)})}function RF(e,t){e.children.forEach((n,i)=>{t(i,n)})}var Wg=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Re(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}};var TC=10*1e3,OF=30*1e3,xF=5*60*1e3,Kg=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Wg(t);let i=TC+(OF-TC)*Math.random();Us(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),n={},i=!1;Re(t,(r,o)=>{o>0&&ut(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Us(this.reportStats_.bind(this),Math.floor(Math.random()*2*xF))}};var qt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(qt||{});function xm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function km(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var qg=class e{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=qt.ACK_USER_WRITE,this.source=xm()}operationForChild(t){if(G(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new J(t));return new e(Z(),n,this.revert)}}else return v(H(this.path)===t,"operationForChild called for unrelated child."),new e(se(this.path),this.affectedTree,this.revert)}};var wu=class e{constructor(t,n){this.source=t,this.path=n,this.type=qt.LISTEN_COMPLETE}operationForChild(t){return G(this.path)?new e(this.source,Z()):new e(this.source,se(this.path))}};var wo=class e{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=qt.OVERWRITE}operationForChild(t){return G(this.path)?new e(this.source,Z(),this.snap.getImmediateChild(t)):new e(this.source,se(this.path),this.snap)}};var Xs=class e{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=qt.MERGE}operationForChild(t){if(G(this.path)){let n=this.children.subtree(new J(t));return n.isEmpty()?null:n.value?new wo(this.source,Z(),n.value):new e(this.source,Z(),n)}else return v(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Zt=class{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(G(t))return this.isFullyInitialized()&&!this.filtered_;let n=H(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Yg=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function kF(e,t,n,i){let r=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(IF(s.childName,s.snapshotNode))}),Bs(e,r,"child_removed",t,i,n),Bs(e,r,"child_added",t,i,n),Bs(e,r,"child_moved",o,i,n),Bs(e,r,"child_changed",t,i,n),Bs(e,r,"value",t,i,n),r}function Bs(e,t,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,l)=>FF(e,a,l)),s.forEach(a=>{let l=PF(e,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function PF(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function FF(e,t,n){if(t.childName==null||n.childName==null)throw Yi("Should only compare child_ events.");let i=new z(t.childName,t.snapshotNode),r=new z(n.childName,n.snapshotNode);return e.index_.compare(i,r)}function ju(e,t){return{eventCache:e,serverCache:t}}function Hs(e,t,n,i){return ju(new Zt(t,n,i),e.serverCache)}function gE(e,t,n,i){return ju(e.eventCache,new Zt(t,n,i))}function Du(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Hi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var _g,LF=()=>(_g||(_g=new Dt(PP)),_g),Ke=class e{constructor(t,n=LF()){this.value=t,this.children=n}static fromObject(t){let n=new e(null);return Re(t,(i,r)=>{n=n.set(new J(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(G(t))return null;{let i=H(t),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(se(t),n);return o!=null?{path:ue(new J(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(G(t))return this;{let n=H(t),i=this.children.get(n);return i!==null?i.subtree(se(t)):new e(null)}}set(t,n){if(G(t))return new e(n,this.children);{let i=H(t),o=(this.children.get(i)||new e(null)).set(se(t),n),s=this.children.insert(i,o);return new e(this.value,s)}}remove(t){if(G(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=H(t),i=this.children.get(n);if(i){let r=i.remove(se(t)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(G(t))return this.value;{let n=H(t),i=this.children.get(n);return i?i.get(se(t)):null}}setTree(t,n){if(G(t))return n;{let i=H(t),o=(this.children.get(i)||new e(null)).setTree(se(t),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(t){return this.fold_(Z(),t)}fold_(t,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ue(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Z(),n)}findOnPath_(t,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(G(t))return null;{let o=H(t),s=this.children.get(o);return s?s.findOnPath_(se(t),ue(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Z(),n)}foreachOnPath_(t,n,i){if(G(t))return this;{this.value&&i(n,this.value);let r=H(t),o=this.children.get(r);return o?o.foreachOnPath_(se(t),ue(n,r),i):new e(null)}}foreach(t){this.foreach_(Z(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(ue(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}};var Pt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Ke(null))}};function Gs(e,t,n){if(G(t))return new Pt(new Ke(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,o=i.value,s=We(r,t);return o=o.updateChild(s,n),new Pt(e.writeTree_.set(r,o))}else{let r=new Ke(n),o=e.writeTree_.setTree(t,r);return new Pt(o)}}}function Qg(e,t,n){let i=e;return Re(n,(r,o)=>{i=Gs(i,ue(t,r),o)}),i}function SC(e,t){if(G(t))return Pt.empty();{let n=e.writeTree_.setTree(t,new Ke(null));return new Pt(n)}}function Zg(e,t){return zi(e,t)!=null}function zi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(We(n.path,t)):null}function MC(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(le,(i,r)=>{t.push(new z(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new z(i,r.value))}),t}function ii(e,t){if(G(t))return e;{let n=zi(e,t);return n!=null?new Pt(new Ke(n)):new Pt(e.writeTree_.subtree(t))}}function Jg(e){return e.writeTree_.isEmpty()}function Do(e,t){return mE(Z(),e.writeTree_,t)}function mE(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=mE(ue(e,r),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(ue(e,".priority"),i)),n}}function Bu(e,t){return bE(t,e)}function VF(e,t,n,i,r){v(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Gs(e.visibleWrites,t,n)),e.lastWriteId=i}function jF(e,t,n,i){v(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Qg(e.visibleWrites,t,n),e.lastWriteId=i}function BF(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}function UF(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);v(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&$F(a,i.path)?r=!1:wt(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return HF(e),!0;if(i.snap)e.visibleWrites=SC(e.visibleWrites,i.path);else{let a=i.children;Re(a,l=>{e.visibleWrites=SC(e.visibleWrites,ue(i.path,l))})}return!0}else return!1}function $F(e,t){if(e.snap)return wt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&wt(ue(e.path,n),t))return!0;return!1}function HF(e){e.visibleWrites=_E(e.allWrites,GF,Z()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function GF(e){return e.visible}function _E(e,t,n){let i=Pt.empty();for(let r=0;r<e.length;++r){let o=e[r];if(t(o)){let s=o.path,a;if(o.snap)wt(n,s)?(a=We(n,s),i=Gs(i,a,o.snap)):wt(s,n)&&(a=We(s,n),i=Gs(i,Z(),o.snap.getChild(a)));else if(o.children){if(wt(n,s))a=We(n,s),i=Qg(i,a,o.children);else if(wt(s,n))if(a=We(s,n),G(a))i=Qg(i,Z(),o.children);else{let l=Tn(o.children,H(a));if(l){let c=l.getChild(se(a));i=Gs(i,Z(),c)}}}else throw Yi("WriteRecord should have .snap or .children")}}return i}function vE(e,t,n,i,r){if(!i&&!r){let o=zi(e.visibleWrites,t);if(o!=null)return o;{let s=ii(e.visibleWrites,t);if(Jg(s))return n;if(n==null&&!Zg(s,Z()))return null;{let a=n||x.EMPTY_NODE;return Do(s,a)}}}else{let o=ii(e.visibleWrites,t);if(!r&&Jg(o))return n;if(!r&&n==null&&!Zg(o,Z()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(wt(c.path,t)||wt(t,c.path))},a=_E(e.allWrites,s,t),l=n||x.EMPTY_NODE;return Do(a,l)}}}function zF(e,t,n){let i=x.EMPTY_NODE,r=zi(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(le,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=ii(e.visibleWrites,t);return n.forEachChild(le,(s,a)=>{let l=Do(ii(o,new J(s)),a);i=i.updateImmediateChild(s,l)}),MC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=ii(e.visibleWrites,t);return MC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function WF(e,t,n,i,r){v(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=ue(t,n);if(Zg(e.visibleWrites,o))return null;{let s=ii(e.visibleWrites,o);return Jg(s)?r.getChild(n):Do(s,r.getChild(n))}}function KF(e,t,n,i){let r=ue(t,n),o=zi(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=ii(e.visibleWrites,r);return Do(s,i.getNode().getImmediateChild(n))}else return null}function qF(e,t){return zi(e.visibleWrites,t)}function YF(e,t,n,i,r,o,s){let a,l=ii(e.visibleWrites,t),c=zi(l,Z());if(c!=null)a=c;else if(n!=null)a=Do(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function QF(){return{visibleWrites:Pt.empty(),allWrites:[],lastWriteId:-1}}function Cu(e,t,n,i){return vE(e.writeTree,e.treePath,t,n,i)}function Fm(e,t){return zF(e.writeTree,e.treePath,t)}function AC(e,t,n,i){return WF(e.writeTree,e.treePath,t,n,i)}function Eu(e,t){return qF(e.writeTree,ue(e.treePath,t))}function ZF(e,t,n,i,r,o){return YF(e.writeTree,e.treePath,t,n,i,r,o)}function Lm(e,t,n){return KF(e.writeTree,e.treePath,t,n)}function yE(e,t){return bE(ue(e.treePath,t),e.writeTree)}function bE(e,t){return{treePath:e,writeTree:t}}var Xg=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,i=t.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Qs(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Ys(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,bo(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Qs(i,t.snapshotNode,r.oldSnap));else throw Yi("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var em=class{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}},wE=new em,ea=class{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new Zt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lm(this.writes_,t,i)}}getChildAfterChild(t,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hi(this.viewCache_),o=ZF(this.writes_,r,n,1,i,t);return o.length===0?null:o[0]}};function JF(e){return{filter:e}}function XF(e,t){v(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),v(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function eL(e,t,n,i,r){let o=new Xg,s,a;if(n.type===qt.OVERWRITE){let c=n;c.source.fromUser?s=tm(e,t,c.path,c.snap,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!G(c.path),s=Iu(e,t,c.path,c.snap,i,r,a,o))}else if(n.type===qt.MERGE){let c=n;c.source.fromUser?s=nL(e,t,c.path,c.children,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=nm(e,t,c.path,c.children,i,r,a,o))}else if(n.type===qt.ACK_USER_WRITE){let c=n;c.revert?s=oL(e,t,c.path,i,r,o):s=iL(e,t,c.path,c.affectedTree,i,r,o)}else if(n.type===qt.LISTEN_COMPLETE)s=rL(e,t,n.path,i,o);else throw Yi("Unknown operation type: "+n.type);let l=o.getChanges();return tL(t,s,l),{viewCache:s,changes:l}}function tL(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Du(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(pE(Du(t)))}}function DE(e,t,n,i,r,o){let s=t.eventCache;if(Eu(i,n)!=null)return t;{let a,l;if(G(n))if(v(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=Hi(t),u=c instanceof x?c:x.EMPTY_NODE,d=Fm(i,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=Cu(i,Hi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=H(n);if(c===".priority"){v(si(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=AC(i,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=se(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let h=AC(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=Lm(i,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return Hs(t,a,s.isFullyInitialized()||G(n),e.filter.filtersNodes())}}function Iu(e,t,n,i,r,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(G(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=H(n);if(!l.isCompleteForPath(n)&&si(n)>1)return t;let p=se(n),b=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),b):c=u.updateChild(l.getNode(),f,b,p,wE,null)}let d=gE(t,c,l.isFullyInitialized()||G(n),u.filtersNodes()),h=new ea(r,d,o);return DE(e,d,n,r,h,a)}function tm(e,t,n,i,r,o,s){let a=t.eventCache,l,c,u=new ea(r,t,o);if(G(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=Hs(t,c,!0,e.filter.filtersNodes());else{let d=H(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),l=Hs(t,c,a.isFullyInitialized(),a.isFiltered());else{let h=se(n),f=a.getNode().getImmediateChild(d),p;if(G(h))p=i;else{let m=u.getCompleteChild(d);m!=null?Mm(h)===".priority"&&m.getChild(lE(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=x.EMPTY_NODE}if(f.equals(p))l=t;else{let m=e.filter.updateChild(a.getNode(),d,p,h,u,s);l=Hs(t,m,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function NC(e,t){return e.eventCache.isCompleteForChild(t)}function nL(e,t,n,i,r,o,s){let a=t;return i.foreach((l,c)=>{let u=ue(n,l);NC(t,H(u))&&(a=tm(e,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=ue(n,l);NC(t,H(u))||(a=tm(e,a,u,c,r,o,s))}),a}function RC(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function nm(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;G(n)?c=i:c=new Ke(null).setTree(n,i);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=t.serverCache.getNode().getImmediateChild(d),p=RC(e,f,h);l=Iu(e,l,new J(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=t.serverCache.getNode().getImmediateChild(d),m=RC(e,p,h);l=Iu(e,l,new J(d),m,r,o,s,a)}}),l}function iL(e,t,n,i,r,o,s){if(Eu(r,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(G(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Iu(e,t,n,l.getNode().getChild(n),r,o,a,s);if(G(n)){let c=new Ke(null);return l.getNode().forEachChild(Yt,(u,d)=>{c=c.set(new J(u),d)}),nm(e,t,n,c,r,o,a,s)}else return t}else{let c=new Ke(null);return i.foreach((u,d)=>{let h=ue(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),nm(e,t,n,c,r,o,a,s)}}function rL(e,t,n,i,r){let o=t.serverCache,s=gE(t,o.getNode(),o.isFullyInitialized()||G(n),o.isFiltered());return DE(e,s,n,i,wE,r)}function oL(e,t,n,i,r,o){let s;if(Eu(i,n)!=null)return t;{let a=new ea(i,t,r),l=t.eventCache.getNode(),c;if(G(n)||H(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Cu(i,Hi(t));else{let d=t.serverCache.getNode();v(d instanceof x,"serverChildren would be complete if leaf node"),u=Fm(i,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=H(n),d=Lm(i,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,se(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,x.EMPTY_NODE,se(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Cu(i,Hi(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||Eu(i,Z())!=null,Hs(t,c,s,e.filter.filtersNodes())}}var im=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Zs(i.getIndex()),o=TF(i);this.processor_=JF(o);let s=n.serverCache,a=n.eventCache,l=r.updateFullNode(x.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(x.EMPTY_NODE,a.getNode(),null),u=new Zt(l,s.isFullyInitialized(),r.filtersNodes()),d=new Zt(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=ju(d,u),this.eventGenerator_=new Yg(this.query_)}get query(){return this.query_}};function sL(e){return e.viewCache_.serverCache.getNode()}function aL(e){return Du(e.viewCache_)}function lL(e,t){let n=Hi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!G(t)&&!n.getImmediateChild(H(t)).isEmpty())?n.getChild(t):null}function OC(e){return e.eventRegistrations_.length===0}function cL(e,t){e.eventRegistrations_.push(t)}function xC(e,t,n){let i=[];if(n){v(t==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))r.push(s);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function kC(e,t,n,i){t.type===qt.MERGE&&t.source.queryId!==null&&(v(Hi(e.viewCache_),"We should always have a full cache before handling merges"),v(Du(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=eL(e.processor_,r,t,n,i);return XF(e.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,CE(e,o.changes,o.viewCache.eventCache.getNode(),null)}function uL(e,t){let n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(le,(o,s)=>{i.push(bo(o,s))}),n.isFullyInitialized()&&i.push(pE(n.getNode())),CE(e,i,n.getNode(),t)}function CE(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return kF(e.eventGenerator_,t,n,r)}var Tu,Su=class{constructor(){this.views=new Map}};function dL(e){v(!Tu,"__referenceConstructor has already been defined"),Tu=e}function hL(){return v(Tu,"Reference.ts has not been loaded"),Tu}function fL(e){return e.views.size===0}function Vm(e,t,n,i){let r=t.source.queryId;if(r!==null){let o=e.views.get(r);return v(o!=null,"SyncTree gave us an op for an invalid query."),kC(o,t,n,i)}else{let o=[];for(let s of e.views.values())o=o.concat(kC(s,t,n,i));return o}}function EE(e,t,n,i,r){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Cu(n,r?i:null),l=!1;a?l=!0:i instanceof x?(a=Fm(n,i),l=!1):(a=x.EMPTY_NODE,l=!1);let c=ju(new Zt(a,l,!1),new Zt(i,r,!1));return new im(t,c)}return s}function pL(e,t,n,i,r,o){let s=EE(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),cL(s,n),uL(s,n)}function gL(e,t,n,i){let r=t._queryIdentifier,o=[],s=[],a=ai(e);if(r==="default")for(let[l,c]of e.views.entries())s=s.concat(xC(c,n,i)),OC(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(r);l&&(s=s.concat(xC(l,n,i)),OC(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ai(e)&&o.push(new(hL())(t._repo,t._path)),{removed:o,events:s}}function IE(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ri(e,t){let n=null;for(let i of e.views.values())n=n||lL(i,t);return n}function TE(e,t){if(t._queryParams.loadsAllData())return Uu(e);{let i=t._queryIdentifier;return e.views.get(i)}}function SE(e,t){return TE(e,t)!=null}function ai(e){return Uu(e)!=null}function Uu(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Mu;function mL(e){v(!Mu,"__referenceConstructor has already been defined"),Mu=e}function _L(){return v(Mu,"Reference.ts has not been loaded"),Mu}var vL=1,Au=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ke(null),this.pendingWriteTree_=QF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function jm(e,t,n,i,r){return VF(e.pendingWriteTree_,t,n,i,r),r?So(e,new wo(xm(),t,n)):[]}function yL(e,t,n,i){jF(e.pendingWriteTree_,t,n,i);let r=Ke.fromObject(n);return So(e,new Xs(xm(),t,r))}function ni(e,t,n=!1){let i=BF(e.pendingWriteTree_,t);if(UF(e.pendingWriteTree_,t)){let o=new Ke(null);return i.snap!=null?o=o.set(Z(),!0):Re(i.children,s=>{o=o.set(new J(s),!0)}),So(e,new qg(i.path,o,n))}else return[]}function ca(e,t,n){return So(e,new wo(km(),t,n))}function bL(e,t,n){let i=Ke.fromObject(n);return So(e,new Xs(km(),t,i))}function wL(e,t){return So(e,new wu(km(),t))}function DL(e,t,n){let i=Bm(e,n);if(i){let r=Um(i),o=r.path,s=r.queryId,a=We(o,t),l=new wu(Pm(s),a);return $m(e,o,l)}else return[]}function Nu(e,t,n,i,r=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||SE(s,t))){let l=gL(s,t,n,i);fL(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(h,f)=>ai(f));if(u&&!d){let h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=IL(h);for(let p=0;p<f.length;++p){let m=f[p],b=m.query,T=RE(e,m);e.listenProvider_.startListening(zs(b),ta(e,b),T.hashFn,T.onComplete)}}}!d&&c.length>0&&!i&&(u?e.listenProvider_.stopListening(zs(t),null):c.forEach(h=>{let f=e.queryToTagMap.get(Hu(h));e.listenProvider_.stopListening(zs(h),f)}))}TL(e,c)}return a}function ME(e,t,n,i){let r=Bm(e,i);if(r!=null){let o=Um(r),s=o.path,a=o.queryId,l=We(s,t),c=new wo(Pm(a),l,n);return $m(e,s,c)}else return[]}function CL(e,t,n,i){let r=Bm(e,i);if(r){let o=Um(r),s=o.path,a=o.queryId,l=We(s,t),c=Ke.fromObject(n),u=new Xs(Pm(a),l,c);return $m(e,s,u)}else return[]}function rm(e,t,n,i=!1){let r=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=We(h,r);o=o||ri(f,p),s=s||ai(f)});let a=e.syncPointTree_.get(r);a?(s=s||ai(a),o=o||ri(a,Z())):(a=new Su,e.syncPointTree_=e.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=x.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((f,p)=>{let m=ri(p,Z());m&&(o=o.updateImmediateChild(f,m))}));let c=SE(a,t);if(!c&&!t._queryParams.loadsAllData()){let h=Hu(t);v(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=SL();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=Bu(e.pendingWriteTree_,r),d=pL(a,t,n,u,o,l);if(!c&&!s&&!i){let h=TE(a,t);d=d.concat(ML(e,t,h))}return d}function $u(e,t,n){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=We(s,t),c=ri(a,l);if(c)return c});return vE(r,t,o,n,!0)}function EL(e,t){let n=t._path,i=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=We(c,n);i=i||ri(u,d)});let r=e.syncPointTree_.get(n);r?i=i||ri(r,Z()):(r=new Su,e.syncPointTree_=e.syncPointTree_.set(n,r));let o=i!=null,s=o?new Zt(i,!0,!1):null,a=Bu(e.pendingWriteTree_,t._path),l=EE(r,t,a,o?s.getNode():x.EMPTY_NODE,o);return aL(l)}function So(e,t){return AE(t,e.syncPointTree_,null,Bu(e.pendingWriteTree_,Z()))}function AE(e,t,n,i){if(G(e.path))return NE(e,t,n,i);{let r=t.get(Z());n==null&&r!=null&&(n=ri(r,Z()));let o=[],s=H(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=yE(i,s);o=o.concat(AE(a,l,c,u))}return r&&(o=o.concat(Vm(r,e,i,n))),o}}function NE(e,t,n,i){let r=t.get(Z());n==null&&r!=null&&(n=ri(r,Z()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=yE(i,s),u=e.operationForChild(s);u&&(o=o.concat(NE(u,a,l,c)))}),r&&(o=o.concat(Vm(r,e,i,n))),o}function RE(e,t){let n=t.query,i=ta(e,n);return{hashFn:()=>(sL(t)||x.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?DL(e,n._path,i):wL(e,n._path);{let o=VP(r,n);return Nu(e,n,null,o)}}}}function ta(e,t){let n=Hu(t);return e.queryToTagMap.get(n)}function Hu(e){return e._path.toString()+"$"+e._queryIdentifier}function Bm(e,t){return e.tagToQueryMap.get(t)}function Um(e){let t=e.indexOf("$");return v(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new J(e.substr(0,t))}}function $m(e,t,n){let i=e.syncPointTree_.get(t);v(i,"Missing sync point for query tag that we're tracking");let r=Bu(e.pendingWriteTree_,t);return Vm(i,n,r,null)}function IL(e){return e.fold((t,n,i)=>{if(n&&ai(n))return[Uu(n)];{let r=[];return n&&(r=IE(n)),Re(i,(o,s)=>{r=r.concat(s)}),r}})}function zs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(_L())(e._repo,e._path):e}function TL(e,t){for(let n=0;n<t.length;++n){let i=t[n];if(!i._queryParams.loadsAllData()){let r=Hu(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function SL(){return vL++}function ML(e,t,n){let i=t._path,r=ta(e,t),o=RE(e,n),s=e.listenProvider_.startListening(zs(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)v(!ai(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!G(c)&&u&&ai(u))return[Uu(u).query];{let h=[];return u&&(h=h.concat(IE(u).map(f=>f.query))),Re(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(zs(u),ta(e,u))}}return s}var om=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},sm=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=ue(this.path_,t);return new e(this.syncTree_,n)}node(){return $u(this.syncTree_,this.path_)}},AL=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},PC=function(e,t,n){if(!e||typeof e!="object")return e;if(v(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return NL(e[".sv"],t,n);if(typeof e[".sv"]=="object")return RL(e[".sv"],t);v(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},NL=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+e)}},RL=function(e,t,n){e.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&v(!1,"Unexpected increment value: "+i);let r=t.node();if(v(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},OE=function(e,t,n,i){return Gm(t,new sm(n,e),i)},Hm=function(e,t,n){return Gm(e,new om(t),n)};function Gm(e,t,n){let i=e.getPriority().val(),r=PC(i,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=PC(s.getValue(),t,n);return a!==s.getValue()||r!==s.getPriority().val()?new vo(a,he(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new vo(r))),s.forEachChild(le,(a,l)=>{let c=Gm(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var na=class{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}};function Gu(e,t){let n=t instanceof J?t:new J(t),i=e,r=H(n);for(;r!==null;){let o=Tn(i.node.children,r)||{children:{},childCount:0};i=new na(r,i,o),n=se(n),r=H(n)}return i}function Wi(e){return e.node.value}function zm(e,t){e.node.value=t,am(e)}function xE(e){return e.node.childCount>0}function OL(e){return Wi(e)===void 0&&!xE(e)}function zu(e,t){Re(e.node.children,(n,i)=>{t(new na(n,e,i))})}function kE(e,t,n,i){n&&!i&&t(e),zu(e,r=>{kE(r,t,!0,i)}),n&&i&&t(e)}function xL(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function ua(e){return new J(e.parent===null?e.name:ua(e.parent)+"/"+e.name)}function am(e){e.parent!==null&&kL(e.parent,e.name,e)}function kL(e,t,n){let i=OL(n),r=ut(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,am(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,am(e))}var PL=/[\[\].#$\/\u0000-\u001F\u007F]/,FL=/[\[\].#$\u0000-\u001F\u007F]/,vg=10*1024*1024,Wu=function(e){return typeof e=="string"&&e.length!==0&&!PL.test(e)},PE=function(e){return typeof e=="string"&&e.length!==0&&!FL.test(e)},LL=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),PE(e)},ia=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Lu(e)||e&&typeof e=="object"&&ut(e,".sv")},Jt=function(e,t,n,i){i&&t===void 0||da(Qe(e,"value"),t,n)},da=function(e,t,n){let i=n instanceof J?new Rg(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Bi(i));if(typeof t=="function")throw new Error(e+"contains a function "+Bi(i)+" with contents = "+t.toString());if(Lu(t))throw new Error(e+"contains "+t.toString()+" "+Bi(i));if(typeof t=="string"&&t.length>vg/3&&Ro(t)>vg)throw new Error(e+"contains a string greater than "+vg+" utf8 bytes "+Bi(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(Re(t,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Wu(s)))throw new Error(e+" contains an invalid key ("+s+") "+Bi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fF(i,s),da(e,a,i),pF(i)}),r&&o)throw new Error(e+' contains ".value" child '+Bi(i)+" in addition to actual children.")}},VL=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];let o=Ks(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Wu(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(hF);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&wt(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},FE=function(e,t,n,i){if(i&&t===void 0)return;let r=Qe(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");let o=[];Re(t,(s,a)=>{let l=new J(s);if(da(r,a,ue(n,l)),Mm(l)===".priority"&&!ia(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),VL(r,o)},Wm=function(e,t,n){if(!(n&&t===void 0)){if(Lu(t))throw new Error(Qe(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ia(t))throw new Error(Qe(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ha=function(e,t,n,i){if(!(i&&n===void 0)&&!Wu(n))throw new Error(Qe(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Mo=function(e,t,n,i){if(!(i&&n===void 0)&&!PE(n))throw new Error(Qe(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jL=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Mo(e,t,n,i)},st=function(e,t){if(H(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},LE=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Wu(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!LL(n))throw new Error(Qe(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var lm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Ku(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],o=r.getPath();n!==null&&!Am(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function VE(e,t,n){Ku(e,n),jE(e,i=>Am(i,t))}function at(e,t,n){Ku(e,n),jE(e,i=>wt(i,t)||wt(t,i))}function jE(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;t(o)?(BL(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function BL(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let i=n.getEventRunner();$i&&Ne("event: "+n.toString()),Io(i)}}}var BE="repo_interrupt",UL=25,cm=class{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bu(),this.transactionQueueTree_=new na,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function $L(e,t,n){if(e.stats_=Sm(e.repoInfo_),e.forceRestClient_||$P())e.server_=new $g(e.repoInfo_,(i,r,o,s)=>{FC(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>LC(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ve(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Nm(e.repoInfo_,t,(i,r,o,s)=>{FC(e,i,r,o,s)},i=>{LC(e,i)},i=>{HL(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=GP(e.repoInfo_,()=>new Kg(e.stats_,e.server_)),e.infoData_=new Hg,e.infoSyncTree_=new Au({startListening:(i,r,o,s)=>{let a=[],l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=ca(e.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Km(e,"connected",!1),e.serverSyncTree_=new Au({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);at(e.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function UE(e){let n=e.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fa(e){return AL({timestamp:UE(e)})}function FC(e,t,n,i,r){e.dataUpdateCount++;let o=new J(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){let l=No(n,c=>he(c));s=CL(e.serverSyncTree_,o,l,r)}else{let l=he(n);s=ME(e.serverSyncTree_,o,l,r)}else if(i){let l=No(n,c=>he(c));s=bL(e.serverSyncTree_,o,l)}else{let l=he(n);s=ca(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Co(e,o)),at(e.eventQueue_,a,s)}function LC(e,t){Km(e,"connected",t),t===!1&&WL(e)}function HL(e,t){Re(t,(n,i)=>{Km(e,n,i)})}function Km(e,t,n){let i=new J("/.info/"+t),r=he(n);e.infoData_.updateSnapshot(i,r);let o=ca(e.infoSyncTree_,i,r);at(e.eventQueue_,i,o)}function qu(e){return e.nextWriteId_++}function GL(e,t,n){let i=EL(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(r=>{let o=he(r).withIndex(t._queryParams.getIndex());rm(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=ca(e.serverSyncTree_,t._path,o);else{let a=ta(e.serverSyncTree_,t);s=ME(e.serverSyncTree_,t._path,o,a)}return at(e.eventQueue_,t._path,s),Nu(e.serverSyncTree_,t,n,null,!0),o},r=>(Ao(e,"get for query "+ve(t)+" failed: "+r),Promise.reject(new Error(r))))}function qm(e,t,n,i,r){Ao(e,"set",{path:t.toString(),value:n,priority:i});let o=fa(e),s=he(n,i),a=$u(e.serverSyncTree_,t),l=Hm(s,a,o),c=qu(e),u=jm(e.serverSyncTree_,t,l,c,!0);Ku(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,f)=>{let p=h==="ok";p||je("set at "+t+" failed: "+h);let m=ni(e.serverSyncTree_,c,!p);at(e.eventQueue_,t,m),li(e,r,h,f)});let d=Qm(e,t);Co(e,d),at(e.eventQueue_,d,[])}function zL(e,t,n,i){Ao(e,"update",{path:t.toString(),value:n});let r=!0,o=fa(e),s={};if(Re(n,(a,l)=>{r=!1,s[a]=OE(ue(t,a),he(l),e.serverSyncTree_,o)}),r)Ne("update() called with empty data.  Don't do anything."),li(e,i,"ok",void 0);else{let a=qu(e),l=yL(e.serverSyncTree_,t,s,a);Ku(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||je("update at "+t+" failed: "+c);let h=ni(e.serverSyncTree_,a,!d),f=h.length>0?Co(e,t):t;at(e.eventQueue_,f,h),li(e,i,c,u)}),Re(n,c=>{let u=Qm(e,ue(t,c));Co(e,u)}),at(e.eventQueue_,t,[])}}function WL(e){Ao(e,"onDisconnectEvents");let t=fa(e),n=bu();zg(e.onDisconnect_,Z(),(r,o)=>{let s=OE(r,o,e.serverSyncTree_,t);To(n,r,s)});let i=[];zg(n,Z(),(r,o)=>{i=i.concat(ca(e.serverSyncTree_,r,o));let s=Qm(e,r);Co(e,s)}),e.onDisconnect_=bu(),at(e.eventQueue_,Z(),i)}function KL(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&Gg(e.onDisconnect_,t),li(e,n,i,r)})}function VC(e,t,n,i){let r=he(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{o==="ok"&&To(e.onDisconnect_,t,r),li(e,i,o,s)})}function qL(e,t,n,i,r){let o=he(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&To(e.onDisconnect_,t,o),li(e,r,s,a)})}function YL(e,t,n,i){if(ya(n)){Ne("onDisconnect().update() called with empty data.  Don't do anything."),li(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,o)=>{r==="ok"&&Re(n,(s,a)=>{let l=he(a);To(e.onDisconnect_,ue(t,s),l)}),li(e,i,r,o)})}function QL(e,t,n){let i;H(t._path)===".info"?i=rm(e.infoSyncTree_,t,n):i=rm(e.serverSyncTree_,t,n),VE(e.eventQueue_,t._path,i)}function um(e,t,n){let i;H(t._path)===".info"?i=Nu(e.infoSyncTree_,t,n):i=Nu(e.serverSyncTree_,t,n),VE(e.eventQueue_,t._path,i)}function $E(e){e.persistentConnection_&&e.persistentConnection_.interrupt(BE)}function ZL(e){e.persistentConnection_&&e.persistentConnection_.resume(BE)}function Ao(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ne(n,...t)}function li(e,t,n,i){t&&Io(()=>{if(n==="ok")t(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,t(s)}})}function JL(e,t,n,i,r,o){Ao(e,"transaction on "+t);let s={path:t,update:n,onComplete:i,status:null,order:UC(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Ym(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{da("transaction failed: Data returned ",l,s.path),s.status=0;let c=Gu(e.transactionQueueTree_,t),u=Wi(c)||[];u.push(s),zm(c,u);let d;typeof l=="object"&&l!==null&&ut(l,".priority")?(d=Tn(l,".priority"),v(ia(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=($u(e.serverSyncTree_,t)||x.EMPTY_NODE).getPriority().val();let h=fa(e),f=he(l,d),p=Hm(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=qu(e);let m=jm(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);at(e.eventQueue_,t,m),Yu(e,e.transactionQueueTree_)}}function Ym(e,t,n){return $u(e.serverSyncTree_,t,n)||x.EMPTY_NODE}function Yu(e,t=e.transactionQueueTree_){if(t||Qu(e,t),Wi(t)){let n=GE(e,t);v(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&XL(e,ua(t),n)}else xE(t)&&zu(t,n=>{Yu(e,n)})}function XL(e,t,n){let i=n.map(c=>c.currentWriteId),r=Ym(e,t,i),o=r,s=r.hash();for(let c=0;c<n.length;c++){let u=n[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=We(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{Ao(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ni(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Qu(e,Gu(e.transactionQueueTree_,t)),Yu(e,e.transactionQueueTree_),at(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)Io(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{je("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Co(e,t)}},s)}function Co(e,t){let n=HE(e,t),i=ua(n),r=GE(e,n);return eV(e,r,i),i}function eV(e,t,n){if(t.length===0)return;let i=[],r=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=We(n,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(ni(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=UL)u=!0,d="maxretry",r=r.concat(ni(e.serverSyncTree_,l.currentWriteId,!0));else{let h=Ym(e,l.path,s);l.currentInputSnapshot=h;let f=t[a].update(h.val());if(f!==void 0){da("transaction failed: Data returned ",f,l.path);let p=he(f);typeof f=="object"&&f!=null&&ut(f,".priority")||(p=p.updatePriority(h.getPriority()));let b=l.currentWriteId,T=fa(e),j=Hm(p,h,T);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=j,l.currentWriteId=qu(e),s.splice(s.indexOf(b),1),r=r.concat(jm(e.serverSyncTree_,l.path,j,l.currentWriteId,l.applyLocally)),r=r.concat(ni(e.serverSyncTree_,b,!0))}else u=!0,d="nodata",r=r.concat(ni(e.serverSyncTree_,l.currentWriteId,!0))}at(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}Qu(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Io(i[a]);Yu(e,e.transactionQueueTree_)}function HE(e,t){let n,i=e.transactionQueueTree_;for(n=H(t);n!==null&&Wi(i)===void 0;)i=Gu(i,n),t=se(t),n=H(t);return i}function GE(e,t){let n=[];return zE(e,t,n),n.sort((i,r)=>i.order-r.order),n}function zE(e,t,n){let i=Wi(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);zu(t,r=>{zE(e,r,n)})}function Qu(e,t){let n=Wi(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,zm(t,n.length>0?n:void 0)}zu(t,i=>{Qu(e,i)})}function Qm(e,t){let n=ua(HE(e,t)),i=Gu(e.transactionQueueTree_,t);return xL(i,r=>{yg(e,r)}),yg(e,i),kE(i,r=>{yg(e,r)}),n}function yg(e,t){let n=Wi(t);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(v(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(ni(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?zm(t,void 0):n.length=o+1,at(e.eventQueue_,ua(t),r);for(let s=0;s<i.length;s++)Io(i[s])}}function tV(e){let t="",n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function nV(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):je(`Invalid query segment '${n}' in query '${e}'`)}return t}var dm=function(e,t){let n=iV(e),i=n.namespace;n.domain==="firebase.com"&&Qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||xP();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new hu(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new J(n.pathString)}},iV=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=tV(e.substring(u,d)));let h=nV(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let f=t.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=t.indexOf(".");i=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var jC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rV=function(){let e=0,t=[];return function(n){let i=n===e;e=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=jC.charAt(n%64),n=Math.floor(n/64);v(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=jC.charAt(t[r]);return v(s.length===20,"nextPushId: Length should be 20."),s}}();var Ru=class{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ve(this.snapshot.exportVal())}},Ou=class{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ra=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var xu=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Te;return KL(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){st("OnDisconnect.remove",this._path);let t=new Te;return VC(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){st("OnDisconnect.set",this._path),Jt("OnDisconnect.set",t,this._path,!1);let n=new Te;return VC(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){st("OnDisconnect.setWithPriority",this._path),Jt("OnDisconnect.setWithPriority",t,this._path,!1),Wm("OnDisconnect.setWithPriority",n,!1);let i=new Te;return qL(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){st("OnDisconnect.update",this._path),FE("OnDisconnect.update",t,this._path,!1);let n=new Te;return YL(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var qe=class e{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return G(this._path)?null:Mm(this._path)}get ref(){return new lt(this._repo,this._path)}get _queryIdentifier(){let t=IC(this._queryParams),n=Tm(t);return n==="{}"?"default":n}get _queryObject(){return IC(this._queryParams)}isEqual(t){if(t=Be(t),!(t instanceof e))return!1;let n=this._repo===t._repo,i=Am(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+dF(this._path)}};function Zu(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ui(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Yt){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==oi)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==En)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===le){if(t!=null&&!ia(t)||n!=null&&!ia(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v(e.getIndex()instanceof qs||e.getIndex()===Om,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ju(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var lt=class e extends qe{constructor(t,n){super(t,n,new Js,!1)}get parent(){let t=lE(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Eo=class e{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new J(t),i=ci(this.ref,t);return new e(this._node.getChild(n),i,le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new e(r,ci(this.ref,i),le)))}hasChild(t){let n=new J(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Zm(e,t){return e=Be(e),e._checkNotDeleted("ref"),t!==void 0?ci(e._root,t):e._root}function Jm(e,t){e=Be(e),e._checkNotDeleted("refFromURL");let n=dm(t,e._repo.repoInfo_.nodeAdmin);LE("refFromURL",n);let i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&Qt("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),Zm(e,n.path.toString())}function ci(e,t){return e=Be(e),H(e._path)===null?jL("child","path",t,!1):Mo("child","path",t,!1),new lt(e._repo,ue(e._path,t))}function WE(e,t){e=Be(e),st("push",e._path),Jt("push",t,e._path,!0);let n=UE(e._repo),i=rV(n),r=ci(e,i),o=ci(e,i),s;return t!=null?s=Xu(o,t).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function KE(e){return st("remove",e._path),Xu(e,null)}function Xu(e,t){e=Be(e),st("set",e._path),Jt("set",t,e._path,!1);let n=new Te;return qm(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function qE(e,t){e=Be(e),st("setPriority",e._path),Wm("setPriority",t,!1);let n=new Te;return qm(e._repo,ue(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function YE(e,t,n){if(st("setWithPriority",e._path),Jt("setWithPriority",t,e._path,!1),Wm("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let i=new Te;return qm(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function QE(e,t){FE("update",t,e._path,!1);let n=new Te;return zL(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function ZE(e){e=Be(e);let t=new ra(()=>{}),n=new oa(t);return GL(e._repo,e,n).then(i=>new Eo(i,new lt(e._repo,e._path),e._queryParams.getIndex()))}var oa=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let i=n._queryParams.getIndex();return new Ru("value",this,new Eo(t.snapshotNode,new lt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Ou(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},ku=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Ou(this,t,n):null}createEvent(t,n){v(t.childName!=null,"Child events should have a childName.");let i=ci(new lt(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new Ru(t.type,this,new Eo(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function pa(e,t,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{um(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new ra(n,o||void 0),a=t==="value"?new oa(s):new ku(t,s);return QL(e._repo,e,a),()=>um(e._repo,e,a)}function ed(e,t,n,i){return pa(e,"value",t,n,i)}function Xm(e,t,n,i){return pa(e,"child_added",t,n,i)}function e_(e,t,n,i){return pa(e,"child_changed",t,n,i)}function t_(e,t,n,i){return pa(e,"child_moved",t,n,i)}function n_(e,t,n,i){return pa(e,"child_removed",t,n,i)}function i_(e,t,n){let i=null,r=n?new ra(n):null;t==="value"?i=new oa(r):t&&(i=new ku(t,r)),um(e._repo,e,i)}var ct=class{},Pu=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){Jt("endAt",this._value,t._path,!0);let n=Ug(t._queryParams,this._value,this._key);if(Ju(n),ui(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qe(t._repo,t._path,n,t._orderByCalled)}};function JE(e,t){return ha("endAt","key",t,!0),new Pu(e,t)}var hm=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){Jt("endBefore",this._value,t._path,!1);let n=NF(t._queryParams,this._value,this._key);if(Ju(n),ui(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qe(t._repo,t._path,n,t._orderByCalled)}};function XE(e,t){return ha("endBefore","key",t,!0),new hm(e,t)}var Fu=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){Jt("startAt",this._value,t._path,!0);let n=Bg(t._queryParams,this._value,this._key);if(Ju(n),ui(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qe(t._repo,t._path,n,t._orderByCalled)}};function e1(e=null,t){return ha("startAt","key",t,!0),new Fu(e,t)}var fm=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){Jt("startAfter",this._value,t._path,!1);let n=AF(t._queryParams,this._value,this._key);if(Ju(n),ui(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new qe(t._repo,t._path,n,t._orderByCalled)}};function t1(e,t){return ha("startAfter","key",t,!0),new fm(e,t)}var pm=class extends ct{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qe(t._repo,t._path,SF(t._queryParams,this._limit),t._orderByCalled)}};function n1(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new pm(e)}var gm=class extends ct{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new qe(t._repo,t._path,MF(t._queryParams,this._limit),t._orderByCalled)}};function i1(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new gm(e)}var mm=class extends ct{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){Zu(t,"orderByChild");let n=new J(this._path);if(G(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new qs(n),r=Vu(t._queryParams,i);return ui(r),new qe(t._repo,t._path,r,!0)}};function r1(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Mo("orderByChild","path",e,!1),new mm(e)}var _m=class extends ct{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){Zu(t,"orderByKey");let n=Vu(t._queryParams,Yt);return ui(n),new qe(t._repo,t._path,n,!0)}};function o1(){return new _m}var vm=class extends ct{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){Zu(t,"orderByPriority");let n=Vu(t._queryParams,le);return ui(n),new qe(t._repo,t._path,n,!0)}};function s1(){return new vm}var ym=class extends ct{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){Zu(t,"orderByValue");let n=Vu(t._queryParams,Om);return ui(n),new qe(t._repo,t._path,n,!0)}};function a1(){return new ym}var bm=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(Jt("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Pu(this._value,this._key)._apply(new Fu(this._value,this._key)._apply(t))}};function l1(e,t){return ha("equalTo","key",t,!0),new bm(e,t)}function Ct(e,...t){let n=Be(e);for(let i of t)n=i._apply(n);return n}dL(lt);mL(lt);var oV="FIREBASE_DATABASE_EMULATOR_HOST",wm={},sV=!1;function aV(e,t,n,i){e.repoInfo_=new hu(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function r_(e,t,n,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||Qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ne("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=dm(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[oV]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=dm(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new $s($s.OWNER):new Ig(e.name,e.options,t);LE("Invalid Firebase Database URL",s),G(s.path)||Qt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=cV(a,e,u,new Eg(e.name,n));return new Dm(d,e)}function lV(e,t){let n=wm[t];(!n||n[e.key]!==e)&&Qt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),$E(e),delete n[e.key]}function cV(e,t,n,i){let r=wm[t.name];r||(r={},wm[t.name]=r);let o=r[e.toURLString()];return o&&Qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new cm(e,sV,n,i),r[e.toURLString()]=o,o}var Dm=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($L(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lt(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Qt("Cannot call "+t+" on a deleted database.")}};function c1(){aE.IS_TRANSPORT_INITIALIZED&&je("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function u1(){c1(),Ws.forceDisallow()}function d1(){c1(),po.forceDisallow(),Ws.forceAllow()}function h1(e,t,n,i={}){e=Be(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Qt("Cannot call useEmulator() after instance has already been initialized.");let r=e._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new $s($s.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:h_(i.mockUserToken,e.app.options.projectId);o=new $s(s)}aV(r,t,n,o)}function f1(e){e=Be(e),e._checkNotDeleted("goOffline"),$E(e._repo)}function p1(e){e=Be(e),e._checkNotDeleted("goOnline"),ZL(e._repo)}function g1(e,t){HC(e,t)}function uV(e){Im(D_),Oo(new en("database",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return r_(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Sn(lC,cC,e),Sn(lC,cC,"esm2017")}var dV={".sv":"timestamp"};function m1(){return dV}function _1(e){return{".sv":{increment:e}}}var Cm=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function v1(e,t,n){var i;if(e=Be(e),st("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,o=new Te,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new Eo(u,new lt(e._repo,e._path),le),o.resolve(new Cm(c,d)))},a=ed(e,()=>{});return JL(e._repo,e._path,t,s,a,r),o.promise}Nm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Nm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};uV();var hV="@firebase/database-compat",fV="1.0.8";var pV=new Qi("@firebase/database-compat"),y1=function(e){let t="FIREBASE WARNING: "+e;pV.warn(t)};var gV=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(Qe(e,t)+"must be a boolean.")},mV=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Qe(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var o_=class{constructor(t){this._delegate=t}cancel(t){A("OnDisconnect.cancel",0,1,arguments.length),De("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){A("OnDisconnect.remove",0,1,arguments.length),De("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){A("OnDisconnect.set",1,2,arguments.length),De("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){A("OnDisconnect.setWithPriority",2,3,arguments.length),De("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,n){if(A("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,y1("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}De("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}};var s_=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return A("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Ki=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return A("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return A("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return A("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return A("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return A("DataSnapshot.child",0,1,arguments.length),t=String(t),Mo("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return A("DataSnapshot.hasChild",1,1,arguments.length),Mo("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return A("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return A("DataSnapshot.forEach",1,1,arguments.length),De("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return A("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return A("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return A("DataSnapshot.ref",0,0,arguments.length),new In(this._database,this._delegate.ref)}get ref(){return this.getRef()}},td=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var o;A("Query.on",2,4,arguments.length),De("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(s.context,new Ki(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return ed(this._delegate,a,l),n;case"child_added":return Xm(this._delegate,a,l),n;case"child_removed":return n_(this._delegate,a,l),n;case"child_changed":return e_(this._delegate,a,l),n;case"child_moved":return t_(this._delegate,a,l),n;default:throw new Error(Qe("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(A("Query.off",0,3,arguments.length),mV("Query.off",t,!0),De("Query.off","callback",n,!0),od("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,i_(this._delegate,t,r)}else i_(this._delegate,t)}get(){return ZE(this._delegate).then(t=>new Ki(this.database,t))}once(t,n,i,r){A("Query.once",1,4,arguments.length),De("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",i,r),s=new Te,a=(c,u)=>{let d=new Ki(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":ed(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Xm(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":n_(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":e_(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":t_(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Qe("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return A("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ct(this._delegate,n1(t)))}limitToLast(t){return A("Query.limitToLast",1,1,arguments.length),new e(this.database,Ct(this._delegate,i1(t)))}orderByChild(t){return A("Query.orderByChild",1,1,arguments.length),new e(this.database,Ct(this._delegate,r1(t)))}orderByKey(){return A("Query.orderByKey",0,0,arguments.length),new e(this.database,Ct(this._delegate,o1()))}orderByPriority(){return A("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ct(this._delegate,s1()))}orderByValue(){return A("Query.orderByValue",0,0,arguments.length),new e(this.database,Ct(this._delegate,a1()))}startAt(t=null,n){return A("Query.startAt",0,2,arguments.length),new e(this.database,Ct(this._delegate,e1(t,n)))}startAfter(t=null,n){return A("Query.startAfter",0,2,arguments.length),new e(this.database,Ct(this._delegate,t1(t,n)))}endAt(t=null,n){return A("Query.endAt",0,2,arguments.length),new e(this.database,Ct(this._delegate,JE(t,n)))}endBefore(t=null,n){return A("Query.endBefore",0,2,arguments.length),new e(this.database,Ct(this._delegate,XE(t,n)))}equalTo(t,n){return A("Query.equalTo",1,2,arguments.length),new e(this.database,Ct(this._delegate,l1(t,n)))}toString(){return A("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return A("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(A("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,De(t,"cancel",r.cancel,!0),r.context=i,od(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(Qe(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new In(this.database,new lt(this._delegate._repo,this._delegate._path))}},In=class e extends td{constructor(t,n){super(t,new qe(n._repo,n._path,new Js,!1)),this.database=t,this._delegate=n}getKey(){return A("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return A("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,ci(this._delegate,t))}getParent(){A("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return A("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){A("Reference.set",1,2,arguments.length),De("Reference.set","onComplete",n,!0);let i=Xu(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(A("Reference.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,y1("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}st("Reference.update",this._delegate._path),De("Reference.update","onComplete",n,!0);let i=QE(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){A("Reference.setWithPriority",2,3,arguments.length),De("Reference.setWithPriority","onComplete",i,!0);let r=YE(this._delegate,t,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){A("Reference.remove",0,1,arguments.length),De("Reference.remove","onComplete",t,!0);let n=KE(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){A("Reference.transaction",1,3,arguments.length),De("Reference.transaction","transactionUpdate",t,!1),De("Reference.transaction","onComplete",n,!0),gV("Reference.transaction","applyLocally",i,!0);let r=v1(this._delegate,t,{applyLocally:i}).then(o=>new s_(o.committed,new Ki(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(t,n){A("Reference.setPriority",1,2,arguments.length),De("Reference.setPriority","onComplete",n,!0);let i=qE(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){A("Reference.push",0,2,arguments.length),De("Reference.push","onComplete",n,!0);let i=WE(this._delegate,t),r=i.then(s=>new e(this.database,s));n&&r.then(()=>n(null),s=>n(s));let o=new e(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return st("Reference.onDisconnect",this._delegate._path),new o_(new xu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var qi=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:u1,forceLongPolling:d1}}useEmulator(t,n,i={}){h1(this._delegate,t,n,i)}ref(t){if(A("database.ref",0,1,arguments.length),t instanceof In){let n=Jm(this._delegate,t.toString());return new In(this,n)}else{let n=Zm(this._delegate,t);return new In(this,n)}}refFromURL(t){A("database.refFromURL",1,1,arguments.length);let i=Jm(this._delegate,t);return new In(this,i)}goOffline(){return A("database.goOffline",0,0,arguments.length),f1(this._delegate)}goOnline(){return A("database.goOnline",0,0,arguments.length),p1(this._delegate)}};qi.ServerValue={TIMESTAMP:m1(),increment:e=>_1(e)};function _V({app:e,url:t,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){Im(n);let a=new sd("database-standalone"),l=new ba("auth-internal",a);l.setComponent(new en("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new ba("app-check-internal",a),c.setComponent(new en("app-check-internal",()=>r,"PRIVATE"))),{instance:new qi(r_(e,l,c,t,s),e),namespace:o}}var vV=Object.freeze({__proto__:null,initStandalone:_V});var yV=qi.ServerValue;function bV(e){e.INTERNAL.registerComponent(new en("database-compat",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new qi(r,i)},"PUBLIC").setServiceProps({Reference:In,Query:td,Database:qi,DataSnapshot:Ki,enableLogging:g1,INTERNAL:vV,ServerValue:yV}).setMultipleInstances(!0)),e.registerVersion(hV,fV)}bV(Ue);function ga(e,t,n="on",i=sr){return new N(r=>{let o=null;return o=e[n](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(S(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),Vo())}function wV(e){return typeof e=="string"}function DV(e){return typeof e.exportVal=="function"}function E1(e){return e==null}function I1(e){return typeof e.set=="function"}function b1(e,t){return I1(t)?t:e.ref(t)}function T1(e,t){if(wV(e))return t.stringCase();if(I1(e))return t.firebaseCase();if(DV(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function S1(e){return(E1(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function M1(e,t,n){t=S1(t);let i=t.map(r=>ga(e,r,"on",n));return gi(...i)}function CV(e,t,n){let i=M1(e,t).pipe(hr((r,o)=>[...r,o],[]));return IV(e,i,n)}function EV(e,t){return ga(e,"value","on",t).pipe(S(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function IV(e,t,n){return EV(e,n).pipe(fr(t),S(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),kd(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),S(r=>r.actions))}function w1(e,t){return function(i,r){return T1(i,{stringCase:()=>e.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function TV(e){return function(n){return n?T1(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function SV(e,t,n){return ga(e,"value","once",n).pipe(ie(i=>{let r=[C(i)];return t.forEach(o=>r.push(ga(e,o,"on",n))),gi(...r).pipe(hr(AV,[]))}),Qa())}function A1(e,t){let n=e.length;for(let i=0;i<n;i++)if(e[i].payload.key===t)return i;return-1}function MV(e,t){if(E1(t))return 0;{let n=A1(e,t);return n===-1?e.length:n+1}}function AV(e,t){let{payload:n,prevKey:i,key:r}=t,o=A1(e,r),s=MV(e,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(i==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function D1(e,t,n){return t=S1(t),SV(e,t,n)}function NV(e,t){let n=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:w1(i,"update"),set:w1(i,"set"),push:r=>i.push(r),remove:TV(i),snapshotChanges(r){return D1(e,r,n).pipe(Cn)},stateChanges(r){return M1(e,r,n).pipe(Cn)},auditTrail(r){return CV(e,r,n).pipe(Cn)},valueChanges(r,o){return D1(e,r,n).pipe(S(a=>a.map(l=>o&&o.idField?U(y({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),Cn)}}}function C1(e,t){return function(){return ga(e,"value","on",t)}}function RV(e,t){return{query:e,snapshotChanges(){return C1(e,t.schedulers.outsideAngular)().pipe(Cn)},update(n){return e.ref.update(n)},set(n){return e.ref.set(n)},remove(){return e.ref.remove()},valueChanges(){return C1(e,t.schedulers.outsideAngular)().pipe(Cn,S(i=>i.payload.exists()?i.payload.val():null))}}}var OV=new w("angularfire2.realtimeDatabaseURL"),xV=new w("angularfire2.database.use-emulator"),kV=(()=>{class e{schedulers;database;constructor(n,i,r,o,s,a,l,c,u,d,h,f,p,m,b){this.schedulers=a;let T=l,j=Fs(n,s,i);c&&dg(j,s,u,h,f,p,d,m),this.database=cu(`${j.name}.database.${r}`,"AngularFireDatabase",j.name,()=>{let E=s.runOutsideAngular(()=>j.database(r||void 0));return T&&E.useEmulator(...T),E},[T])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>b1(this.database,n)),o=r;return i&&(o=i(r)),NV(o,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>b1(this.database,n));return RV(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||e)(_(uo),_(ho,8),_(OV,8),_(ke),_(P),_(su),_(xV,8),_(hg,8),_(og,8),_(sg,8),_(ag,8),_(lg,8),_(cg,8),_(ug,8),_(Vi,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),N1=(()=>{class e{constructor(){Ue.registerVersion("angularfire",ji.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=F({providers:[kV]})}return e})();var R1={production:!0,firebaseConfig:{apiKey:"AIzaSyAmlcOounhaBd9fMyFjs1oM2NJNaSpDuPs",authDomain:"frontenddolgozat2025-01-17.firebaseapp.com",projectId:"frontenddolgozat2025-01-17",storageBucket:"frontenddolgozat2025-01-17.firebasestorage.app",messagingSenderId:"55793260465",appId:"1:55793260465:web:3995cc2b624d8eb736cf90"}};var nd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=L({type:e,bootstrap:[ru]});static \u0275inj=F({providers:[Qb()],imports:[ow,eu,GD,bD,sC.initializeApp(R1.firebaseConfig),N1,aC]})};rw().bootstrapModule(nd,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
